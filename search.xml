<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>【游戏开发】bystand 的项目总结</title>
      <link href="//post/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94bystand%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93.html"/>
      <url>//post/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94bystand%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93.html</url>
      
        <content type="html"><![CDATA[<p>第一款3D游戏，所以是跟着视频学着做并进行自己的修改，该项目并未完成，记录下来单机状态，因为接下来该游戏将采用PUN2进行联机（或者是socket，但是决定从简入繁，先用PUN2）</p><h2 id="游戏实录"><a href="#游戏实录" class="headerlink" title="游戏实录"></a><strong>游戏实录</strong></h2><ul><li><h4 id="ui界面："><a href="#ui界面：" class="headerlink" title="ui界面："></a>ui界面：</h4></li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220828405.webp" alt=""></p><ul><li><h4 id="换弹："><a href="#换弹：" class="headerlink" title="换弹："></a>换弹：</h4></li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220828457.webp" alt=""></p><ul><li><h4 id="展示："><a href="#展示：" class="headerlink" title="展示："></a>展示：</h4></li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220828503.webp" alt=""></p><ul><li><h4 id="开火："><a href="#开火：" class="headerlink" title="开火："></a>开火：</h4></li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220828557.webp" alt=""></p><ul><li><h4 id="瞄准："><a href="#瞄准：" class="headerlink" title="瞄准："></a>瞄准：</h4></li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220828607.webp" alt=""></p><ul><li><h4 id="奔跑："><a href="#奔跑：" class="headerlink" title="奔跑："></a>奔跑：</h4></li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220828655.webp" alt=""></p><h2 id="功能实现："><a href="#功能实现：" class="headerlink" title="功能实现："></a><strong>功能实现：</strong></h2><h4 id="1-移动："><a href="#1-移动：" class="headerlink" title="1. 移动："></a><strong>1. 移动：</strong></h4><p>FPS游戏与前一款2D的跳跃游戏就不同了，在这里我们用到了与以往并不相同的<strong>Character Controller</strong>，其实我们实现角色控制有大概三种，第一种是在i wanna中使用的<strong>Rigid body刚体+Capsule</strong>，第二种是这次使用的<strong>Character Controller</strong>，第三种是我还没怎么用过的<strong>Transform Translate</strong>。</p><p>第三种<strong>Transform Translate</strong>，第三种如名字所示，是直接移动物理的当前位置，所以它没有物理碰撞（没有写之前）只允许物体移动，甚至穿墙<br>第二种<strong>Character Controller</strong>也拥有自带碰撞，提供的API相较于刚体组件更多，但不能与physics objects进行互动了，但是可以通过代码实现滞空等功能，以及slope线性插入等功能<br>第一种<strong>Rigid body</strong>刚体组件是一种符合物理学的控制器，不会穿墙，也不会滞空，可以跟物理physics等进行互动，比如上次写的射线检测</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220828702.webp" alt=""></p><pre class="line-numbers language-none"><code class="language-none">public void Movement()&#x2F;&#x2F;移动&#123;    float h &#x3D; Input.GetAxisRaw(&quot;Horizontal&quot;);&#x2F;&#x2F;以前说过，记得+raw    float v &#x3D; Input.GetAxisRaw(&quot;Vertical&quot;);    isRun &#x3D; Input.GetKey(runInputName);&#x2F;&#x2F;按键绑定    isW &#x3D; Input.GetKey(KeyCode.W);        isRunning &#x3D; isRun &amp;&amp; isW;&#x2F;&#x2F;奔跑    isWalk &#x3D; (Mathf.Abs(v) &gt; 0 || Mathf.Abs(h) &gt; 0) ? true : false;&#x2F;&#x2F;走路    playerSpeed &#x3D; (isRunning) ? runSpeed : walkSpeed;&#x2F;&#x2F;三元运算符，可以用ifelse，但应该只有w前进时加速        moveDirction &#x3D; (transform.right * h + transform.forward * v).normalized;&#x2F;&#x2F;给予物体移动方向并标准化为1    Jump();        if (isGrounded &amp;&amp; jumpDirction.y&lt;0)&#x2F;&#x2F;坡上给予重力    &#123;        jumpDirction.y &#x3D; -40f;        &#125;    else    &#123;     jumpDirction.y +&#x3D; gravity * Time.deltaTime;&#x2F;&#x2F;不在地面就给予重力    &#125;    characterController.Move((moveDirction * playerSpeed + jumpDirction) * Time.deltaTime);&#x2F;&#x2F;将移动速度与方向结合进行移动    PlayerSound();&#125;public void Jump()&#x2F;&#x2F;跳跃&#123;    isJump &#x3D; Input.GetButtonDown(&quot;Jump&quot;);&#x2F;&#x2F;按键绑定    if (isJump &amp;&amp; isGrounded)    &#123;        jumpDirction.y &#x3D; Mathf.Sqrt(jumpHeight * -2f * gravity);&#x2F;&#x2F;纳米物理！小子！高度与速度的关系！    &#125;&#125;public void CheckGround()&#x2F;&#x2F;地面检测&#123;    &#x2F;&#x2F;在此点创造一个半径指定的球面，与之前的射线检测不同，如果与mask层的任何东西发生碰撞，都为true    isGrounded &#x3D; Physics.CheckSphere(groundCheck.position,groundDistance,groundMask);&#125;public void PlayerSound()&#x2F;&#x2F;跑步与走路音效的播放&#123;    if(isGrounded &amp;&amp; moveDirction.sqrMagnitude &gt; 0.9f)    &#123;        audioSource.clip &#x3D; isRunning ? runingSound : walkingSound;        if(!audioSource.isPlaying)        &#123;            audioSource.Play();        &#125;    &#125;    else    &#123;        if (audioSource.isPlaying)        &#123;            audioSource.Stop();        &#125;    &#125;&#125;</code></pre><p>这里我们的地面检测进行了更换，并不是射线判断，而是创造一个不可见球体，如果碰撞到地板层，则判定为地面，并且后续要增加土狼时间（离开地面短时间内允许跳跃等操作），至于为什么我们需要增加坡度重力，是因为charater的move函数是根据上一帧的状态来进行移动的，那么如果我们在坡上，我们受到的重力是不存在的，为了避免在坡上的开始移动会导致往下走时的悬空，所以我们要给予固定重力。外加经典的声音播放</p><h4 id="2-UI设置："><a href="#2-UI设置：" class="headerlink" title="2. UI设置："></a><strong>2. UI设置：</strong></h4><p>对于现在的游戏，在未开始多人联机时，只需要准星，子弹数，射击模式的UI即可</p><pre class="line-numbers language-none"><code class="language-none">[Header(&quot;UI设置&quot;)]    public Image CrossHairUI;&#x2F;&#x2F;准心UI    public Text AmmoTextUI;&#x2F;&#x2F;子弹备量UI    public Text ShootModelTextUI;&#x2F;&#x2F;射击模式UI     [Header(&quot;射击设置&quot;)]    public int bulletLeft &#x3D; 240;&#x2F;&#x2F;子弹备弹    public int currentBullets;&#x2F;&#x2F;剩余子弹数量    private bool GunShootInput;&#x2F;&#x2F;射击操作判断    public float fireRate;&#x2F;&#x2F;射击速度 public void UpdateUI()&#x2F;&#x2F;子弹剩余数UI    &#123;        AmmoTextUI.text &#x3D; currentBullets + &quot;&#x2F;&quot; + bulletLeft;        ShootModelTextUI.text &#x3D; shootName;    &#125;void Update()    &#123;        if(Input.GetKeyDown(swtichModel) &amp;&amp; ModeNum &#x3D;&#x3D; 0)        &#123;            ModeNum &#x3D; 1;            shootName &#x3D; &quot;全自动&quot;;            shootingMode &#x3D; ShootMode.AutoFire;            ShootModelTextUI.text &#x3D; shootName;        &#125;        else if(Input.GetKeyDown(swtichModel) &amp;&amp; ModeNum &#x3D;&#x3D; 1)        &#123;                  ModeNum &#x3D; 0;            shootName &#x3D; &quot;半自动&quot;;            shootingMode &#x3D; ShootMode.SemiGun;            ShootModelTextUI.text &#x3D; shootName;        &#125;                switch(shootingMode)        &#123;            case ShootMode.AutoFire:                GunShootInput &#x3D; Input.GetMouseButton(0);                fireRate &#x3D; 0.1f;                break;            case ShootMode.SemiGun:                GunShootInput &#x3D; Input.GetMouseButtonDown(0);                fireRate &#x3D; 0.3f;                break;        &#125;&#125;</code></pre><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220828205.webp" alt=""></p><h4 id="3-射击："><a href="#3-射击：" class="headerlink" title="3. 射击："></a><strong>3. 射击：</strong></h4><p>我们射击是发出一条射线，也就是raycast，设置好射击方向，射击点即可，同时用计时器来控制武器射速，射击时有火光特效，弹孔生成，命中特效，动画设置。</p><pre class="line-numbers language-none"><code class="language-none">public PlayerMovement PM;&#x2F;&#x2F;引用人物，获取当前人物状态private Animator anim;&#x2F;&#x2F;动画状态机private AnimatorStateInfo Animatorinfo;&#x2F;&#x2F;读取动画private Camera GunCamera;public Transform casingSpawnPoint;&#x2F;&#x2F;弹壳抛出位置public Transform casingPrefab;&#x2F;&#x2F;子弹壳预制体[Header(&quot;射击设置&quot;)]public Transform shooterPoint;&#x2F;&#x2F;射击位置private Vector3 shootDirection;&#x2F;&#x2F;射击向量private RaycastHit hit;&#x2F;&#x2F;射击点public int buttetsMag &#x3D; 30;&#x2F;&#x2F;一个弹匣子弹数量public int range &#x3D; 100;&#x2F;&#x2F;武器射程public int bulletLeft &#x3D; 240;&#x2F;&#x2F;子弹备弹public int currentBullets;&#x2F;&#x2F;剩余子弹数量private bool GunShootInput;&#x2F;&#x2F;射击操作判断public float fireRate;&#x2F;&#x2F;射击速度private float fireTimer &#x3D; 0f;&#x2F;&#x2F;计时器private int BullectToload;&#x2F;&#x2F;计算需要填装子弹数[Header(&quot;判断条件&quot;)]private bool noShoot;&#x2F;&#x2F;不允许射击条件判断private bool isAiming;&#x2F;&#x2F;瞄准判断[Header(&quot;键位设置&quot;)][SerializeField][Tooltip(&quot;换弹按键&quot;)] private KeyCode reloading &#x3D; KeyCode.R;&#x2F;&#x2F;换弹键[Tooltip(&quot;检视按键&quot;)] private KeyCode inspect &#x3D; KeyCode.N;&#x2F;&#x2F;检视键[Tooltip(&quot;模式切换按键&quot;)] private KeyCode swtichModel &#x3D; KeyCode.B;&#x2F;&#x2F;射击模式切换按键[Header(&quot;特效设置&quot;)]public ParticleSystem muzzleFlash;&#x2F;&#x2F;枪口火焰特效public Light muzzleFlashLight;&#x2F;&#x2F;枪口火焰灯光public GameObject hitParticle;&#x2F;&#x2F;子弹击中粒子特效public GameObject bullectHole;&#x2F;&#x2F;弹孔[Header(&quot;音频设置&quot;)][SerializeField]private AudioSource audioSource;public AudioClip AK47soundClip;&#x2F;&#x2F;AK47射击音效片段public AudioClip AllReloadingClip;&#x2F;&#x2F;空仓换弹public AudioClip ReloadingClip;&#x2F;&#x2F;普通换弹public enum ShootMode &#123; AutoFire , SemiGun &#125;;public ShootMode shootingMode;private int ModeNum &#x3D; 1;&#x2F;&#x2F;模式切换的中间参数，1全自动，2半自动private string shootName;void Update()&#123;    if(GunShootInput &amp;&amp; currentBullets &gt; 0)&#x2F;&#x2F;射击操作    &#123;        GunFire();    &#125;    else    &#123;        muzzleFlashLight.enabled &#x3D; false;&#x2F;&#x2F;武器闪光    &#125;    Animatorinfo &#x3D; anim.GetCurrentAnimatorStateInfo(0);&#x2F;&#x2F;动画检测    if(Animatorinfo.IsName(&quot;reload_ammo_left&quot;)||Animatorinfo.IsName(&quot;reload_out_of_ammo&quot;)||Animatorinfo.IsName(&quot;take_out&quot;))    &#123;        noShoot &#x3D; true;    &#125;    else    &#123;        noShoot &#x3D; false;    &#125;    if(fireTimer&lt;fireRate)    &#123;        fireTimer +&#x3D; Time.deltaTime;    &#125;&#125;public void GunFire()&#123;    &#x2F;&#x2F;如果射速不到，那么就直接跳出射击代码命令，减少每帧执行射线次数或者没有子弹直接不允许进行射击    if (fireTimer&lt;fireRate|| noShoot || PM.isRunning)&#123;return;&#125;&#x2F;&#x2F;这里还需修改，应当在玩家开始射击动作后就不允许奔跑了    shootDirection &#x3D; shooterPoint.forward;&#x2F;&#x2F;射击方向    if(Physics.Raycast(shooterPoint.position, shootDirection, out hit, range))&#x2F;&#x2F;射线点，射线方向，大小    &#123;        &#x2F;&#x2F;实例化的效果，比上次的优化是能在打击点产生特效,这里后期要学习欧拉角与openGL        GameObject hitParticleEffect &#x3D; Instantiate(hitParticle, hit.point, Quaternion.FromToRotation(Vector3.up,hit.normal));        &#x2F;&#x2F;实例出弹孔特效        GameObject bullectHoleEffect &#x3D; Instantiate(bullectHole, hit.point, Quaternion.FromToRotation(Vector3.up, hit.normal));        &#x2F;&#x2F;特效定时回收        Destroy(hitParticleEffect, 1f);        Destroy(bullectHoleEffect, 3f);    &#125;    if(!isAiming)    &#123;        anim.CrossFadeInFixedTime(&quot;fire&quot;, 0.1f);&#x2F;&#x2F;未瞄准下的开火动画    &#125;    else    &#123;        anim.CrossFadeInFixedTime(&quot;aim_fire&quot;, 0.1f);&#x2F;&#x2F;瞄准状态下开火动画    &#125;    Instantiate(casingPrefab, casingSpawnPoint.transform.position, casingSpawnPoint.transform.rotation);&#x2F;&#x2F;生成弹壳弹出    GunSound();&#x2F;&#x2F;播放射击音效    muzzleFlash.Play();&#x2F;&#x2F;播放火光特效    muzzleFlashLight.enabled &#x3D; true;&#x2F;&#x2F;播放灯光特效    currentBullets--;    UpdateUI();    fireTimer &#x3D; 0f;&#x2F;&#x2F;如果完成了射击，那么重置计时器&#125;</code></pre><h4 id="4-换弹及瞄准："><a href="#4-换弹及瞄准：" class="headerlink" title="4. 换弹及瞄准："></a><strong>4. 换弹及瞄准：</strong></h4><p>换弹动画有空仓换弹与余弹换弹，瞄准时中间视野会变大，并且要对ui进行更新</p><pre class="line-numbers language-none"><code class="language-none">void Update()&#123;     if(Input.GetKeyDown(reloading) &amp;&amp; currentBullets &lt; buttetsMag &amp;&amp; bulletLeft &gt; 0)&#x2F;&#x2F;换弹动画     &#123;         RelodingAmmo();     &#125;     aiming();&#125;    public void RelodingAmmo()&#x2F;&#x2F;换弹逻辑    &#123;        if(bulletLeft &lt;&#x3D; 0)        &#123;            return;        &#125;        ReloadingAnim();        &#x2F;&#x2F;计算需要换弹数量        BullectToload &#x3D; buttetsMag - currentBullets;        &#x2F;&#x2F;计算真正装填数量        BullectToload &#x3D; (bulletLeft &gt;&#x3D; BullectToload) ? BullectToload : bulletLeft;        &#x2F;&#x2F;弹匣减少，弹药补充        bulletLeft -&#x3D; BullectToload;        currentBullets +&#x3D; BullectToload;        UpdateUI();&#x2F;&#x2F;更新UI    &#125;            public void ReloadingAnim()&#x2F;&#x2F;装弹动画    &#123;        if(currentBullets &gt; 0)        &#123;            anim.Play(&quot;reload_ammo_left&quot;,0,0);&#x2F;&#x2F;动画也有层次，可以后续了解,并且换弹时不允许开枪            audioSource.clip &#x3D; ReloadingClip;            audioSource.Play();        &#125;        if(currentBullets &#x3D;&#x3D; 0)        &#123;            anim.Play(&quot;reload_out_of_ammo&quot;, 0, 0);            audioSource.clip &#x3D; AllReloadingClip;            audioSource.Play();        &#125;    &#125;        public void aiming()&#x2F;&#x2F;瞄准动作    &#123;        if(Input.GetMouseButton(1) &amp;&amp; !noShoot &amp;&amp; !PM.isRunning)        &#123;            isAiming &#x3D; true;            anim.SetBool(&quot;Aim&quot;, true);&#x2F;&#x2F;动画变动            CrossHairUI.gameObject.SetActive(false);&#x2F;&#x2F;准星消失            GunCamera.fieldOfView &#x3D; 25;&#x2F;&#x2F;瞄准时视野变小,后续进行视野渐变与动画优化        &#125;        else        &#123;            isAiming &#x3D; false;            anim.SetBool(&quot;Aim&quot;, false);            CrossHairUI.gameObject.SetActive(true);            GunCamera.fieldOfView &#x3D; 60;&#x2F;&#x2F;瞄准时视野变小        &#125;   &#125;</code></pre><h4 id="5-相机跟随与手部摇摆："><a href="#5-相机跟随与手部摇摆：" class="headerlink" title="5. 相机跟随与手部摇摆："></a><strong>5. 相机跟随与手部摇摆：</strong></h4><p>首先我们要让主相机绑定在player下才能够进行跟随，相机主要由鼠标控制，我们还要限制玩家y轴旋转角度，避免玩家可以让头转360度以上。手部摇摆的方式就是在鼠标移动时对手部进行位置反移动与回正。</p><p>相机跟随：</p><pre class="line-numbers language-none"><code class="language-none">public float spinSensitivity &#x3D; 100f;&#x2F;&#x2F;视觉灵敏度public Transform playerPosition;&#x2F;&#x2F;玩家当前位置private float Yratation &#x3D; 0f;&#x2F;&#x2F; Start is called before the first frame updatevoid Start()&#123;    Cursor.lockState &#x3D; CursorLockMode.Locked;    &#125;&#x2F;&#x2F; Update is called once per framevoid Update()&#123;    float mouseX &#x3D; Input.GetAxis(&quot;Mouse X&quot;) * spinSensitivity * Time.deltaTime;    float mouseY &#x3D; Input.GetAxis(&quot;Mouse Y&quot;) * spinSensitivity * Time.deltaTime;    Yratation -&#x3D; mouseY; &#x2F;&#x2F;因为垂直视角并不应该是瞬间给予，而是需要累计加    Yratation &#x3D; Mathf.Clamp(Yratation, -89f, 89f);&#x2F;&#x2F;限定可视范围的，避免人物异种化（向上抬头90，向下低头90）    transform.localRotation &#x3D; Quaternion.Euler(Yratation, 0f, 0f);&#x2F;&#x2F;玩家纵向旋转控制，其实也就是摄像机的变化？这里存疑    playerPosition.Rotate(Vector3.up * mouseX);&#x2F;&#x2F;up是坐标轴（0,1,0）的简写，实际控制的是玩家的横向旋转&#125;</code></pre><p>手部摇摆：</p><pre class="line-numbers language-none"><code class="language-none">public float amout;&#x2F;&#x2F;摇摆幅度public float smoothAmout;&#x2F;&#x2F;摇摆平滑值public float maxAmout;&#x2F;&#x2F;最大摇摆幅度[SerializeField]public Vector3 originPosition;&#x2F;&#x2F;获取手臂初始位置public Vector3 armposition;&#x2F;&#x2F;变化后的位置&#x2F;&#x2F; Start is called before the first frame updatevoid Start()&#123;    originPosition &#x3D; transform.localPosition;&#x2F;&#x2F;localposition是当前子集位置（相当于父级物体的变换位置），但是position就是父级的坐标位置&#125;&#x2F;&#x2F; Update is called once per framevoid Update()&#123;    &#x2F;&#x2F;获取鼠标轴值（变化值）    float moveX &#x3D; -Input.GetAxis(&quot;Mouse X&quot;) * amout;    float moveY &#x3D; -Input.GetAxis(&quot;Mouse Y&quot;) * amout;    &#x2F;&#x2F;限制    Mathf.Clamp(moveX, -maxAmout, maxAmout);    Mathf.Clamp(moveY, -maxAmout, maxAmout);    &#x2F;&#x2F;获取鼠标目的位置    armposition &#x3D;  new Vector3(moveX, moveY, 0);    &#x2F;&#x2F;手臂位置变化    &#x2F;&#x2F;lerp的作用是从a点到b点进行a+（b-a）*t的算法，t为0，就是a点，t为1，就是b点，t为0.5，就是a到b的一半，也就是说    &#x2F;&#x2F;从a到b进行线性插值变化    transform.localPosition &#x3D; Vector3.Lerp(transform.localPosition , armposition + originPosition , Time.deltaTime * smoothAmout);&#125;</code></pre><h2 id="结束语："><a href="#结束语：" class="headerlink" title="结束语："></a><strong>结束语：</strong></h2><h4 id="这次的FPS游戏是个比较大的尝试，宛如大海行舟，要学会联机操作与新控制器的学习，倍镜的制作也没有制作完善并不是很满意，然后自己武器位置原本调整好了结果因为动画瞄准位置不对导致自己后期修改不满意，所以unity动画制作也应该提上日程，让动画随自己心意而动。"><a href="#这次的FPS游戏是个比较大的尝试，宛如大海行舟，要学会联机操作与新控制器的学习，倍镜的制作也没有制作完善并不是很满意，然后自己武器位置原本调整好了结果因为动画瞄准位置不对导致自己后期修改不满意，所以unity动画制作也应该提上日程，让动画随自己心意而动。" class="headerlink" title="这次的FPS游戏是个比较大的尝试，宛如大海行舟，要学会联机操作与新控制器的学习，倍镜的制作也没有制作完善并不是很满意，然后自己武器位置原本调整好了结果因为动画瞄准位置不对导致自己后期修改不满意，所以unity动画制作也应该提上日程，让动画随自己心意而动。"></a>这次的FPS游戏是个比较大的尝试，宛如大海行舟，要学会联机操作与新控制器的学习，倍镜的制作也没有制作完善并不是很满意，然后自己武器位置原本调整好了结果因为动画瞄准位置不对导致自己后期修改不满意，所以unity动画制作也应该提上日程，让动画随自己心意而动。</h4><h4 id="还有就是坡度其实做的很简陋，准确来说我应当是要用到slopeangle获取角度来及进行其他操作，例如爬坡减速，下坡加速，所以对于坡度不是很满意。还有就是OKR中仍有许多并未完成，例如丢雷，近战刀，换枪，切枪，滑铲，网络联机知识等许多都未完成"><a href="#还有就是坡度其实做的很简陋，准确来说我应当是要用到slopeangle获取角度来及进行其他操作，例如爬坡减速，下坡加速，所以对于坡度不是很满意。还有就是OKR中仍有许多并未完成，例如丢雷，近战刀，换枪，切枪，滑铲，网络联机知识等许多都未完成" class="headerlink" title="还有就是坡度其实做的很简陋，准确来说我应当是要用到slopeangle获取角度来及进行其他操作，例如爬坡减速，下坡加速，所以对于坡度不是很满意。还有就是OKR中仍有许多并未完成，例如丢雷，近战刀，换枪，切枪，滑铲，网络联机知识等许多都未完成"></a>还有就是坡度其实做的很简陋，准确来说我应当是要用到slopeangle获取角度来及进行其他操作，例如爬坡减速，下坡加速，所以对于坡度不是很满意。还有就是OKR中仍有许多并未完成，例如丢雷，近战刀，换枪，切枪，滑铲，网络联机知识等许多都未完成</h4><h4 id="所以临近开学时情绪并不好，自我批判与现实不如意比较多，自己也需要时间缓过来继续做下去，这一个学期将会是最忙的学期，继续前进"><a href="#所以临近开学时情绪并不好，自我批判与现实不如意比较多，自己也需要时间缓过来继续做下去，这一个学期将会是最忙的学期，继续前进" class="headerlink" title="所以临近开学时情绪并不好，自我批判与现实不如意比较多，自己也需要时间缓过来继续做下去，这一个学期将会是最忙的学期，继续前进"></a>所以临近开学时情绪并不好，自我批判与现实不如意比较多，自己也需要时间缓过来继续做下去，这一个学期将会是最忙的学期，继续前进</h4>]]></content>
      
      
      <categories>
          
          <category> 游戏开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏开发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【游戏开发】i wanna be the shy 的项目总结</title>
      <link href="//post/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94i-wanna-be-the-shy-%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93.html"/>
      <url>//post/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94i-wanna-be-the-shy-%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93.html</url>
      
        <content type="html"><![CDATA[<h1 id="i-wanna-be-the-shy"><a href="#i-wanna-be-the-shy" class="headerlink" title="i wanna be the shy"></a>i wanna be the shy</h1><p>这是一款横版跳跃过关游戏<br>游戏规则：←→移动，shift/space跳跃，可供跳跃次数为2，射击Z，存档方法为射击存档点，R重新开始游戏，P重新回到当前场景起点开始游戏。</p><h2 id="游戏实录："><a href="#游戏实录：" class="headerlink" title="游戏实录："></a><strong>游戏实录：</strong></h2><ul><li><h4 id="跳跃："><a href="#跳跃：" class="headerlink" title="跳跃："></a>跳跃：</h4></li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302211427271.webp" alt=""></p><ul><li><h4 id="存档点："><a href="#存档点：" class="headerlink" title="存档点："></a>存档点：</h4></li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/1649663950-519699-1n3gr99bxjk-rf-at-fg3vp.webp" alt=""></p><ul><li><h4 id="陷阱："><a href="#陷阱：" class="headerlink" title="陷阱："></a>陷阱：</h4></li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/1649664006-593193-jrw55jr-g3z81av70s.webp" alt=""></p><ul><li><h4 id="死亡："><a href="#死亡：" class="headerlink" title="死亡："></a>死亡：</h4></li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/1649664043-446725-opmx-v4i19d89htpveo.webp" alt=""></p><ul><li><h4 id="关卡切换："><a href="#关卡切换：" class="headerlink" title="关卡切换："></a>关卡切换：</h4></li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/1649664091-164862-2knk-at-sh8d65xc6n4g17.webp" alt=""></p><ul><li><h4 id="BOSS战："><a href="#BOSS战：" class="headerlink" title="BOSS战："></a>BOSS战：</h4></li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/1649664827-176275-qv46jllbjkf-at-z2ytd.webp" alt=""></p><ul><li><h4 id="全局音效音乐控制："><a href="#全局音效音乐控制：" class="headerlink" title="全局音效音乐控制："></a>全局音效音乐控制：</h4></li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/1649664473-212022-n-gwno8pc5qbzgul4g.webp" alt=""></p><h2 id="功能实现："><a href="#功能实现：" class="headerlink" title="功能实现："></a>功能实现：</h2><h3 id="1-地图编辑以及逻辑："><a href="#1-地图编辑以及逻辑：" class="headerlink" title="1. 地图编辑以及逻辑："></a>1. 地图编辑以及逻辑：</h3><p>对于一款跳跃游戏，最基础的便是地图制作，制作好地图逻辑我们才能够进一步实现我们的跳跃功能。所以在unity的学习中，通过瓦片式地图，摄像机size，分辨率大小，地图分层，即可作出一款像素类型的地图。<br>（size：摄像区域纵向的一半有多少个单位长度。由我的地图举例，现在分辨率为750*570，我要求竖格有19格，那么一半就是9.5格，size函数就填入9.5）</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/1649665974-502684-image.webp" alt=""></p><h3 id="2-人物逻辑"><a href="#2-人物逻辑" class="headerlink" title="2. 人物逻辑"></a>2. 人物逻辑</h3><p>对于玩家操控的kid，他是拥有一定逻辑的，首先在i wanna游戏中是有重力的，那么我们需要给予kid刚体组件，对其及进行操作，然后还有动画的实现，跳跃，移动，落下的动画切换。对kid的操作（跳跃，射击）也是需要通过函数进行实现的。</p><ul><li><h4 id="地面判定"><a href="#地面判定" class="headerlink" title="地面判定"></a>地面判定</h4></li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302211437084.webp" alt=""></p><p>我们对于地面判定的实现是通过unity中的射线进行实现的，以kid当前坐标生成两条线，贴近刚体两端，只要线能够碰到我们的地板层，那么我们此时的动画就应该是原地动画（除非有移动动画覆盖）。</p><pre class="line-numbers language-none"><code class="language-none">private bool IsFloored()&#x2F;&#x2F;地面判断函数    &#123;        Vector3 leftVec &#x3D; transform.position;&#x2F;&#x2F;左侧射线探测        leftVec.x &#x3D; transform.position.x-0.25f;        Debug.DrawRay(leftVec, Vector2.down, Color.green);&#x2F;&#x2F;射线检测功能，从start起始位置绘制一条color颜色的线，持续时间为duration，如果为0线会出现一帧，方向为2D的下方        RaycastHit2D lefthit &#x3D; Physics2D.Raycast(leftVec, Vector2.down, m_FloorCheckDistance, m_floorLayer);        Vector3 rightVec &#x3D; transform.position;&#x2F;&#x2F;右侧射线探测        rightVec.x &#x3D; transform.position.x + 0.25f;        Debug.DrawRay(rightVec, Vector2.down, Color.green);&#x2F;&#x2F;射线检测功能，从start起始位置绘制一条color颜色的线，持续时间为duration，如果为0线会出现一帧，方向为2D的下方        RaycastHit2D righthit &#x3D; Physics2D.Raycast(rightVec, Vector2.down, m_FloorCheckDistance, m_floorLayer);        if (lefthit.collider!&#x3D;null|| righthit.collider !&#x3D; null)        &#123;            m_jumpTimes &#x3D; 0;            return true;        &#125;        return false;    &#125;</code></pre><ul><li><h4 id="移动"><a href="#移动" class="headerlink" title="移动"></a>移动</h4></li></ul><p>对于基础的移动，首先要解决的就是人物朝向问题，这里我对x*-1即可翻转kid。</p><pre class="line-numbers language-none"><code class="language-none">private void Flip()&#x2F;&#x2F;水平翻转函数，人物面对方向    &#123;        m_FacingRight &#x3D; !m_FacingRight;        Vector3 scale &#x3D; transform.localScale;        scale.x *&#x3D; -1;        transform.localScale &#x3D; scale;    &#125;</code></pre><p>然后再写运动函数</p><pre class="line-numbers language-none"><code class="language-none">private void Move(float h)&#x2F;&#x2F;运动函数&#123;    m_isWall &#x3D; IsWalled(m_FacingRight?1:-1);&#x2F;&#x2F;如果是1，那就true，如果是-1，那就false    if (m_FacingRight)    &#123;        if (h &lt; 0)        &#123;            Flip();        &#125;        else if (m_isWall)&#x2F;&#x2F;改变动画为跑步动画        &#123;            m_anim.SetBool(&quot;run&quot;, false);            return;        &#125;    &#125;    else    &#123;        if (h &gt; 0)        &#123;            Flip();         &#125;        else if (m_isWall)&#x2F;&#x2F;改变动画为跑步动画        &#123;            m_anim.SetBool(&quot;run&quot;, false);            return;        &#125;    &#125;    Vector2 v &#x3D; m_body.velocity;    v.x &#x3D; h * m_Speed;    m_body.velocity &#x3D; v;&#x2F;&#x2F;赋值返回    m_anim.SetBool(&quot;run&quot;, !(h &#x3D;&#x3D; 0));&#x2F;&#x2F;意思即为，h&#x3D;0时，那么就说明我没在跑，h！&#x3D;0时，说明我在跑 &#125;</code></pre><ul><li><h4 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h4>我们也同时需要一套完整的动画逻辑来进行更改，比如我在任何时候都可以起跳。先在unity中插入动画并写好我们的相关逻辑。</li></ul><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302211436996.webp" alt=""></p><p>然后在代码中进行动画的捕获即可操作。</p><pre class="line-numbers language-none"><code class="language-none">private void Awake()    &#123;        m_audio &#x3D; gameObject.GetComponent&lt;SoundManager&gt;();        m_anim &#x3D; GetComponent&lt;Animator&gt;();        m_body &#x3D; GetComponent&lt;Rigidbody2D&gt;();        m_render &#x3D; GetComponent&lt;Renderer&gt;();    &#125;</code></pre><ul><li><h4 id="跳跃"><a href="#跳跃" class="headerlink" title="跳跃"></a>跳跃</h4>既然是一款横版跳跃过关游戏，那么跳跃的实现是必不可少的，对于原版游戏的还原，这里我做了二段跳以及大跳的实现。</li></ul><pre class="line-numbers language-none"><code class="language-none">public float m_CanJumpTime &#x3D; 0.2f;&#x2F;&#x2F;跳跃时间限定（大跳）private float m_JumpTimer;&#x2F;&#x2F;跳跃时间private bool m_isJumping;&#x2F;&#x2F;判断跳跃void jump()    &#123;        if(Input.GetButtonDown(&quot;Jump&quot;))        &#123;            if (m_onFloor)            &#123;                &#x2F;&#x2F;fjump_audio.Play();                SoundManager.instance.fJumpAudio();                m_jumpTimes &#x3D; 1;                m_isJumping &#x3D; true;&#x2F;&#x2F;跳跃中                m_JumpTimer &#x3D; 0f;&#x2F;&#x2F;跳跃时间                m_onFloor &#x3D; false;                m_vec.x &#x3D; m_body.velocity.x;                m_body.velocity &#x3D; m_vec;&#x2F;&#x2F;固定跳跃速度            &#125;            else if (m_jumpTimes &#x3D;&#x3D; 1)            &#123;                &#x2F;&#x2F;sjump_audio.Play();                SoundManager.instance.sJumpAudio();                m_jumpTimes &#x3D; 2;                m_isJumping &#x3D; true;                m_JumpTimer &#x3D; 0f;                m_onFloor &#x3D; false;                m_vec.x &#x3D; m_body.velocity.x;                m_body.velocity &#x3D; m_vec;&#x2F;&#x2F;固定跳跃速度            &#125;            else if (m_jumpTimes &#x3D;&#x3D; 0 &amp;&amp; !m_onFloor)            &#123;                &#x2F;&#x2F;sjump_audio.Play();                SoundManager.instance.sJumpAudio();                m_jumpTimes &#x3D; 2;                m_isJumping &#x3D; true;                m_JumpTimer &#x3D; 0f;                m_onFloor &#x3D; false;                m_vec.x &#x3D; m_body.velocity.x;                m_body.velocity &#x3D; m_vec;&#x2F;&#x2F;固定跳跃速度            &#125;        &#125;    &#125;</code></pre><ul><li><h4 id="射击"><a href="#射击" class="headerlink" title="射击"></a>射击</h4>射击的操作就比较简单了，不过我们要先在unity中写好一个子弹的预制体并赋予代码伤害。<br><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302211436049.webp" alt=""></li></ul><pre class="line-numbers language-none"><code class="language-none">public int bullet_damage &#x3D; 10;private void OnTriggerEnter2D(Collider2D collision)&#x2F;&#x2F;子弹伤害&#123;    &#x2F;&#x2F;if(collision.gameObject.layer)    collision.SendMessage(&quot;BeShoot&quot;, bullet_damage, SendMessageOptions.DontRequireReceiver);&#x2F;&#x2F;函数名，输出值，是否需要接收者    Destroy(gameObject);&#125;</code></pre><p>   然后在人物函数中写出shoot函数。</p><pre class="line-numbers language-none"><code class="language-none">if(Input.GetButtonDown(&quot;shoot&quot;))&#123;     GameObject obj &#x3D; Instantiate(pfb_bullet, transform.position, Quaternion.identity);     obj.GetComponent&lt;Rigidbody2D&gt;().velocity &#x3D; m_FacingRight ? bulletSpeed : -1 * bulletSpeed;&#125;</code></pre><p>在能收到伤害的对象上写好beshoot函数即可完成。</p><h3 id="3-游戏全局管理"><a href="#3-游戏全局管理" class="headerlink" title="3.游戏全局管理"></a>3.游戏全局管理</h3><ul><li><h4 id="存档点"><a href="#存档点" class="headerlink" title="存档点"></a>存档点</h4></li></ul><p>存档点操作其实很简单，重新构建场景，并且在你射击存档点后存入点位数据即可，还记得我们子弹会传的beshoot函数吗？我们将使用beshoot函数进行存档。</p><pre class="line-numbers language-none"><code class="language-none">void BeShoot(int k)    &#123;        PlayerPrefs.SetFloat(&quot;PlayerPosX&quot;, transform.position.x);&#x2F;&#x2F;保存玩家位置        PlayerPrefs.SetFloat(&quot;PlayerPosY&quot;, transform.position.y);        PlayerPrefs.SetFloat(&quot;PlayerPosZ&quot;, transform.position.z);        PlayerPrefs.SetFloat(&quot;CameraPosX&quot;, Camera.main.transform.position.x);&#x2F;&#x2F;保存摄像机位置        PlayerPrefs.SetFloat(&quot;CameraPosY&quot;, Camera.main.transform.position.y);        PlayerPrefs.SetFloat(&quot;CameraPosZ&quot;, Camera.main.transform.position.z);        m_spriteRenderer.sprite &#x3D; m_save_success;&#x2F;&#x2F;动画变化（红色变成绿色的存档画面）;    &#125;</code></pre><p>然后我们的存档功能就在全局中进行实现。</p><pre class="line-numbers language-none"><code class="language-none">if(Input.GetButtonDown(&quot;return&quot;))        &#123;            SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex);&#x2F;&#x2F;重新加载画面，也就是游戏重开            if(m_player &#x3D;&#x3D; null)&#x2F;&#x2F;按下后停下死亡音乐，然后继续开始播放刚刚的背景音乐            &#123;                SoundManager.instance.stopDeathAudio();                SoundManager.instance.StartLevelAudio();            &#125;        &#125;</code></pre><ul><li><h4 id="场景切换"><a href="#场景切换" class="headerlink" title="场景切换"></a>场景切换</h4></li></ul><p>在一个场景中我们初始时应该处于什么位置呢，这是一个需要进行记录的事情，所以我们将通过在每个场景存一个出生点位确认出生位置</p><pre class="line-numbers language-none"><code class="language-none">public SpriteRenderer wherePlayer;&#x2F;&#x2F;每个场景玩家应该出现的位置public GameObject m_player;&#x2F;&#x2F;玩家位置，便于存档点的存储与读取void Start()    &#123;        Vector3 vec&#x3D;Vector3.zero;        vec.x &#x3D; PlayerPrefs.GetFloat(&quot;CameraPosX&quot;, -0.5f);        vec.y &#x3D; PlayerPrefs.GetFloat(&quot;CameraPosY&quot;, 0.5f);        vec.z &#x3D; PlayerPrefs.GetFloat(&quot;CameraPosZ&quot;, -10);        Camera.main.transform.position &#x3D; vec;&#x2F;&#x2F;固定摄像机位置        vec.x &#x3D; PlayerPrefs.GetFloat(&quot;PlayerPosX&quot;, wherePlayer.transform.position.x);        vec.y &#x3D; PlayerPrefs.GetFloat(&quot;PlayerPosY&quot;, wherePlayer.transform.position.y);        vec.z &#x3D; PlayerPrefs.GetFloat(&quot;PlayerPosZ&quot;, 0);        m_player.transform.position &#x3D; vec;&#x2F;&#x2F;固定每个场景开始时出现位置    &#125;</code></pre><p>关卡切换在unity中十分的简单，只需要切换下一场景即可，那么我们给传送物件写一个场景切换。</p><pre class="line-numbers language-none"><code class="language-none">private void OnTriggerEnter2D(Collider2D collision)    &#123;        if (collision.tag &#x3D;&#x3D; &quot;Player&quot;)&#x2F;&#x2F;tag词条        &#123;            PlayerPrefs.DeleteAll();&#x2F;&#x2F;删除所有点位数据，进入下一场景时直接为该场景默认出生位置            SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex + 1);        &#125;    &#125;</code></pre><ul><li><h4 id="音效管理"><a href="#音效管理" class="headerlink" title="音效管理"></a>音效管理</h4>对于音效，我希望背景音乐是不会被删除的，只是暂停和继续播放，但是场景一旦重载就包括音乐一起删除了，可是如果不删除又会导致出现多个音乐一起播放，十分的吵闹，所以我们一开始就预制好一个全局的音乐播放类，并且使用单例输出，保护它不被删除的情况下又不新增多个音乐</li></ul><pre class="line-numbers language-none"><code class="language-none">public static SoundManager instance;&#x2F;&#x2F;提前加载好，以便外界直接调用函数    public AudioSource AudioSource;&#x2F;&#x2F;音效    public AudioSource backaudio;&#x2F;&#x2F;背景音乐    [SerializeField]    private AudioClip fjumpAudio, sjumpAudio, deathAudio, backAudio,bossAudio;&#x2F;&#x2F;私有数据但能被unity赋值    private void Awake()    &#123;        if (instance!&#x3D;null &amp;&amp; instance !&#x3D; this)        &#123;            Destroy(this.gameObject);&#x2F;&#x2F;避免多个不可删除的该组件出现，也就是单个个例            return;        &#125;        else        &#123;            instance &#x3D; this;        &#125;        DontDestroyOnLoad(gameObject);&#x2F;&#x2F;不允许删除，因为我需要保持音乐进度，切换场景，重新开始游戏都需要保存音乐        backaudio &#x3D; gameObject.AddComponent&lt;AudioSource&gt;();&#x2F;&#x2F;获取组件        AudioSource &#x3D; gameObject.AddComponent&lt;AudioSource&gt;();        backaudio.clip &#x3D; backAudio;        &#x2F;*GameObject[] objs &#x3D; GameObject.FindGameObjectsWithTag(&quot;music&quot;);        if (objs.Length &gt; 1)        &#123;            Destroy(this.gameObject);        &#125;*&#x2F;        instance.AudioSource.volume &#x3D; 0.7f;&#x2F;&#x2F;音量大小           instance.backaudio.volume &#x3D; 0.5f;        instance.backaudio.loop &#x3D; true;&#x2F;&#x2F;背景音乐循环播放        StartLevelAudio();&#x2F;&#x2F;开始时自动播放音乐    &#125;</code></pre><ul><li><h4 id="陷阱处理"><a href="#陷阱处理" class="headerlink" title="陷阱处理"></a>陷阱处理</h4>陷阱就十分简单了，制作一个触发器，直接给伤害物体赋予予一个向量和速度就可以实现。</li></ul><pre class="line-numbers language-none"><code class="language-none">public Rigidbody2D m_thorn;    public float speed &#x3D; 1400f;    private void OnTriggerEnter2D(Collider2D other)    &#123;        &#x2F;&#x2F;刺的向上移动        if (other.tag &#x3D;&#x3D; &quot;Player&quot;)        &#123;            print(&quot;success&quot;);            Vector2 v &#x3D; new Vector2(0, speed);            m_thorn.velocity &#x3D; v * Time.deltaTime;            Destroy(gameObject);        &#125;    &#125;</code></pre><h3 id="4-BOSS制作"><a href="#4-BOSS制作" class="headerlink" title="4.BOSS制作"></a>4.BOSS制作</h3><ul><li><h4 id="弹幕"><a href="#弹幕" class="headerlink" title="弹幕"></a>弹幕</h4>弹幕的攻击方式在这款游戏中我大体只实现了两种。<br>1.随机弹幕</li></ul><pre class="line-numbers language-none"><code class="language-none">void apple()&#x2F;&#x2F;右侧apple随机出现    &#123;         bulletSpeed &#x3D; new Vector2(10, 0);        float y &#x3D; Random.Range(-10.5f, 10.5f);        Vector3 pos &#x3D; new Vector3(11, y, transform.position.z);&#x2F;&#x2F;随机位置的生成预制体        GameObject obj &#x3D; Instantiate(pfb_bullet, pos, Quaternion.identity);        obj.GetComponent&lt;Rigidbody2D&gt;().velocity &#x3D; -1 * bulletSpeed;&#x2F;&#x2F;速度方向    &#125;</code></pre><p>2.跟踪弹幕</p><pre class="line-numbers language-none"><code class="language-none">void stalk()&#x2F;&#x2F;右侧追踪apple    &#123;        if(m_player !&#x3D; null)        &#123;            GameObject obj &#x3D; Instantiate(pfb_bullet, transform.position, Quaternion.identity);            bulletSpeed &#x3D; new Vector2(m_player.transform.position.x - obj.transform.position.x, m_player.transform.position.y - obj.transform.position.y);&#x2F;&#x2F;向量相减得到子弹方向向量            obj.GetComponent&lt;Rigidbody2D&gt;().velocity &#x3D; bulletSpeed * 0.7f;        &#125;    &#125;</code></pre><ul><li><h4 id="击中特效"><a href="#击中特效" class="headerlink" title="击中特效"></a>击中特效</h4>与子弹生成相同，不过此时我们不再需要给予向量，只是在boss身上随机生成特效，其实原本想做子弹射在哪儿哪儿生成特效点，但是还没有做出对象池所以读取不了每个子弹的坐标。</li></ul><pre class="line-numbers language-none"><code class="language-none">void BeShoot(int damage)&#x2F;&#x2F;被射中后的效果    &#123;        Vector3 blood ;        blood.x &#x3D; Random.Range(transform.position.x- 0.5f, transform.position.x + 0.5f);        blood.y &#x3D; Random.Range(transform.position.y - 7f, transform.position.y + 7f);        blood.z &#x3D; transform.position.z;        Instantiate(pfb_blood, blood, Quaternion.identity); &#x2F;&#x2F;生成特效        m_HP -&#x3D; damage;&#x2F;&#x2F;血量减少        EnemyHP.HealthCurrent &#x3D; m_HP;&#x2F;&#x2F;血量条更新1    &#125;    </code></pre><ul><li><h4 id="kid受伤闪烁（在boss战中拥有三条命）"><a href="#kid受伤闪烁（在boss战中拥有三条命）" class="headerlink" title="kid受伤闪烁（在boss战中拥有三条命）"></a>kid受伤闪烁（在boss战中拥有三条命）</h4>首先对于新手玩家肯定是需要无敌时间的，并且需要一定提示告诉玩家我的无敌时间剩余，于是想到了闪烁操作</li></ul><pre class="line-numbers language-none"><code class="language-none">void BeDamaged(int damage)&#x2F;&#x2F;受到伤害    &#123;        if(isInvincible&#x3D;&#x3D;false)        &#123;            m_HP -&#x3D; damage;        &#125;        if(m_HP&lt;&#x3D;0)        &#123;            &#x2F;&#x2F;玩家死亡            Destroy(gameObject);            ui_GameOverImage.SetActive(true);            SoundManager.instance.pauseLevelAudio();            SoundManager.instance.DeathAudio();            &#x2F;&#x2F;death_audio.Play();        &#125;        BlinkPlayer(blinkSeconds,blinkTime);    &#125;    void BlinkPlayer(int numBlinks,float seconds)&#x2F;&#x2F;闪烁操作    &#123;                StartCoroutine(DoBlinks(numBlinks,seconds));    &#125;    IEnumerator DoBlinks(int numBlinks, float seconds)&#x2F;&#x2F;无敌时间    &#123;        isInvincible &#x3D; true;         for (int i &#x3D;0; i&lt; numBlinks * 2; i++)        &#123;            m_render.enabled &#x3D; !m_render.enabled;            yield return new WaitForSeconds(seconds);        &#125;        m_render.enabled &#x3D; true;        isInvincible &#x3D; false;    &#125;</code></pre><p>github地址：<a href="https://github.com/zero2744338955/i-wanna-be-the-shy.git">https://github.com/zero2744338955/i-wanna-be-the-shy.git</a><br>游戏百度网盘地址：<a href="https://pan.baidu.com/s/1_ZpQD4rfiHzYjp1Gjy2ZYA">https://pan.baidu.com/s/1_ZpQD4rfiHzYjp1Gjy2ZYA</a><br>提取码：z137</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li><h3 id="未完善的点"><a href="#未完善的点" class="headerlink" title="未完善的点"></a>未完善的点</h3><ul><li>全屏子弹仅仅允许存在四个，子弹速度稍慢，创建对象池优化性能 （苹果，特效，子弹）</li><li>二段跳再次修改<br>( 1 ) 一段跳：两格半多一点，脖子到三格线<br>( 2 ) 二段跳：差一点点四格半，大概4.45<br>( 3 ) 跳跃速度：跳跃速度的提升，现在的手感为慢，需要将速度增加</li><li>弹幕的多样化（圆形散射，弹射，定点爆破等）</li><li>双人模式</li></ul></li><li><h3 id="感言"><a href="#感言" class="headerlink" title="感言"></a>感言</h3></li></ul><p>首先要感谢各个学长在这个寒假对我的帮助，博哥的帮助功不可没，还有各个先辈对我无厘头的问题的解答，没有这些帮助我可能需要做出来的时间更久更冗杂。</p><p>其次在这里项目中学到了基本unity的操作，了解了瓦片地图，全场景音效单例，刚体组件，特效制作，p图（贴图要改，所以素材还得自己修改），也在空闲时间制作了大概三四个视频，了解了i wanna的基础</p><p>再然后对于学长提出的联机作战十分感兴趣，也十分认同身为学计算机的人，不应该讲眼光局限于某一个语言，某一个方向，某一个职位，而是应该旷阔的吸收，毕竟计算机都是互通的，多学一门技术也会让自己的想法更加的天马行空，而游戏制作不正需要的就是创意吗。</p><p>最后，是对自己的批评，一是自己过于冒进，技术不成熟就想实习，时间没规划好就报了一堆比赛让自己差点忙不过来，最后导致现在算法算法没学好，游戏游戏没做完，英语英语还落着，身体身体没腹肌（呜呜呜），课程课程自学忙。所以自己以后要讲时间规划好，不能再眼大肚皮小了。</p><p>十分感谢各位对我的照顾，能做出东西的自豪感是很不错的，自己也会在未来学习更多然后变成全能fw的嘿嘿</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302211436927.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> 游戏开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏开发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【游戏开发】浅谈unity2D入门方法</title>
      <link href="//post/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%B5%85%E8%B0%88unity2D%E5%85%A5%E9%97%A8%E6%96%B9%E6%B3%95.html"/>
      <url>//post/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%B5%85%E8%B0%88unity2D%E5%85%A5%E9%97%A8%E6%96%B9%E6%B3%95.html</url>
      
        <content type="html"><![CDATA[<p>在开始文章之前，先谈谈为什么我先学的是unity2D<br>性能不够，你没有看错，就是这么简单粗暴的理由<br>对于游戏开发引擎来说，我一开始眼大但笔记本电脑肚皮小，小小的一块960M显卡，16G内存以及6700HQ对于UE5来说，是远远不够的，当时记得一运行UE5加上光照后，电脑3帧能玩的概念我第一次感受到。也只能转而选择并不那么吃性能的unity引擎。</p><p><strong>1. 准备工作</strong><br>       软件：unity，PS（photoshop），vs（任一c#编写软件），pr（au也可以，只要能剪辑音乐音效即可）等。<br>       硬件：性能方面不用担心，只要你的电脑是最近几年的游戏本，甚至性能强劲的轻薄本都完全带的动。<br>       技术：至少拥有一门c语言技术，你将要使用的语言是C#，但学校大概率让你学的是c/c++。学会抠图，p图，更改图片。学会对音频进行修改增加删除。</p><p><strong>2. 开始入门</strong><br>       大家可能就以为我要开始长篇大论了，但我偏偏不，如何学习？b站大学学习！<br>       任何东西你去学习，都是因为它引起了你的兴趣，你才会愿意去学习，如果你为了做款游戏，然后非得去把unity所有的操作，所有的界面都去了解了，学完再去做游戏，那你的热情也早就被基础知识给耗尽了。所以最好的方法就是，先去跟着做一款游戏！<br>       我这里也就为大家推荐几款跟着教程做的游戏</p><ol><li><p>横板2D过关游戏——小狐狸<br><a href="url">https://www.bilibili.com/video/BV1W4411Z7UC</a><br>这是一份在b站上被很多人学习制作游戏的视频，个人认为这个视频对于unity2D的初步理解十分有效。</p></li><li><p>横板2D跳跃游戏——旅人<br><a href="url">https://www.bilibili.com/video/BV1sE411L7kV</a><br>同样是一款2D游戏，结构更为完善，增加了随机物品掉落，浮力升力，可破坏式瓦片地图等元素，学的更多但花的时间也同样会更多。</p></li><li><p>2.5D肉鸽类游戏——地下城<br><a href="url">https://www.bilibili.com/video/BV1V7411B7YE</a><br>如果你对元气骑士等玩法更感兴趣可以先学习该视频进行基础概念的理解<br><a href="url">https://www.bilibili.com/video/BV1F3411Y72v</a><br>再通过这个视频进行一定补差，如果没有就度娘，找到自己缺失的游戏功能并学习，理解后再对其进行改造完成自己的其他功能</p></li></ol><p>如果你能够找到其他更适合你的视频或者文档，那也是一个入门的学习好法子，我推荐的制作视频毕竟有限，大家找到适合自己的就好。在你跟着做完这么一个项目后，对unity 2D方向也就了解了一些（自我认为）。但要知道你是否真正理解了代码，unity中操作的作用，便是编写新的关卡，设计新的操作，你可以不用在意性能优化等层面，对现在的你来说，只需要完成你想要的功能，那就足矣。还有可以尝试将数学的操作写进游戏里，例如我的第一款i wanna游戏里的玩家跟踪便用到了普通的向量加减，数学函数将会在以后进行某些游戏操作时使用到，所以个人认为提前有这种思维是必要的。</p><p>以上便是我本人对于unity 2D的入门方法的一些浅谈，如果有更好的方法也可以告诉我。十分感谢你看到这里，只要不断的学下去，道路就会不断的延伸（团长你在干什么啊团长！！！）</p>]]></content>
      
      
      <categories>
          
          <category> 游戏开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏开发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【孤独思考】为什么要痛苦</title>
      <link href="//post/%E5%AD%A4%E7%8B%AC%E6%80%9D%E8%80%83%E2%80%94%E2%80%94%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%97%9B%E8%8B%A6.html"/>
      <url>//post/%E5%AD%A4%E7%8B%AC%E6%80%9D%E8%80%83%E2%80%94%E2%80%94%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%97%9B%E8%8B%A6.html</url>
      
        <content type="html"><![CDATA[<div class="note simple"><p>默认 提示块标签</p></div><div class="note default simple"><p>default 提示块标签</p></div><div class="note primary simple"><p>primary 提示块标签</p></div><div class="note success simple"><p>success 提示块标签</p></div><div class="note info simple"><p>info 提示块标签</p></div><div class="note warning simple"><p>warning 提示块标签</p></div><div class="note danger simple"><p>danger 提示块标签</p></div><p>b站视频测试：</p><div align=center class="aspect-ratio">    <iframe src="https://player.bilibili.com/player.html?aid=474023258&&page=1&as_wide=1&high_quality=1&danmaku=0"     scrolling="no"     border="0"     frameborder="no"     framespacing="0"     high_quality=1    danmaku=1     allowfullscreen="true">     </iframe></div><p>文章部分不渲染：<br><div class="">你的一些代码...</div><script>你的一些代码...</script></p>]]></content>
      
      
      <categories>
          
          <category> 孤独思考 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 孤独思考 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【帖子讨论】我有一个弟弟</title>
      <link href="//post/%E5%B8%96%E5%AD%90%E8%AE%A8%E8%AE%BA%E2%80%94%E2%80%94%E6%88%91%E6%9C%89%E4%B8%80%E4%B8%AA%E5%BC%9F%E5%BC%9F.html"/>
      <url>//post/%E5%B8%96%E5%AD%90%E8%AE%A8%E8%AE%BA%E2%80%94%E2%80%94%E6%88%91%E6%9C%89%E4%B8%80%E4%B8%AA%E5%BC%9F%E5%BC%9F.html</url>
      
        <content type="html"><![CDATA[<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>时间轴样式</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-07-24 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases">2.6.6 -&gt; 3.0</a></p></div></div><div class='timeline-item-content'><ol><li>如果有 <code>hexo-lazyload-image</code> 插件，需要删除并重新安装最新版本，设置 <code>lazyload.isSPA: true</code>。</li><li>2.x 版本的 css 和 js 不适用于 3.x 版本，如果使用了 <code>use_cdn: true</code> 则需要删除。</li><li>2.x 版本的 fancybox 标签在 3.x 版本中被重命名为 gallery 。</li><li>2.x 版本的置顶 <code>top: true</code> 改为了 <code>pin: true</code>，并且同样适用于 <code>layout: page</code> 的页面。</li><li>如果使用了 <code>hexo-offline</code> 插件，建议卸载，3.0 版本默认开启了 pjax 服务。</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-05-15 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6">2.6.3 -&gt; 2.6.6</a></p></div></div><div class='timeline-item-content'><p>不需要额外处理。</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-04-20 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3">2.6.2 -&gt; 2.6.3</a></p></div></div><div class='timeline-item-content'><ol><li>全局搜索 <code>seotitle</code> 并替换为 <code>seo_title</code>。</li><li>group 组件的索引规则有变，使用 group 组件的文章内，<code>group: group_name</code> 对应的组件名必须是 <code>group_name</code>。</li><li>group 组件的列表名优先显示文章的 <code>short_title</code> 其次是 <code>title</code>。</li></ol></div></div></div>]]></content>
      
      
      <categories>
          
          <category> 帖子讨论 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 帖子讨论 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【游戏开发】网易minigame《Rebel Will》比赛总结——程序篇</title>
      <link href="//post/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E3%80%8ARebel-Will%E3%80%8B%E7%A8%8B%E5%BA%8F%E7%AF%87.html"/>
      <url>//post/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E3%80%8ARebel-Will%E3%80%8B%E7%A8%8B%E5%BA%8F%E7%AF%87.html</url>
      
        <content type="html"><![CDATA[<h1 id="程序："><a href="#程序：" class="headerlink" title="程序："></a>程序：</h1><p>比赛中程序要做到的事情很简单，实现策划的概念，也就是做需求。</p><blockquote><p>本篇只讲解个人在比赛中所做的系统</p></blockquote><h2 id="1-ink文件"><a href="#1-ink文件" class="headerlink" title="1.ink文件"></a>1.ink文件</h2><p>ink文件，是一种比较现代化的语言，是由inkle公司推出的一种脚本式的文字预处理语言用来编写一些对话类游戏的对话内容及流程图。inkle公司做出过一些很棒的对话类游戏，如《80天环游地球》。<br>在这次的游戏开发中，便是使用了该语言类型进行对话系统的制作。</p><p>首先我们要知道，如何使用该语言，这里我们打开inky文件进行了解</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081113107.webp" alt=""></p><p>这里我用我们使用的文件进行讲解，很容易看出，我们创造了两个变量，一个是bool类型，一个是int类型<br>var类型的意思是可替代任意类型的变量，由于我们赋了初值所以也就成功定义了三个变量<br>“<strong>-&gt;</strong>“的意思便是转到某个对话，比如我们的<strong>=== waiter ===</strong>对话</p><p>在inky文件中，我们的选项便是<strong>“+”</strong>或者<strong>“*”</strong>当你输入了该类型符号，就代表这里会生成选项，inky它已经写好了自己的脚本，而我们待会要在unity中也要写一些脚本实现选项。</p><p>而两个选项符号的区别就是，在你完成一次对话后，该选项是否会消失，也就是当你进行二次对话时，该选项是否存在。<br>更多的教程api我们的inky中含有<strong>自带的讲解</strong>，各位可以自行了解更多，它还能进行自带的逻辑判断等等….</p><p>对于文案，了解这些基础的大概就足矣使用ink文件，而接下来就是程序的事情了</p><p>程序中，我们需要到unity商城里下载免费的ink插件</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081113053.webp" alt=""></p><p>（很难想象，怎么会有人写了个对话系统收42美元的）</p><p><strong>直接创建DialogManager脚本文件</strong>，并且写好我们所需变量</p><pre class="line-numbers language-none"><code class="language-none">using System.Collections;using System.Collections.Generic;using UnityEngine;using Ink.Runtime;using UnityEngine.UI;using UnityEngine.Playables;using UnityEngine.SceneManagement;   public static DialogManager instance;&#x2F;&#x2F;静态控制以便外部访问    public Story currentStory;&#x2F;&#x2F;墨迹文件    public int diagoueobj;&#x2F;&#x2F;对话对象    public GameObject timeline;    public GameObject player;    [Header(&quot;对话框UI&quot;)]    public GameObject dialoguePanel;&#x2F;&#x2F;总框    public GameObject continueIcon;&#x2F;&#x2F;继续对话图像    public Text Textdia;&#x2F;&#x2F;文本框内容    public Text NameTag;&#x2F;&#x2F;名字框内容    public GameObject PlayerImage;&#x2F;&#x2F;主角立绘    public Sprite[] PlayerPic;&#x2F;&#x2F;主角立绘状态    public GameObject KImage;&#x2F;&#x2F;K立绘    public Sprite[] KPic;&#x2F;&#x2F;K立绘状态    public GameObject doctorImage;&#x2F;&#x2F;博士立绘    public Sprite[] doctorPic;&#x2F;&#x2F;博士立绘状态    [SerializeField] private float typingSpeed &#x3D; 0.04f;&#x2F;&#x2F;打字速度    public bool DialogueIsPlaying &#123; get; private set; &#125;&#x2F;&#x2F;判断是否出现    private Coroutine displayLineCoroutine;&#x2F;&#x2F;唯一展示协程    private bool canContinueToNextLine &#x3D; false;&#x2F;&#x2F;是否进入下一行    [Header(&quot;选项UI&quot;)]    public VerticalLayoutGroup _choiceButtonContainer;&#x2F;&#x2F;纵向垂直布局    public Button _choiceButtonPrefab;&#x2F;&#x2F;按钮预制体    private void Awake()    &#123;        if (instance !&#x3D; null &amp;&amp; instance !&#x3D; this)        &#123;            Destroy(this.gameObject);            return;        &#125;        else        &#123;            instance &#x3D; this;        &#125;        DontDestroyOnLoad(gameObject);    &#125;       public static DialogManager GetInstance()&#x2F;&#x2F;获取组件    &#123;        return instance;    &#125;    private void Start()&#x2F;&#x2F;开始时重置    &#123;        player &#x3D; GameObject.Find(&quot;Player&quot;);        DialogueIsPlaying &#x3D; false;        dialoguePanel.SetActive(false);        continueIcon.SetActive(false);        PlayerImage.SetActive(false);        KImage.SetActive(false);        doctorImage.SetActive(false);        diagoueobj &#x3D; 0;    &#125;       private void Update()    &#123;        if(!DialogueIsPlaying)&#x2F;&#x2F;如果没有进入对话框返回正常        &#123;            return;        &#125;        if (canContinueToNextLine &amp;&amp;Input.GetButtonDown(&quot;Continue&quot;) &amp;&amp; currentStory.currentChoices.Count &#x3D;&#x3D; 0)&#x2F;&#x2F;互动键        &#123;            ContinueStory();&#x2F;&#x2F;开始对话        &#125;    &#125;</code></pre><p>对于静态化实例的，别忘了awake给个单例</p><p>我们要先创造一个进入对话模式和脱离对话模式的函数，在我们在npc旁边并按下按键时进入对话</p><pre class="line-numbers language-none"><code class="language-none">public void EnterDialogueMode(TextAsset inkJson)&#x2F;&#x2F;进入对话模式&#123;    player &#x3D; GameObject.Find(&quot;Player&quot;);    if (diagoueobj &#x3D;&#x3D; 0)&#x2F;&#x2F;跟普通npc对话    &#123;        PlayerImage.SetActive(true);    &#125;    else if(diagoueobj &#x3D;&#x3D; 1)&#x2F;&#x2F;跟K对话    &#123;        PlayerImage.SetActive(true);        KImage.SetActive(true);    &#125;    else if(diagoueobj &#x3D;&#x3D; 2)&#x2F;&#x2F;跟博士对话    &#123;        PlayerImage.SetActive(true);        doctorImage.SetActive(true);    &#125;    if (player!&#x3D;null)    &#123;        player.GetComponent&lt;Animator&gt;().SetBool(&quot;run&quot;, false);    &#125;    currentStory &#x3D; new Story(inkJson.text);&#x2F;&#x2F;读取text的json文件    DialogueIsPlaying &#x3D; true;    dialoguePanel.SetActive(true);    GameManager.instance.isTalking();    ContinueStory();&#125;private IEnumerator ExitDialogueMode()&#x2F;&#x2F;退出对话模式&#123;    timeline &#x3D; GameObject.Find(&quot;Timeline&quot;);    yield return new WaitForSeconds(0.2f);&#x2F;&#x2F;等待0.2s后触发    DialogueIsPlaying &#x3D; false;    dialoguePanel.SetActive(false);    PlayerImage.SetActive(false);    KImage.SetActive(false);    doctorImage.SetActive(false);    GameManager.instance.isPlaying();    Textdia.text &#x3D; &quot;&quot;;&#x2F;&#x2F;清空对话框    if(timeline !&#x3D; null)    &#123;        timeline.GetComponent&lt;PlayableDirector&gt;().Play();    &#125;    if(SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 6)    &#123;        GameManager.instance.LoadScenenext();    &#125;&#125;</code></pre><p>对话时，我们要确定是否会展示图像，展示的图像是谁，并且进入对话后，将对话框设为活动状态，游戏状态（Gamemanager中自己写的）改为对话中，读取trigger中我们需要对话的文本（ink文件会转化为json文件）</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081113360.webp" alt=""></p><pre class="line-numbers language-none"><code class="language-none">private void ContinueStory()&#x2F;&#x2F;继续播放&#123;    if (currentStory.canContinue)    &#123;        if(displayLineCoroutine !&#x3D; null)        &#123;            StopCoroutine(displayLineCoroutine);        &#125;        displayLineCoroutine &#x3D; StartCoroutine(DisplayLine(currentStory.Continue()));        &#x2F;&#x2F;Textdia.text &#x3D; currentStory.Continue();        DisplayName();&#x2F;&#x2F;展示姓名    &#125;    else    &#123;        StartCoroutine(ExitDialogueMode());    &#125;&#125;</code></pre><p>cancontinue属性可以告诉unity是否还有余量文本，如果没有文本了我们自然就退出对话模式<br>对于选项功能，我们要细分成，展示选项，创造按钮，按钮点击，点击后刷新按钮。</p><pre class="line-numbers language-none"><code class="language-none">private void DisplayChoices()&#123;    &#x2F;&#x2F;检查选项是否已显示        if (_choiceButtonContainer.GetComponentsInChildren&lt;Button&gt;().Length &gt; 0) return;        for (int i &#x3D; 0; i &lt; currentStory.currentChoices.Count; i++) &#x2F;&#x2F;展示出所有的选择        &#123;            var choice &#x3D; currentStory.currentChoices[i];            var button &#x3D; CreateChoiceButton(choice.text); &#x2F;&#x2F;创造选择按钮            button.onClick.AddListener(() &#x3D;&gt; OnClickChoiceButton(choice));        &#125;&#125;Button CreateChoiceButton(string text)&#123;    &#x2F;&#x2F;从预制体创造按钮    var choiceButton &#x3D; Instantiate(_choiceButtonPrefab);    choiceButton.transform.SetParent(_choiceButtonContainer.transform, false);    &#x2F;&#x2F;文字输入按钮    var buttonText &#x3D; choiceButton.GetComponentInChildren&lt;Text&gt;();    buttonText.text &#x3D; text;    return choiceButton;&#125;void OnClickChoiceButton(Choice choice)&#123;    currentStory.ChooseChoiceIndex(choice.index); &#x2F;&#x2F;返回ink告诉选项    RefreshChoiceView(); &#x2F;&#x2F;移除选项    ContinueStory();&#125;void RefreshChoiceView()&#123;    if (_choiceButtonContainer !&#x3D; null)    &#123;        foreach (var button in _choiceButtonContainer.GetComponentsInChildren&lt;Button&gt;())        &#123;            Destroy(button.gameObject);        &#125;    &#125;&#125;</code></pre><p>这里就是我们选项的框架，创造按钮后添加监听，然后让按钮按照vertical layout group进行一定排序</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081113726.webp" alt=""></p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081113712.webp" alt=""></p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081113892.webp" alt=""></p><p>最后，我们做一个打字机特效和一个名称显示，对话系统就完成了</p><pre class="line-numbers language-none"><code class="language-none">    private IEnumerator DisplayLine(string line)    &#123;        Textdia.text &#x3D; &quot;&lt;color&#x3D;#FFFFFF00&gt;jayw&lt;&#x2F;color&gt;&quot;;&#x2F;&#x2F;首行缩进        canContinueToNextLine &#x3D; false;        continueIcon.SetActive(false);        foreach (char letter in line.ToCharArray())&#x2F;&#x2F;打字机特效        &#123;            Textdia.text +&#x3D; letter;            yield return new WaitForSeconds(typingSpeed);        &#125;        continueIcon.SetActive(true);&#x2F;&#x2F;显示继续icon        canContinueToNextLine &#x3D; true;&#x2F;&#x2F;允许继续        DisplayChoices();&#x2F;&#x2F;展示选项    &#125;    public void DisplayName()    &#123;        List&lt;string&gt; tags &#x3D; currentStory.currentTags;&#x2F;&#x2F;名称统计        if (tags.Count &gt; 0)        &#123;            NameTag.text &#x3D;tags[0];            if (NameTag.text &#x3D;&#x3D; &quot;Mayer&quot;)            &#123;                PlayerImage.GetComponent&lt;Image&gt;().sprite &#x3D; PlayerPic[1];                if (KImage !&#x3D; null)                &#123;                    KImage.GetComponent&lt;Image&gt;().sprite &#x3D; KPic[0];                &#125;                if (doctorImage !&#x3D; null)                &#123;                    doctorImage.GetComponent&lt;Image&gt;().sprite &#x3D; doctorPic[0];                &#125;            &#125;            else if (NameTag.text &#x3D;&#x3D; &quot;K&quot;)            &#123;                KImage.GetComponent&lt;Image&gt;().sprite &#x3D; KPic[1];                if (PlayerImage !&#x3D; null)                &#123;                    PlayerImage.GetComponent&lt;Image&gt;().sprite &#x3D; PlayerPic[0];                &#125;                if (doctorImage !&#x3D; null)                &#123;                    doctorImage.GetComponent&lt;Image&gt;().sprite &#x3D; doctorPic[0];                &#125;            &#125;            else if (NameTag.text &#x3D;&#x3D; &quot;Tyrell&quot;)            &#123;                doctorImage.GetComponent&lt;Image&gt;().sprite &#x3D; doctorPic[1];                if (PlayerImage !&#x3D; null)                &#123;                    PlayerImage.GetComponent&lt;Image&gt;().sprite &#x3D; PlayerPic[0];                &#125;                if (KImage !&#x3D; null)                &#123;                    KImage.GetComponent&lt;Image&gt;().sprite &#x3D; KPic[0];                &#125;            &#125;            else if (NameTag.text &#x3D;&#x3D; &quot;&quot;)            &#123;                if (PlayerImage !&#x3D; null)                &#123;                    PlayerImage.GetComponent&lt;Image&gt;().sprite &#x3D; PlayerPic[0];                &#125;                if (KImage !&#x3D; null)                &#123;                    KImage.GetComponent&lt;Image&gt;().sprite &#x3D; KPic[0];                &#125;                if (doctorImage !&#x3D; null)                &#123;                    doctorImage.GetComponent&lt;Image&gt;().sprite &#x3D; doctorPic[0];                &#125;            &#125;            else            &#123;                if (PlayerImage !&#x3D; null)                &#123;                    PlayerImage.GetComponent&lt;Image&gt;().sprite &#x3D; PlayerPic[0];                &#125;                if (KImage !&#x3D; null)                &#123;                    KImage.GetComponent&lt;Image&gt;().sprite &#x3D; KPic[0];                &#125;                if (doctorImage !&#x3D; null)                &#123;                    doctorImage.GetComponent&lt;Image&gt;().sprite &#x3D; doctorPic[0];                &#125;            &#125;        &#125;        else        &#123;            NameTag.text &#x3D; &quot;&quot;;&#x2F;&#x2F;清空姓名框        &#125;    &#125;</code></pre><p>我的姓名展示写的比较粗略，运用的是ink文件中的“#”，局限性较大，可以换种思路实现</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081113384.webp" alt=""></p><p>这就是我们的对话系统，而ink文件既然是文本，肯定不止这一种玩法对吧！那我们再变种一些，比如展示系统，聊天系统。在此之前，展示一下trigger怎么写的</p><pre class="line-numbers language-none"><code class="language-none">using System.Collections;using System.Collections.Generic;using UnityEngine;public class DialogTrigger : MonoBehaviour&#123;    [Header(&quot;弹出UI&quot;)]    [SerializeField] public GameObject visualCue;&#x2F;&#x2F;互动图标    private bool playerInRange;&#x2F;&#x2F;玩家是否可互动    [Header(&quot;墨水文件&quot;)]    [SerializeField] public TextAsset inkJson;&#x2F;&#x2F;json文件    public int dialogueobj &#x3D; 0;&#x2F;&#x2F;对话对象    private void Awake()    &#123;        playerInRange &#x3D; false;        visualCue.SetActive(false);    &#125;    private void Update()    &#123;        if(playerInRange &amp;&amp; !DialogManager.GetInstance().DialogueIsPlaying)        &#123;            visualCue.SetActive(true);            if(Input.GetButtonDown(&quot;interaction&quot;))&#x2F;&#x2F;互动键            &#123;                DialogManager.instance.diagoueobj &#x3D; dialogueobj;                DialogManager.GetInstance().EnterDialogueMode(inkJson);                visualCue.SetActive(false);                Destroy(gameObject);            &#125;        &#125;        else        &#123;            visualCue.SetActive(false);        &#125;    &#125;    private void OnTriggerEnter2D(Collider2D collider)    &#123;        if(collider.gameObject.tag &#x3D;&#x3D; &quot;Player&quot;)        &#123;            playerInRange &#x3D; true;        &#125;    &#125;    private void OnTriggerExit2D(Collider2D collider)    &#123;        if (collider.gameObject.tag &#x3D;&#x3D; &quot;Player&quot;)        &#123;            playerInRange &#x3D; false;        &#125;    &#125;&#125;</code></pre><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081113200.webp" alt=""></p><p>我们的展示系统</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081114055.webp" alt=""></p><p>我们的聊天系统</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081114878.webp" alt=""></p><p>这便是在这次比赛中巧妙运用ink制作的有关文本的系统介绍。</p><h2 id="2-场景切换与音频切换"><a href="#2-场景切换与音频切换" class="headerlink" title="2.场景切换与音频切换"></a>2.场景切换与音频切换</h2><p>这次的场景切换，音频切换我们需要比上次多做一点的就是——<strong>过渡</strong><br>上次我们所做到的音频和场景，都是秒切，没有过渡会显得十分突兀，所以在这次开发中我稍微改正了一点<br>场景加载中运用到了异步回调场景功能</p><pre class="line-numbers language-none"><code class="language-none">using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEngine.SceneManagement;using Ink.Runtime;using UnityEngine.UI;public class SceneLoad : MonoBehaviour&#123;    public static SceneLoad instance;    public Animator animator;&#x2F;&#x2F;动画绑定    public GameObject BlackPanel;&#x2F;&#x2F;总框    public Text Textdia;&#x2F;&#x2F;文本框内容    public Story blackStory;&#x2F;&#x2F;墨迹文件    public TextAsset inkJson;&#x2F;&#x2F;文本    public TextAsset bar;&#x2F;&#x2F;json文件    public int dialogueobj &#x3D; 0;&#x2F;&#x2F;对话对象    public void Awake()    &#123;        BlackPanel.SetActive(false);        blackStory &#x3D; new Story(inkJson.text);&#x2F;&#x2F;获取字体        if (instance !&#x3D; null &amp;&amp; instance !&#x3D; this)        &#123;            Destroy(this.gameObject);            return;        &#125;        else        &#123;            instance &#x3D; this;        &#125;        DontDestroyOnLoad(gameObject);    &#125;    public IEnumerator LoadScene(int index)&#x2F;&#x2F;加载下一场景    &#123;        BlackPanel.SetActive(true);        animator.SetBool(&quot;FadeIn&quot;, true);        animator.SetBool(&quot;FadeOut&quot;, false);        StartCoroutine(SoundManager.instance.FadeOut());        PlayerPrefs.DeleteAll();        if(SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 6)        &#123;            yield return new WaitForSeconds(2f);            AsyncOperation asyncy &#x3D; SceneManager.LoadSceneAsync(0);            asyncy.completed +&#x3D; OnloadedScene;        &#125;        else        &#123;            yield return new WaitForSeconds(2f);            AsyncOperation async &#x3D; SceneManager.LoadSceneAsync(index);            async.completed +&#x3D; OnloadedScene;        &#125;    &#125;    public IEnumerator RELoadScene(int index)&#x2F;&#x2F;重新加载当前场景    &#123;        &#x2F;&#x2F;animator.gameObject.SetActive(true);        instance.Textdia.text &#x3D; &quot; &quot;;        BlackPanel.SetActive(true);        SoundManager.instance.PauseLevelAudio();        animator.SetBool(&quot;FadeIn&quot;, true);        animator.SetBool(&quot;FadeOut&quot;, false);        yield return new WaitForSeconds(2f);        AsyncOperation async &#x3D; SceneManager.LoadSceneAsync(index);        async.completed +&#x3D; OnREloadedScene;    &#125;    public void OnREloadedScene(AsyncOperation obj)&#x2F;&#x2F;回调当前场景    &#123;        GameManager.instance.m_player &#x3D; GameObject.Find(&quot;Player&quot;);        if (GameManager.instance.m_player !&#x3D; null)        &#123;            Vector3 vec &#x3D; Vector3.zero;            vec.x &#x3D; PlayerPrefs.GetFloat(&quot;PlayerPosX&quot;, GameManager.instance.m_player.transform.position.x);            vec.y &#x3D; PlayerPrefs.GetFloat(&quot;PlayerPosY&quot;, GameManager.instance.m_player.transform.position.y);            vec.z &#x3D; PlayerPrefs.GetFloat(&quot;PlayerPosZ&quot;, GameManager.instance.m_player.transform.position.z);            GameManager.instance.m_player.transform.position &#x3D; vec;        &#125;        if (SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 0)        &#123;            SoundManager.instance.StartLevelAudio();        &#125;        else if (SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 1)        &#123;            SoundManager.instance.StartLevelAudio();        &#125;        else if (SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 2)        &#123;            GameManager.instance.havespeed &#x3D; true;            SoundManager.instance.StartLevelAudio();        &#125;        else if (SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 3)        &#123;            GameManager.instance.haveskill &#x3D; true;            GameManager.instance.havespeed &#x3D; true;            SoundManager.instance.StartLevelAudio();        &#125;        else if (SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 4)        &#123;            GameManager.instance.haveskill &#x3D; true;            GameManager.instance.havespeed &#x3D; true;            SoundManager.instance.StartLevelAudio();        &#125;        else if (SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 5)        &#123;            GameManager.instance.haveskill &#x3D; true;            GameManager.instance.havespeed &#x3D; true;            SoundManager.instance.StartLevelAudio();        &#125;        else if (SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 6)        &#123;            DialogManager.instance.diagoueobj &#x3D; dialogueobj;            DialogManager.GetInstance().EnterDialogueMode(bar);        &#125;        animator.SetBool(&quot;FadeIn&quot;, false);        animator.SetBool(&quot;FadeOut&quot;, true);    &#125;    public void OnloadedScene(AsyncOperation obj)&#x2F;&#x2F;回调下一场景并更改音乐    &#123;        if (SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 0)        &#123;             SoundManager.instance.Menumusic();        &#125;        else if (SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 1)        &#123;            SoundManager.instance.Undermusic();        &#125;        else if (SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 2)        &#123;            SoundManager.instance.SkyMusic();        &#125;        else if (SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 3)        &#123;            SoundManager.instance.BarMusic();        &#125;        else if (SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 4)        &#123;            SoundManager.instance.CompanyMusic();        &#125;        else if (SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 5)        &#123;            SoundManager.instance.TopMusic();        &#125;        else if(SceneManager.GetActiveScene().buildIndex &#x3D;&#x3D; 6)        &#123;            DialogManager.instance.diagoueobj &#x3D; dialogueobj;            DialogManager.GetInstance().EnterDialogueMode(bar);            SoundManager.instance.BarMusic();        &#125;        animator.SetBool(&quot;FadeIn&quot;, false);        animator.SetBool(&quot;FadeOut&quot;, true);            &#125;    public void ContinueStory()&#x2F;&#x2F;继续播放    &#123;        if (blackStory.canContinue)        &#123;            Textdia.text &#x3D; blackStory.Continue();        &#125;        else        &#123;            Textdia.text &#x3D; &quot;&quot;;        &#125;    &#125;&#125;</code></pre><p>效果如下</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081114954.webp" alt=""></p><p>音频的淡入淡出：</p><pre class="line-numbers language-none"><code class="language-none">public IEnumerator FadeIn()&#x2F;&#x2F;淡入音乐&#123;    instance.backaudio.Play();    float timeToFade &#x3D; 2f;    float timeElapsed &#x3D; 0;    while(timeElapsed&lt; timeToFade)    &#123;        instance.backaudio.volume &#x3D; Mathf.Lerp(0, 0.4f, timeElapsed &#x2F; timeToFade);        timeElapsed +&#x3D; Time.deltaTime;        yield return null;    &#125;&#125;public IEnumerator FadeOut()&#x2F;&#x2F;淡出音乐&#123;    float timeToFade &#x3D; 2f;    float timeElapsed &#x3D; 0;    while (timeElapsed &lt; timeToFade)    &#123;        instance.backaudio.volume &#x3D; Mathf.Lerp(0.4f, 0, timeElapsed &#x2F; timeToFade);        timeElapsed +&#x3D; Time.deltaTime;        yield return null;    &#125;    instance.backaudio.Stop();&#125;public IEnumerator FadePauseOut()&#x2F;&#x2F;淡出暂停音乐&#123;    float timeToFade &#x3D; 2f;    float timeElapsed &#x3D; 0;    while (timeElapsed &lt; timeToFade)    &#123;        instance.backaudio.volume &#x3D; Mathf.Lerp(0.4f, 0, timeElapsed &#x2F; timeToFade);        timeElapsed +&#x3D; Time.deltaTime;        yield return null;    &#125;    instance.backaudio.Pause();&#125;</code></pre><p>由于音频无法在网页展示，各位可以自行写两个场景测试</p><h2 id="3-TimeLine"><a href="#3-TimeLine" class="headerlink" title="3.TimeLine"></a>3.TimeLine</h2><p>时间轴概念来源于一款不久前停止更新的动画软件，也是我死去的记忆攻击我的时代——Flash。<br>timeline时间轴是Flash的一大特点，在以往的动画制作中，通常是要绘制作出每一帧的图像，或是通过程序来制作，而Flash使用关键帧技术，通过对时间轴上的关键帧的制作<br>Flash会自动生成运动中的动画帧，节省了制作人员的大部份的时间，也提高了效率。在时间轴的上面有一个红色的线，那是播放的定位磁头，拖动磁头也可以实现动画的观察，这在制作当中是很重要的步骤。</p><p>而我们的unity引入了这一概念，也就有了我们的一些游戏CG动画</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081114655.webp" alt=""></p><p>它的工作环境真的很像很像pr，所以我上手的比较快（</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081114035.webp" alt=""></p><p>这些track也就是一个个的轨道，在轨道中你要设置在该时间线该轨道要如何运作，并且它也是可以使用代码进行控制的</p><p>而轨道上的白色箭头也代表了一些回调函数，它会在到达该事件时触发函数</p><p>这里不进行代码讲解，因为在这次动画中时间较少，代码几乎没有运作</p><p>当做一个技术了解即可，更偏向于unity这个软件的运用，而非代码</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081114523.webp" alt=""></p><h2 id="4-小型地图升级系统"><a href="#4-小型地图升级系统" class="headerlink" title="4.小型地图升级系统"></a>4.小型地图升级系统</h2><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081114766.webp" alt=""></p><p>读取数值后，根据数值进行建筑物的变化</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081114207.webp" alt=""></p><p>具体到gif图如下</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202303081114243.webp" alt=""></p><p>其实也就是不断的判断数值大小来进行精灵图的修改：</p><pre class="line-numbers language-none"><code class="language-none">if (StateValue.Industry &lt; 25)        &#123;            instance.transform.GetChild(0).gameObject.GetComponent&lt;SpriteRenderer&gt;().sprite &#x3D; pic[0];            instance.transform.GetChild(1).gameObject.GetComponent&lt;SpriteRenderer&gt;().sprite &#x3D; pic[5];            instance.transform.GetChild(2).gameObject.GetComponent&lt;SpriteRenderer&gt;().sprite &#x3D; pic[10];        &#125;        else if (StateValue.Industry &gt;&#x3D; 25 &amp;&amp; StateValue.Industry &lt; 30)        &#123;            instance.transform.GetChild(0).gameObject.GetComponent&lt;SpriteRenderer&gt;().sprite &#x3D; pic[1];            instance.transform.GetChild(1).gameObject.GetComponent&lt;SpriteRenderer&gt;().sprite &#x3D; pic[5];            instance.transform.GetChild(2).gameObject.GetComponent&lt;SpriteRenderer&gt;().sprite &#x3D; pic[10];        &#125;        else if (StateValue.Industry &gt;&#x3D; 30 &amp;&amp; StateValue.Industry &lt; 35)        &#123;            instance.transform.GetChild(0).gameObject.GetComponent&lt;SpriteRenderer&gt;().sprite &#x3D; pic[1];            instance.transform.GetChild(1).gameObject.GetComponent&lt;SpriteRenderer&gt;().sprite &#x3D; pic[6];            instance.transform.GetChild(2).gameObject.GetComponent&lt;SpriteRenderer&gt;().sprite &#x3D; pic[10];        &#125;</code></pre><blockquote><p>程序篇就此结束</p></blockquote><p>很高兴能和大家分享这篇程序篇的相关内容，它说实话，并不见的有多高明，我也说实话，人外有人，天外有天，所以我的博客从始至终其实并不指望能完完全全让别人看懂，教懂别人，它更多对我来说是一种记录。<br>其实原本还想记录下自己的移动端适配化，但很可惜的是由于全面开放，组里大半都羊了，也包括我，所以移动端适配化不够完整，也觉得在这时讲解不太合适，等以后有机会再记录下有关移动端适配化的相关实践</p><p>最后说点年终感悟，我是一个不会哭的人，俗话说会哭的孩子有奶吃，但我实在不知道要怎么哭，看向别人爱情甜甜蜜蜜，做事无拘无束，我也只能无奈的笑笑，我不会哭，希望明年能有美好的事情发生在我身上吧</p>]]></content>
      
      
      <categories>
          
          <category> 游戏开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏开发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【游戏开发】网易minigame《Rebel Will》比赛总结——策划篇</title>
      <link href="//post/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E3%80%8ARebel-Will%E3%80%8B%E7%AD%96%E5%88%92%E7%AF%87.html"/>
      <url>//post/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E3%80%8ARebel-Will%E3%80%8B%E7%AD%96%E5%88%92%E7%AF%87.html</url>
      
        <content type="html"><![CDATA[<p>为期一个月的minigame比赛终于结束了，这个月整个人都精神比较不稳定，休息会后也就开始总结有关经验了 首先既然做了，就先给各位看看成果<a href="https://www.bilibili.com/video/BV1hd4y1y7h5/">《Rebel Will》2022网易minigame比赛</a></p><p>想了很久都无法下手，因为干的活实在是太多了，几乎超出了我当时的预期范围（很累），思考了下，认为应该分为一下主题分开讲解。</p><h1 id="策划："><a href="#策划：" class="headerlink" title="策划："></a>策划：</h1><hr><blockquote><h2 id="主策划-系统策划："><a href="#主策划-系统策划：" class="headerlink" title="主策划/系统策划："></a>主策划/系统策划：</h2></blockquote><p>在参加这个比赛前，我没想过我会成为一名策划，当时我看到了这个比赛是在理工的游戏开发群里，我感觉是时候该出去看看了，总是闭门造车无法知道自己当前的水平的。我也是一个比较社恐的人，所以当时我也只是在群里问了问：“有人需要副程序吗？”。</p><p>得到的结果显而易见，没人回我。我想着经验不足，第一次参赛，还是这么大的比赛，人家凭什么要你一个没信心没经验的副程序，于是我心里也就打起了退堂鼓。</p><p>但在这时我看到的认识的一位同级同学，她在吉比特的比赛中获得了奖，交流下经验后，我决定扛起主策划/系统策划<strong>（后续我都称为主策划，但其实这两个职业在一些公司是分开的）</strong>的大旗，为了参加比赛增加经验水平，开始做起来自己不熟悉的事情。</p><h3 id="我认为比赛中主策划所需要做的事情："><a href="#我认为比赛中主策划所需要做的事情：" class="headerlink" title="我认为比赛中主策划所需要做的事情："></a><strong>我认为比赛中主策划所需要做的事情：</strong></h3><blockquote><h4 id="1-策划案"><a href="#1-策划案" class="headerlink" title="1. 策划案"></a>1. 策划案</h4></blockquote><p>身为一名主策划，你需要拿出一份策划案，策划案决定了游戏制作方向，流程，各职位的工作等，是一个游戏制作出来的必需品。在我第一次的时候，我掏出的策划案是这样的:  </p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843964.webp" alt=""></p><p>如果说对于不了解策划的人来说，一眼看上去，似乎还行，哪边都有说到，编剧，玩法，音乐，都有，但是当我拿着这份策划案去招人的时候，很幸运在群里遇到的第一位老哥给了我一拳，他是一名程序，<strong>他让我自嗨中清醒过来</strong></p><ul><li><strong>策划案粗糙</strong></li><li><strong>没有亮点</strong></li><li><strong>设计不合理</strong></li><li><strong>这就不是策划案，只是想法简述</strong></li><li><strong>美术需求没写，角色大小？画面分辨率？摄像机size？角色立绘大小？</strong></li><li><strong>游戏需求没拆分，游戏机制？游戏所需系统？具体需求？未来迭代？能否实现？游戏规模？</strong></li><li><strong>编剧需求没写，只说了赛博朋克，你要什么样的故事？要底层人民的挣扎还是要反抗公司的疯狂？</strong>  </li></ul><p>如你们所见，所有的问题一瞬间都呈现出来了，让当时的我一时间8KB猪脑过载，但想了想认为这才是正确的，要是没人骂你你只会一错再错，这也让我积累到了策划的第一份经验：<strong>策划案并没有想象中那么简单</strong>。</p><p>于是我开始去寻找答案，策划案应该怎么写？对于老哥抛出的这些问题，我找寻游戏群里的在职策划，还有一些参加过该比赛的老哥后，在他们的指导下我的策划案开始变化</p><p>第一个是在职策划，他的评价是：<strong>框架都不能算</strong></p><p>他告诉了我，需要罗列不同的系统，比如单纯的一个移动系统，可能大家觉得2D也就是左右走路，能有啥系统？他教给我的粗略答案是：</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843006.webp" alt=""></p><p>这一个思维导图给孩子的心里是造成了一些不可磨灭的影响，于是我也做出了我拙略的模仿：</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843059.webp" alt=""></p><p>而老哥又给出了一些新的概念:</p><ul><li><strong>UE设计在哪儿，没有UE的话UI不知道你想要什么排版布局</strong></li><li><strong>你的游戏机制没有定义不应该写在基础操作里</strong></li><li><strong>动作设计在哪儿，什么动作符合你的想法，有的话视频，没有的话文字描述</strong></li><li><strong>画风什么样子，有参考吗</strong></li><li><strong>不够详细，Excel可读性太差</strong></li><li><strong>基础设定应该大家一起定，怕有人不满</strong></li></ul><p>于是我也就抛弃了这一个“粗糙的策划案”，换用飞书来进行策划案的编写，去寻找了各种我需要的素材游戏，基础机制全部重构，UE设计在进行思索后补在飞书上，那么最后我的策划案的最大字数达到了：</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843105.webp" alt=""></p><p><strong>分为以下几点</strong></p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843148.webp" alt=""></p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843192.webp" alt=""></p><p><strong>这个是一些UE设计图</strong></p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843237.webp" alt=""></p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843327.webp" alt=""></p><p><strong>这是一些找到的动作设计参考</strong></p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843280.webp" alt=""></p><p>这样，才算是一份对我来说获得经验后，比较认可的一份完整的策划案，我很高兴的是，我居然能在3天内学会并完成这份策划案去寻找我的队友，其中也还是有点问题，我没有听取老哥的建议，<strong>基础设定等等全是我一个人短时间内想出来的，导致后续的配合中出现了一定的问题</strong>，积累经验，下次应当找个机会一起商讨完毕</p><p>但是，真的策划案就那么简单的结束了吗？并不是的，当我找寻了一些参加过比赛的前辈后，理解到的一点就是，其实我忘记了前面程序老哥所说的——<strong>游戏规模</strong></p><p>看着十分完整是没错，但是我应当考虑到游戏规模，这个策划案涉及的工作量是十分不正常的，不论是主角的动画机，连招，攻击范围，技能，数值等，还是怪物的寻路AI，动画机，攻击，数值，打击碰撞感，是我在后续才感受到深深的无力感。</p><p>更何况我是一名程序，我更应当对这些工作量敏感，所以很庆幸在招人结束前，我遇到了两位对我策划案有另一种看法，参加过比赛的老哥，一位品鉴过许多的游戏并进行solo制作，是个全栈，另一个是去年CUSGA的动作游戏《杀死影子》的策划，他们给我的经验是：</p><p><strong>做加法</strong></p><p>当时他们异口同声给出的回复就是：<strong>这个案子太大了，不像参赛作品DEMO，更像是独游</strong></p><p><strong>两个老哥同时提出来的问题</strong></p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843373.webp" alt=""></p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843416.webp" alt=""></p><p><strong>我当时的想法</strong></p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843464.webp" alt=""></p><p>当时我急着不停的增加需求，生怕自己没有写完整，他们的话语让我重新冷静下来审视自己，我做的策划案没有考虑到现实情况，高达9000字的需求，仅仅一个月，我们即使有几个参加过比赛的学长学姐带，也是无法完成的工作量，于是在他们的指导下，我向主程和主美询问后开始逐渐砍掉一些需求，最后策划案没删太干净的情况下，这是剩余的字数：</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843532.webp" alt=""></p><p>策划案所需总结：</p><ul><li><strong>项目所需系统的需求细化</strong></li><li><strong>项目的游戏机制的具体形式</strong></li><li><strong>项目所需美术风格的制订</strong></li><li><strong>场景样式，场景物品需求，怪物，角色外观需求</strong></li><li><strong>UE设计图纸</strong></li><li><strong>动画设计参考与描述</strong></li><li><strong>用户基本操作</strong></li><li><strong>世界观，人物性格等文案需求</strong></li></ul><p>我们的最终策划案也就此定下，不再增加。它仍然有许多的问题，例如很多地方还是不够细节，程序和美术无法理解，需要问我这位策划消耗了一些时间，有时我的表达能力又差，只能停下手中的工作去使用ppt来粗略画出想法方便理解，中途其实有些时间是不必要的消耗，因为我写的不够易懂导致交流时间较多，所以策划案是十分重要的东西，对于任何一名策划都应当认真面对。</p><p>策划案经历了许多波折，由少到多，增删改查，再到合适。当时我醒来就是策划案，闭眼睡觉前想的也是策划案，最后当策划案完成时我也来不及享受成就感，我也是PM和程序，所以忙完赶紧跑去给程序打下手和注意全员进度。</p><p>如果说让我再来一遍，会不会选择直接去问参赛过的老哥？我认为我还是会选择再来一遍，因为这是两份不同的策划案经验，而不是重复的。我都应该好好珍视它们并吸收，化作属于自己的东西。</p><blockquote><h4 id="2-Plan-B"><a href="#2-Plan-B" class="headerlink" title="2.Plan B"></a>2.Plan B</h4></blockquote><p>Plan B，总在舔狗文案里看到我是她的Plan B，但是Plan B，才是比赛中主策划必须准备好的东西</p><p>为什么要准备Plan B?我们总会有一个期望，期待事情总如自己所设想的那样发展，可是墨菲定律总是能精准的降临到很多人头上，事情总不会是一帆风顺</p><p>在我前面所提到的策划案下，其实是已经经历过了Plan B后的状态，我当时也甚至准备好了Plan C，我的Plan B是如何做到的呢？我这次积累的经验大概有以下两种。</p><ul><li><strong>运用学到的“加法”规则，常常思考，能够细化出哪些是还能够进行优化的点，哪些地方是还能够砍的点而不失去核心，哪些地方是能够进行偷懒的点，要了解到所有的进度并进行柔和更改，身为主策划都需要有明确的认知</strong></li><li><strong>合理规划时间，对整个制作流程有把握，多与美术和程序交流，发现可复用性低，难以实现，实现后使用次数不多的功能或素材应立即记录，时间不够时，分析情况立即采用Plan B，以保证Plan B的时效性不会太差</strong></li></ul><p>对于第一点，举个例子，在我写的第一版策划案中，主角所拥有的技能是整整12个小技能，3个大招的，并且对于特殊机制还有很多的使用方法，我们还有芯片升级系统。细化后发现，一个DEMO，玩家完全玩不了那么多的技能，也用不到升级系统，那么我制作出来是无效的，需要玩家进行多周目才有可能进行使用，但是如果我的战斗系统如果不如人意，又怎么让人来进行多周目游戏？</p><p>其次，玩家学习技能或者芯片所需要的学习成本是很大的，就好像如果你一般打游戏升级，都是装备→武器→宝石→强化→坐骑→翅膀→套装→天赋→技能→专精等等（顺序不一定对，每个游戏不同）的成长曲线，会让你一点点的学习，等你学明白了一个后才会加入新的机制，如果你一股脑一瞬间全丢给玩家，玩家就会无所适从，他不知道他应该去做什么，太多的成长路线了，也没有去具体的指导，是会让玩家懵逼的。</p><p>所以在第一次商讨后砍掉为1套技能组3个小技能，大招1个，共3套技能组，芯片升级系统直接砍掉，但是当我处于10月中旬的时候意识到，来不及——我们团队负责主角动画的美术要开学了，负责怪物动画的美术画完后还有很多的大作业，外加正好处于半期与体测期间，导致每个人都有很多的事，无法全身心投入，那么进度是绝对要被拖下来的，于是我启用了Plan B</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843584.webp" alt=""></p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843656.webp" alt=""></p><p>我设置的Plan B中，对于技能砍的更多，到最后仅仅只有1套技能组——2个小技能，1个大招，是的，Plan B从原先的15个技能砍到只剩3个，让程序和美术的工作量大大减少，身为关卡策划程序的我与场景美术的工作量也会减少，我不需要搭太多的关卡场景了，美术也不需要画太多的素材了，我们只需要保证做的这几个场景精度够高即可，而动画在忙完主角后也可以立即跑去UI制作帮忙，也为后面我们主程序分担了点美术工作量埋下伏笔</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843737.webp" alt=""></p><p>第二点，身为策划要常常去跟队员交流，队员也会来找策划进行交流，交流当然是要高效率的来讨论一个想法的可行性，不过这次我是写策划案写麻了，所以想法被榨干了（真的干了），跟队员交流后，你才能知道有些功能是不是一定必要的。</p><p>例如这次制作中，我原先设计的精英怪是有整整五个的，也就代表美术要画五组动画，包括待机，行走，攻击，技能，闪避，受击，死亡，在一次开会后，一致认为怪物工作量过多，不是一个demo的程度，交流后告诉我要进行砍掉，又跟程序交流后知道韧性值这一个游戏机制对于数值策划（也是我）要求十分高，我会忙不过来，所以我Plan B也对这些情况进行了优化。</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843791.webp" alt=""></p><p><strong>更改后</strong></p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843876.webp" alt=""></p><p>交流是十分重要的事，身为主策划的我也同时身为PM，也是我的职责，但是有关开会的经验，我会在PM篇讲述。需要交流才能实施Plan B，若是没有交流擅自进行Plan B，那么是会影响美术与程序的工作心情与质量，因为身为策划的你没有及时让美术和程序理解你的Plan B，他们已经做了的或正在做的东西被你中断，就会有无效工作量的存在，对于一个月，我们没有时间来接受过多无效工作量的存在，所以更应该及时进行交流。</p><p>交流的问题在其他组也有出现，比如我知道的有的组需求交流出了问题，然后美术才知道只剩一个星期有一堆需求赶工，两三天就要求美术出很多东西，是根本不可能来得及的，还同时影响每个人的心情，最后导致解散等等情况都是存在的，所以交流是一个十分重要的事，即使再社恐，为了避免误会的出现，<strong>一定要及时交流</strong>，你谈男/女朋友都知道有的误会不能拖，用在交流中也是一样的。</p><blockquote><h4 id="3-安全"><a href="#3-安全" class="headerlink" title="3.安全"></a>3.安全</h4></blockquote><p>安全是一个小点，但也是很重要的点：<strong>这位策划，你也不想你的策划案被NTR吧？</strong>（日本网友发言）</p><p>在比赛初期我在制作策划案时就想到了这个问题，要是有人把我写的策划案复制粘贴会发生什么事？游戏就撞了？我是无法接受这种事情的，所以我开始招人后意识到这个问题就及时的做了一些防范，也有策划提醒了我这样的情况，提高了我的安全意识。以后别人没同意的话还是不要随便把策划案发给别人，如果对方也会做策划的话有可能会偷案子。</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843003.webp" alt=""></p><blockquote><h4 id="4-文学和美学的积累"><a href="#4-文学和美学的积累" class="headerlink" title="4.文学和美学的积累"></a>4.文学和美学的积累</h4></blockquote><p>文学与美学的积累这一点是我与我们小组的主程序老哥交流后认知到主策划需要做到的东西，在没有与他人进行项目前，我一直认为有关这些积累应该属于编剧与美术的事情，在做完项目后才给了我新的体验。</p><p><strong>你要透过作品表达什么？</strong><br>游戏身为第九艺术，你需要这个作品表达出什么内涵？它有着怎样的精神内核？这个作品的深度到什么程度？是一名身为主策划要思考的事情。</p><p>是游戏《底特律·变人》中讨论仿生人是否能成为真正人类的探索与思考<br>是游戏《赛博朋克2077》中对未来的警告与朋克内核的反抗精神。<br>是电影《疾速追杀》中对枪械战斗，现实黑帮的细节描写与动作打斗的爽感。<br>是电影《我不是药神》中对各人物的深刻刻画与面对现实不得不用假药的无奈。<br>是音乐《玫瑰少年》中对“叶永志”有关事件延展到对性别刻板印象的质问与回应。<br>是音乐《曾经我也想过一了百了》中与崩溃时的人们的情绪共情和对他们的安慰。<br>是文学《惊悚乐园》中对“疯不觉”这一人物的深度刻画，刻画出一名自由不羁，逻辑缜密，一位不折不扣的“怪物”<br>是文学《三体》中描绘的当真的存在其他星系的人类，我们最终看穿“黑暗森林”法则的现实。</p><p>人类历史上的作品还有很多很多，我这里提到的也仅仅只是人类文化历史长河中的几滴水，但他们都有着独属于自己想表达的东西，那么对于游戏，也要真正的理解它作为第九艺术的优劣，在这点上我做的远远不够，也不过多论述。</p><p>作为一名创作者，大坑是陷入自己的自嗨，等到后面再看自己以前的设计，大概率是会感觉到俗，他人不一定能get到你的点，这是身为创作者的通病，但生病不怕，趁现在时间还多，去改正它，如果时间不多，去避免它，但长远计划还是需要改正才能够获得全新的进步。</p><p>对于游戏，身为主策划应该去提升属于自己的文学与美学素养，才能够了解到更多的方式，当你需要表达出什么时才知道有哪些方式可以去表达你想要的东西，文学与美学素养过少，就会导致你想表达的东西最后做出来很奇怪，甚至是无法表达出来，多看，多学习，多思考，多总结，才能够创作出一个有深度的游戏。</p><p>这次比赛也暴露了我对于这点的问题，我的文学素养远远不够，但也不能心急，因为素养这个事不是能够一个月速成的，它是需要一朝一夕的积累才能够沉淀下来的，主策划需要做的，远比我想得更多。</p><blockquote><h4 id="5-主策划总结"><a href="#5-主策划总结" class="headerlink" title="5.主策划总结"></a>5.主策划总结</h4></blockquote><p>主策划要做的事其实我很认可知乎的一句话，亢龙有悔：<br>亢，代表着你是整个团队的主心骨，认真决策，承担责任，抗压，决策是一个责任，而不是一种权力，用人有道，是团队的动力，意志力，带领团队前进。<br>悔，是藏在心里的悔，很令人回味，有太多的事我没有做好，有太多的东西我没有了解，有太多的经验我没有学到，有太多的想做的没有做成，是一直藏在心里无时不刻的悔。<br>主策划也一般担任着领导者的作用，所以作为领导者也要杀伐果断，能力不足就需要拿出属于自己的应对措施，避免让整个团队因为某件事而影响总体进度。<br>我也会继续积攒经验，让自己更了解主策划这一职业。</p><hr><blockquote><h2 id="关卡策划："><a href="#关卡策划：" class="headerlink" title="关卡策划："></a>关卡策划：</h2><p><strong>优秀的美术有可能被糟糕的关卡结构限制观感，有趣的系统也可能被拖沓的关卡节奏变得冗长乏味。</strong></p></blockquote><p>有一个好消息和一个坏消息，好消息是关卡策划是我，我能得到的经验更多了，坏消息是关卡策划是我，我好累。</p><p>关卡策划，一个不太被国内市场重视的职位，但是你能在各种游戏中看到他的身影。</p><p>大到战地五，吃鸡，apex，塞尔达，原神的大关卡设计，小到彩虹六号，茶杯头，csgo，艾希的关卡设计，都存在着满满的知识。虽然看起来是地图设计，但是地图中的任何一个掩体，一个空间，一个物品，有时可能都有着属于自己的作用，所以关卡设计是一个优秀的游戏必需的职位，他关乎着整个玩家游戏体验，玩家有关玩法的正反馈等等全由关卡策划来决定，所以关卡策划也同时是决定一个玩法是否好玩的人。</p><p>这次比赛做的游戏其实是偏向战斗游戏《武士零》《艾希》《死亡细胞》的关卡设计</p><h3 id="我认为比赛中关卡策划所需要做的事情："><a href="#我认为比赛中关卡策划所需要做的事情：" class="headerlink" title="我认为比赛中关卡策划所需要做的事情："></a><strong>我认为比赛中关卡策划所需要做的事情：</strong></h3><blockquote><h4 id="设定关卡期望并细化流程需求"><a href="#设定关卡期望并细化流程需求" class="headerlink" title="设定关卡期望并细化流程需求"></a>设定关卡期望并细化流程需求</h4></blockquote><p>在关卡设计，我们对于当前关卡是有一个期望的，比如新手关卡希望玩家学会游戏的基本操作，比如某些剧情关卡希望玩家了解到游戏新增的概念，确定关卡期望，才能够细化关卡需求，对于这次比赛，我总共设计了两个关卡，这里通过制作的游戏地图讲解一下我的大致思路。</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843076.webp" alt=""></p><p>首先由于工期只有仅仅的一个月，我们在紧急会议商讨后，商讨出了新手关卡的设计思路</p><p>首先我们期望的新手场景游戏流程：</p><ul><li>玩家出生在安全屋，学习最基础的游戏操作与欣赏游戏场景</li><li>玩家移动到第二区域后进行攻击与跳跃的学习</li><li>玩家移动到第三区域后解锁减速能力并进行学习使用</li><li>结束后玩家进入安全区电梯，学会互动补给状态后，通过电梯进入下一新手场景</li><li>玩家到达天台后，解锁减速能力，进行学习与运用</li><li>玩家在第四部分欣赏场景</li><li>玩家进入第五部分进行综合检验，给予玩家挑战</li><li>结束新手教程，进入酒馆场景</li></ul><p>这是我最初的关卡设计理念，我们需要玩家在安全屋学习游戏基本操作，并在每次战斗后有一定的喘息时间，让玩家休整后再进行下一部分的战斗。<br>当初的Plan A计划中是存在一种怪物，牧师型怪物，需要玩家运用设计好的减速能力来进行击杀，在天台场景，需要玩家运用设计好的加速能力来进行移动穿梭，也就是我们需要创造出玩家使用技能的需求，如果没有使用技能的需求，又何必要用呢？<br>对于这个概念图，我们小组的美术对概念图进行了一定的细化想法。身为关卡策划，需要思考如何让玩家产生需求，才是好的关卡设计。</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843156.webp" alt=""></p><p>但是在进行了Plan B后，我们砍掉了一些很有趣的设计，包括场景，也由于在砍的时候我忘记了关卡设计的雷点，导致后续游戏体验出了一定的问题，后续会进行讲述。在场景美术产出素材后，我也就开始搭建出属于游戏的地图场景关卡。</p><p>首先我参考了《迷雾侦探》的地图设计，他的地图设计是一种大型场景间的小交互</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843278.webp" alt=""></p><p>很明显，这种场景对于美术工作量过大，并且一旦不能复用，相当于我们花了很多的力气只使用了一次，是十分不合理的做法，并且关卡也不用多作思考，只需要考虑放几个怪物，怪物种类即可，虽然能减少我的工作量，但美术太累了。</p><p>那如果是战斗游戏《艾希》而不是解密互动游戏《迷雾侦探》呢？</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843378.webp" alt=""></p><p>同样的，艾希也是如此，虽然说我们公司场景可以复用多次背景，但是艾希也是每个中场景进行战斗，它的地图更像是一种横向的，战斗时是没有过多的跳跃平台的，讨论后也不合适，复用率太低。</p><p>于是我们看向小场景战斗的《死亡细胞》《武士零》的关卡设计</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843531.webp" alt=""></p><p>《死亡细胞》的设计便是一个个的小房间进行战斗，通过跳跃，机关等元素切换房间再次进行战斗，这样的好处是能够复用很多的地面，背景，场景小物体，每个房间只需要有一部分的差异即可，不用消耗过多的美术资源，但小场景的紧凑感不太符合我们的战斗场景，过于紧凑对于赛博朋克风格的资源是会有审美疲劳的情况出现，所以也不是十分合适。</p><p>武士零的房间就更加的紧凑了</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843622.webp" alt=""></p><p>两种游戏的战斗风格截然不同，武士零追求的是互相秒杀，玩家需要考虑的是路线，技能的释放时机，与攻击的timing，虽然含有一定的赛博朋克元素，但是可以发现，每个房间的背景是不同的，为了避免玩家审美疲劳，还有门的元素夹杂在其中，并且斜坡的元素这次代码中我的策划案与程序都没有注意，所以在地图设计中也得砍掉斜坡的设定，也就继续看向其他类型的地图。（队里全都忘了，做完地图测试时主角移动时发现的问题）</p><p>想到跳跃，战斗，必不可少的便是《空洞骑士》，一款经典的战斗游戏。</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843762.webp" alt=""></p><p>相较于《艾希》《迷雾侦探》的大地图，《空洞骑士》的地图设计并不像这两款游戏那么大，也不像《武士零》《死亡细胞》如此紧凑，它是一种中场景，既不会过大导致美术工作量极大，也不会过小导致玩家审美疲劳，十分符合我认为对于这款游戏较为合理的地图设计，但是素材复用率还是不够，我们美术素材产出不会那么多。</p><p>那么《铲子骑士》呢？</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843916.webp" alt=""></p><p>它真的很普通，没有特别精美的画面，没有特别的机关，但是经典自然有自己的道理，它用了很少的美术资源，让玩家获得了不错的游戏体验。关卡设计十分值得学习，并且也正好符合我使用的tilemap（unity的一种地图），在结合了以上几款游戏的优点后，决定采用中场景的战斗地图设计</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843005.webp" alt=""></p><p>（这是完成后的场景部分，白膜阶段当时没有截图）<br>接下来讲解的思路参考来源于该博客，我也是通过该博客点拨后完成这次比赛的关卡设计<a href="https://www.bilibili.com/read/cv12475251">https://www.bilibili.com/read/cv12475251</a></p><p>对于关卡流程，我们要分三个点来进行分析：</p><h5 id="1-故事"><a href="#1-故事" class="headerlink" title="1. 故事"></a>1. 故事</h5><p>在这个关卡，需要怎样的环境？这个关卡处于怎样的流程？以我们先前画出的草图为例</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843156.webp" alt=""></p><p>我们的游戏此时流程为新手流程，那需要给与玩家足够的能力与较低的难度，让玩家学习游戏基本操作。</p><p>大家也想必在高中时语文课学了故事的六要素：时间、地点、人物。起因、经过、结果。是一个故事最基本的构成。</p><p>地点，游戏环境因为是在赛博朋克的世界观下，对于底层也就想到了下水道里的贫民窟，垃圾场，废弃实验室等思路，所以第一场景设置为下水道等环境。</p><p>人物，我们设置了怪物与主角</p><p>时间，在安全区中设置了对话，告知玩家时间，通过地图环境，也告知了故事发生时间</p><p>起因，通过对话告知玩家由于玩家做了一些事，导致被追杀只能躲入下水道</p><p>经过，也就是玩家游玩时所经历的事件</p><p>结果，在对话中告知玩家需要离开下水道前往下一场景</p><p>这样，对于新手关卡中故事所需六要素我们具备齐全，接下来就是在“经过”中给予玩家<strong>挑战</strong>与<strong>能力</strong></p><h5 id="2-挑战"><a href="#2-挑战" class="headerlink" title="2.挑战"></a>2.挑战</h5><p>挑战的类型对于不同的游戏多种多样，在战斗游戏中，可能是怪物种类的不同，boss战，无限模式等都是一种挑战；在跳跃游戏中，一些需要跳跃才能避过的死亡，也是一种挑战；在对战FPS游戏中，与其他队伍的对抗也是一种挑战。</p><p>挑战的设置也要遵循一种曲线，它并不是一种逐渐递增的难度曲线，具体形式类似于这张图</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843055.webp" alt=""></p><p>关卡难度要递增，但不能一直增，就像成语——跌宕起伏，故事如果只是一路高歌，只会让玩家感觉疲惫，如果只是一条直线，又枯燥无味，所以关卡设计的曲线应当有喘息时间。</p><p>回到游戏，这次制作游戏如果只有怪物这一种类型的挑战，实在过于枯燥，所以加入了一定的跳跃元素来丰富挑战内容（虽然说最后还是对自己各种不满意）</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843101.webp" alt=""></p><p>对于一开始，我们教导了玩家如何进行操作，并给出第一个挑战，两个小怪，十分简单<br>在玩家击杀后进入下一区域的中途，给予了玩家能力</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843157.webp" alt=""></p><p>这里我们给予玩家两条路线，并且通过红光的NoExit提醒玩家应当先去往上面进行能力的运用，然后再来此处进行战斗测验</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843207.webp" alt=""></p><p>我们的下水道场景也就到此结束，通过与电梯互动，进入下一场景</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843254.webp" alt=""></p><p>在天台场景，用跳跃元素更改了原先的战斗挑战，这特殊的地点是期望玩家学会使用加速状态下的技能进行跳跃到达另一部分进行后续剧情，但这里由于我的失误，未在此处设立复活点和新手指导，导致玩家体验较差，是我记忆尤深的地方。</p><p><img src="https://cdn.staticaly.com/gh/Genster-Zero/imgbed@main/img/202302220843301.webp" alt=""></p><p>分割下一战斗区域，让玩家喘息时也能欣赏场景美术画的美景，同时解锁技能，使得玩家可以应对更多的挑战</p><h5 id="3-能力"><a href="#3-能力" class="headerlink" title="3.能力"></a>3.能力</h5><p>挑战中我们就提到了能力，能力，代表着玩家可以做到什么，我们可以细化一下玩家可以在这个新手关卡拥有的基本能力</p><ul><li>攻击</li><li>闪避</li><li>加速</li><li>减速</li><li>小技能1</li><li>小技能2</li><li>大招</li><li>拾取</li><li>观察</li><li>补给</li></ul><p>在下水道躲避大量敌人时，玩家需要学会互动系统中的：拾取，补给，观察；战斗系统中的攻击，加速，减速，减速状态下的免伤，加速状态下的加伤。</p><p>在上升到天台前往酒吧时，玩家需要学会战斗系统中的：小技能1，小技能2，大招，加速状态下的移动，加速状态下的闪避，加速状态与技能的联动效果</p><p>合理的分配玩家学习能力的区间，可以让玩家学习成本平摊并获得较好的游戏体验。能力也代表着玩家可选的通关方式更多，增加了玩家的可选性。</p><p>谨记一点便是能力与挑战的关系，应该大部分是充分不必要的关系，玩家可以通过已有的能力进行通关，关卡设计更应该做的是引导玩家使用新的能力，通过奖励机制等使玩家愿意去用新的能力，如果在某些场景强迫玩家使用一种能力并且从逻辑上无法讲通，这样的关卡设计是不够<strong>“优雅”</strong>的。<br>（由于开发体量真的很小，所以以后可能了解更多后进行输出）</p><blockquote><h4 id="关卡策划经验总结："><a href="#关卡策划经验总结：" class="headerlink" title="关卡策划经验总结："></a>关卡策划经验总结：</h4></blockquote><p>关卡策划影响到游戏整体体验，是让我在这次游戏中深深感受到的一件事，此次比赛中，我也犯了很多的错误。</p><p>第一点便是Plan B忘记了重新设定关卡流程，导致玩家解锁加速/减速技能在下水道，而解锁战斗技能在天台，可是对于天台场景，加速/减速技能的运用是必须的，应当调整解锁顺序，增强玩家记忆，对于这一点我深知有错。</p><p>第二点便是天台场景的空中跳跃，我没有设置教程，复活点，引导等方式导致玩家游戏前期体验糟糕，频繁的死亡会导致玩家体验降低。</p><p>第三点便是在后续主线关卡，没有提前设定好其他类型的挑战，导致玩家只能一直接受击杀敌人挑战，使游戏变得乏味。</p><p>我也会谨记这些错误，在以后每次游戏测试中将自己当作一位萌新来进行游玩，也让很多没有体验过游戏的人进行测试，通过他们的反馈，了解到哪些地方的关卡设计是不合理的并进行改正。</p><hr><blockquote><h2 id="数值策划"><a href="#数值策划" class="headerlink" title="数值策划:"></a>数值策划:</h2><p>国内现在较为重要的两个策划之一，一个是系统策划，另一个便是数值策划了，数值策划的概念也可以搜到，不过多赘述（主要是这次的游戏涉及的数值真的很少）</p></blockquote><p>虽然此次比赛涉及的数值策划较少，但还是告诉大家设计思路，<strong>仅作参考</strong></p><h4 id="主角："><a href="#主角：" class="headerlink" title="主角："></a>主角：</h4><p>血量：100 蓝量：100  移速：8 闪避CD：3s<br>速度加成比例：150% 伤害加成比例：200% 免伤比例：100%<br>攻击一：10+10 攻击二：10+10 攻击三：20 攻击四：20 攻击五：40<br>大招CD：10s 伤害：180 大招削弱属性比例：50%<br>激光炮CD：10s 伤害：240<br>蓄意轰拳CD：5s 伤害：180 </p><h4 id="小怪："><a href="#小怪：" class="headerlink" title="小怪："></a>小怪：</h4><h5 id="近战一："><a href="#近战一：" class="headerlink" title="近战一："></a>近战一：</h5><p>血量：360 攻击伤害：4 移速：2 </p><h5 id="近战二："><a href="#近战二：" class="headerlink" title="近战二："></a>近战二：</h5><p>血量：480 攻击伤害：6 移速：1.8</p><h5 id="远程一："><a href="#远程一：" class="headerlink" title="远程一："></a>远程一：</h5><p>血量：280 攻击伤害：8 移速 1.8 闪避CD：3S</p><h4 id="精英怪："><a href="#精英怪：" class="headerlink" title="精英怪："></a>精英怪：</h4><h5 id="自回型："><a href="#自回型：" class="headerlink" title="自回型："></a>自回型：</h5><p>血量：900 攻击伤害：8 移速：1.8 大招回血：200 CD：10s</p><h5 id="刺客型："><a href="#刺客型：" class="headerlink" title="刺客型："></a>刺客型：</h5><p>血量：700 攻击伤害：10 移速：2.3 大招伤害：20 CD：5s</p><p>设计思路为：<br>玩家普攻为5次连击，所耗时间2s，一套普攻120，血量100和蓝量100是为了方便计算。<br>玩家击杀小怪应为2 ~ 3套普攻，小怪血量应设置为240 ~ 360。</p><p>技能收益应比普攻高，则最低标准为150。<br>技能收益也不能过高，秒杀怪物玩家只会愿意使用技能，最高标准不过360。</p><p>于是设置激光炮的伤害为使用后玩家仅需一套普攻即可击杀小怪。<br>轰拳设定为玩家需要一套半进行击杀小怪。</p><p>考虑到玩家开启加速状态后技能可以秒杀小怪，但不应该秒杀精英怪。<br>那么精英怪血量至少为480以上（以最高技能伤害的2倍计算）。<br>公司为主线关卡，数值应比新手高，所以公司关卡怪物血量高于新手关卡。</p><p>以上便是涉及到数值的思路设计，数值策划的工作远远没有如此简单，期待以后我参与更多的项目进行了解。</p><hr><h1 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h1><p>此次接触了很多策划的职务，主策划，关卡策划，数值策划，但没有过多的接触文案策划，文案是交给了我们团队的一位成员进行制作。也算体验了一次亲自带领一个团队制作游戏，对策划岗位由更多的认知。</p><p>个人感觉我有太多的事没有做好，其中也跟比赛时经受的压力过大有关。所以也希望各位如果参加该类比赛时，策划只有一个的话是很累的，或者作为策划就只做策划的事。不要像我一样，还加上了程序和PM的活。</p><p>策划篇也就到此结束。以后的比赛经历等积攒足够后才进行总结。我们程序篇见！</p>]]></content>
      
      
      <categories>
          
          <category> 游戏开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏开发 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>归档</title>
      <link href="/archives/index.html"/>
      <url>/archives/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>关于</title>
      <link href="/about/index.html"/>
      <url>/about/index.html</url>
      
        <content type="html"><![CDATA[<!-- GitCalendar容器 --><div id="gitZone"></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>分类</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/readPrecent.css"/>
      <url>/css/readPrecent.css</url>
      
        <content type="html"><![CDATA[/* 返回顶部 */button#go-up #percent {    display: none;    font-weight: bold;    font-size: 15px !important;}button#go-up span {    font-size: 12px !important;    margin-right: -1px;}/* 鼠标滑动到按钮上时显示返回顶部图标 */button#go-up:hover i {    display: block !important;}button#go-up:hover #percent {    display: none !important;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/custom.css"/>
      <url>/css/custom.css</url>
      
        <content type="html"><![CDATA[#footer {    background: transparent !important;}#page-header {    background: transparent !important;}/* ����ģʽ����͸�� */#footer::before {    background: transparent !important;}#page-header::before {    background: transparent !important;}/* ҹ��ģʽ����͸�� */[data-theme="dark"] #footer::before {    background: transparent !important;}[data-theme="dark"] #page-header::before {    background: transparent !important;}/* С��������������ҹģʽ���� *//* һ��״̬ */[data-theme="dark"] .magnet_link_context {    background: #1e1e1e;    color: antiquewhite;}    /* �������״̬ */[data-theme="dark"] .magnet_link_context:hover {    background: #3ecdf1;    color: #f2f2f2;}@font-face {    /* Ϊ���������ȡ����(����) */    font-family: 'YSB';    /* �����ļ���ַ(��Ի��߾���·��������) */    src: url('/font/ysb.ttf');    /* ����Ӵ���ʽ(�Ӵֶ���) */    font-weight: normal;    /* ����������ʽ(б��/��б��) */    font-style: normal;    /* ������ʾ��ʽ */    font-display: block;}@font-face {    /* Ϊ���������ȡ����(����) */    font-family: 'YSX';    /* �����ļ���ַ(��Ի��߾���·��������) */    src: url('/font/ysx.otf');    /* ����Ӵ���ʽ(�Ӵֶ���) */    font-weight: normal;    /* ����������ʽ(б��/��б��) */    font-style: normal;    /* ������ʾ��ʽ */    font-display: block;}::-webkit-scrollbar {    display: none;}/* ��ҳ��ť���� */#pagination {    width: 100%;    margin: auto;}/* һ���˵����� */#nav .menus_items {    position: absolute !important;    width: fit-content !important;    left: 50% !important;    transform: translateX(-50%) !important;}    /* �Ӳ˵�����չʾ */    #nav .menus_items .menus_item:hover .menus_item_child {        display: flex !important;    }/* �����2�Ǵ����������ĵ�2��Ԫ�أ������Ӳ˵���Ԫ�أ����԰��Լ������޸� */.menus_items .menus_item:nth-child(5) .menus_item_child {    left: -40px;}/* �ռ�ģʽ����Ч */[data-theme="light"] #site-name,[data-theme="light"] #site-title,[data-theme="light"] #site-subtitle,[data-theme="light"] #post-info {  animation: none;}/* ҹ��ģʽ��Ч */[data-theme="dark"] #site-name,[data-theme="dark"] #site-title {  animation: light_15px 10s linear infinite;}[data-theme="dark"] #site-subtitle {  animation: light_10px 10s linear infinite;}[data-theme="dark"] #post-info {  animation: light_5px 10s linear infinite;}/* �ؼ�֡���� */@keyframes light_15px {  0% {    text-shadow: #5636ed 0 0 15px;  }  12.5% {    text-shadow: #11ee5e 0 0 15px;  }  25% {    text-shadow: #f14747 0 0 15px;  }  37.5% {    text-shadow: #f1a247 0 0 15px;  }  50% {    text-shadow: #f1ee47 0 0 15px;  }  50% {    text-shadow: #b347f1 0 0 15px;  }  62.5% {    text-shadow: #002afa 0 0 15px;  }  75% {    text-shadow: #ed709b 0 0 15px;  }  87.5% {    text-shadow: #39c5bb 0 0 15px;  }  100% {    text-shadow: #5636ed 0 0 15px;  }}@keyframes light_10px {  0% {    text-shadow: #5636ed 0 0 10px;  }  12.5% {    text-shadow: #11ee5e 0 0 10px;  }  25% {    text-shadow: #f14747 0 0 10px;  }  37.5% {    text-shadow: #f1a247 0 0 10px;  }  50% {    text-shadow: #f1ee47 0 0 10px;  }  50% {    text-shadow: #b347f1 0 0 10px;  }  62.5% {    text-shadow: #002afa 0 0 10px;  }  75% {    text-shadow: #ed709b 0 0 10px;  }  87.5% {    text-shadow: #39c5bb 0 0 10px;  }  100% {    text-shadow: #5636ed 0 0 10px;  }}@keyframes light_5px {  0% {    text-shadow: #5636ed 0 0 5px;  }  12.5% {    text-shadow: #11ee5e 0 0 5px;  }  25% {    text-shadow: #f14747 0 0 5px;  }  37.5% {    text-shadow: #f1a247 0 0 15px;  }  50% {    text-shadow: #f1ee47 0 0 5px;  }  50% {    text-shadow: #b347f1 0 0 5px;  }  62.5% {    text-shadow: #002afa 0 0 5px;  }  75% {    text-shadow: #ed709b 0 0 5px;  }  87.5% {    text-shadow: #39c5bb 0 0 5px;  }  100% {    text-shadow: #5636ed 0 0 5px;  }}/* �����������Ϣ��Ƭ��̬����ɫ */#aside-content > .card-widget.card-info {    background: linear-gradient( -45deg, #B9F3FC, #AEE2FF, #93C6E7, #FEDEFF, #eec1ea );    box-shadow: 0 0 5px rgb(66, 68, 68);    position: relative;    background-size: 400% 400%;    -webkit-animation: Gradient 10s ease infinite;    -moz-animation: Gradient 10s ease infinite;    animation: Gradient 10s ease infinite !important;}@-webkit-keyframes Gradient {    0% {        background-position: 0% 50%;    }    50% {        background-position: 100% 50%;    }    100% {        background-position: 0% 50%;    }}@-moz-keyframes Gradient {    0% {        background-position: 0% 50%;    }    50% {        background-position: 100% 50%;    }    100% {        background-position: 0% 50%;    }}@keyframes Gradient {    0% {        background-position: 0% 50%;    }    50% {        background-position: 100% 50%;    }    100% {        background-position: 0% 50%;    }}/* ��ҹģʽ���� */[data-theme="dark"] #aside-content > .card-widget.card-info {    background: #191919ee;}/* ������ϢFollow me��ť */#aside-content > .card-widget.card-info > #card-info-btn {    background-color: #FFAACF;    border-radius: 8px;}/* �����ʽ */#cursor {    position: fixed;    width: 16px;    height: 16px;    /* ����ı����ĵ�ɫ */    background: #FCFFE7;    border-radius: 8px;    opacity: 0.25;    z-index: 10086;    pointer-events: none;    transition: 0.2s ease-in-out;    transition-property: background, opacity, transform;}    #cursor.hidden {        opacity: 0;    }    #cursor.hover {        opacity: 0.1;        transform: scale(2.5);        -webkit-transform: scale(2.5);        -moz-transform: scale(2.5);        -ms-transform: scale(2.5);        -o-transform: scale(2.5);    }    #cursor.active {        opacity: 0.5;        transform: scale(0.5);        -webkit-transform: scale(0.5);        -moz-transform: scale(0.5);        -ms-transform: scale(0.5);        -o-transform: scale(0.5);    }:root {    --trans-light: rgba(255, 255, 255, 0.88);    --trans-dark: rgba(25, 25, 25, 0.88);    --border-style: 1px solid rgb(169, 169, 169);    --backdrop-filter: blur(5px) saturate(150%);}/* ��ҳ���¿�Ƭ */#recent-posts > .recent-post-item {    background: var(--trans-light);    backdrop-filter: var(--backdrop-filter);    border-radius: 25px;    border: var(--border-style);}/* ��ҳ������Ƭ */#aside-content .card-widget {    background: var(--trans-light);    backdrop-filter: var(--backdrop-filter);    border-radius: 18px;    border: var(--border-style);}/* ����ҳ���鵵ҳ����ͨҳ�� */div#post,div#page,div#archive {    background: var(--trans-light);    backdrop-filter: var(--backdrop-filter);    border: var(--border-style);    border-radius: 20px;}/* ������ */#page-header.nav-fixed #nav {    background: rgba(255, 255, 255, 0.75);    backdrop-filter: var(--backdrop-filter);}[data-theme="dark"] #page-header.nav-fixed #nav {    background: rgba(0, 0, 0, 0.7) !important;}/* ҹ��ģʽ���� */[data-theme="dark"] #recent-posts > .recent-post-item,[data-theme="dark"] #aside-content .card-widget,[data-theme="dark"] div#post,[data-theme="dark"] div#archive,[data-theme="dark"] div#page {    background: var(--trans-dark);}/* ҹ��ģʽҳ��ҳͷ����͸�� */[data-theme="dark"] #footer::before {    background: transparent !important;}[data-theme="dark"] #page-header::before {    background: transparent !important;}/* �Ķ�ģʽ */.read-mode #aside-content .card-widget {    background: rgba(158, 204, 171, 0.5) !important;}.read-mode div#post {    background: rgba(158, 204, 171, 0.5) !important;}/* ҹ��ģʽ�µ��Ķ�ģʽ */[data-theme="dark"] .read-mode #aside-content .card-widget {    background: rgba(25, 25, 25, 0.9) !important;    color: #ffffff;}[data-theme="dark"] .read-mode div#post {    background: rgba(25, 25, 25, 0.9) !important;    color: #ffffff;}/*ͼ��*/svg.menu_icon {    width: 1.28em;    height: 1.28em;    vertical-align: -0.25em;    fill: currentColor;    overflow: hidden;}svg.social_icon {    width: 1.28em;    height: 1.28em;    vertical-align: -0.25em;    fill: currentColor;    overflow: hidden;}/*����������*/.pace {    -webkit-pointer-events: none;    pointer-events: none;    -webkit-user-select: none;    -moz-user-select: none;    user-select: none;    z-index: 2000;    position: fixed;    margin: auto;    top: 4px;    left: 0;    right: 0;    height: 8px;    border-radius: 8px;    width: 7rem;    background: #eaecf2;    border: 1px #e3e8f7;    overflow: hidden}.pace-inactive .pace-progress {    opacity: 0;    transition: .3s ease-in}.pace .pace-progress {    -webkit-box-sizing: border-box;    -moz-box-sizing: border-box;    -ms-box-sizing: border-box;    -o-box-sizing: border-box;    box-sizing: border-box;    -webkit-transform: translate3d(0, 0, 0);    -moz-transform: translate3d(0, 0, 0);    -ms-transform: translate3d(0, 0, 0);    -o-transform: translate3d(0, 0, 0);    transform: translate3d(0, 0, 0);    max-width: 200px;    position: absolute;    z-index: 2000;    display: block;    top: 0;    right: 100%;    height: 100%;    width: 100%;    /* linear-gradient(to right, #3494e6, #ec6ead) */    background: linear-gradient(to right, #C0C0C0, #3866ca);    animation: gradient 2s ease infinite;    background-size: 200%}.pace.pace-inactive {    opacity: 0;    transition: .3s;    top: -8px}/*����������Ƶ����*/.aspect-ratio {  position: relative;  width: 90%;  height: auto;  padding-bottom: 75%;  margin: 3% auto;  text-align: center;}.aspect-ratio iframe {  position: absolute;  width: 100%;  height: 86%;  left: 0;  top: 0;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/runtime.min.css"/>
      <url>/css/runtime.min.css</url>
      
        <content type="html"><![CDATA[/*电子钟字体*/@font-face {    font-family: 'UnidreamLED';    src: url("https://cdn.jsdelivr.net/npm/akilar-candyassets/fonts/UnidreamLED.ttf");    font-display: swap;}div#runtime {    width: 260px;    margin: auto;    color: #fff;    padding-inline: 5px;    border-radius: 10px;    background-color: rgba(0,0,0,0.7);    font-family: 'UnidreamLED';}[data-theme="dark"] div#runtime {    color: #28b4c8;    box-shadow: 0 0 5px rgba(28,69,218,0.71);    animation: flashlight 1s linear infinite alternate;}/*悬停显示徽标提示语*/a.github-badge:hover:before {    position: fixed;    width: fit-content;    margin: auto;    left: 0;    right: 0;    top: 10%;    border-radius: 10px;    text-align: center;    z-index: 100;    content: attr(data-title);    font-size: 20px;    color: #fff;    padding: 10px;    background-color: var(--text-bg-hover);}[data-theme=dark] a.github-badge:hover:before {    background-color: rgba(18,18,18,0.8);}@-moz-keyframes flashlight {    from {        box-shadow: 0 0 5px #1478d2;    }    to {        box-shadow: 0 0 2px #1478d2;    }}@-webkit-keyframes flashlight {    from {        box-shadow: 0 0 5px #1478d2;    }    to {        box-shadow: 0 0 2px #1478d2;    }}@-o-keyframes flashlight {    from {        box-shadow: 0 0 5px #1478d2;    }    to {        box-shadow: 0 0 2px #1478d2;    }}@keyframes flashlight {    from {        box-shadow: 0 0 5px #1478d2;    }    to {        box-shadow: 0 0 2px #1478d2;    }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>游戏</title>
      <link href="/games/index.html"/>
      <url>/games/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/universe.css"/>
      <url>/css/universe.css</url>
      
        <content type="html"><![CDATA[/* ���������ǹ�  */#universe {    display: block;    position: fixed;    margin: 0;    padding: 0;    border: 0;    outline: 0;    left: 0;    top: 0;    width: 100%;    height: 100%;    pointer-events: none;    /* ����ǵ��ö������ȼ��ģ�-1������ҳ���棬�������棬�����Ƽ����� */    z-index: -1;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/cursor.js"/>
      <url>/js/cursor.js</url>
      
        <content type="html"><![CDATA[var CURSOR;Math.lerp = (a, b, n) => (1 - n) * a + n * b;const getStyle = (el, attr) => {    try {        return window.getComputedStyle            ? window.getComputedStyle(el)[attr]            : el.currentStyle[attr];    } catch (e) { }    return "";};class Cursor {    constructor() {        this.pos = { curr: null, prev: null };        this.pt = [];        this.create();        this.init();        this.render();    }    move(left, top) {        this.cursor.style["left"] = `${left}px`;        this.cursor.style["top"] = `${top}px`;    }    create() {        if (!this.cursor) {            this.cursor = document.createElement("div");            this.cursor.id = "cursor";            this.cursor.classList.add("hidden");            document.body.append(this.cursor);        }        var el = document.getElementsByTagName('*');        for (let i = 0; i < el.length; i++)            if (getStyle(el[i], "cursor") == "pointer")                this.pt.push(el[i].outerHTML);        document.body.appendChild((this.scr = document.createElement("style")));        // ����ı����ָ�����ɫ ��svg����        this.scr.innerHTML = `* {cursor: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8' width='8px' height='8px'><circle cx='4' cy='4' r='4' opacity='1.0' fill='rgb(186, 215, 233)'/></svg>") 4 4, auto}`;    }    refresh() {        this.scr.remove();        this.cursor.classList.remove("hover");        this.cursor.classList.remove("active");        this.pos = { curr: null, prev: null };        this.pt = [];        this.create();        this.init();        this.render();    }    init() {        document.onmouseover = e => this.pt.includes(e.target.outerHTML) && this.cursor.classList.add("hover");        document.onmouseout = e => this.pt.includes(e.target.outerHTML) && this.cursor.classList.remove("hover");        document.onmousemove = e => { (this.pos.curr == null) && this.move(e.clientX - 8, e.clientY - 8); this.pos.curr = { x: e.clientX - 8, y: e.clientY - 8 }; this.cursor.classList.remove("hidden"); };        document.onmouseenter = e => this.cursor.classList.remove("hidden");        document.onmouseleave = e => this.cursor.classList.add("hidden");        document.onmousedown = e => this.cursor.classList.add("active");        document.onmouseup = e => this.cursor.classList.remove("active");    }    render() {        if (this.pos.prev) {            this.pos.prev.x = Math.lerp(this.pos.prev.x, this.pos.curr.x, 0.15);            this.pos.prev.y = Math.lerp(this.pos.prev.y, this.pos.curr.y, 0.15);            this.move(this.pos.prev.x, this.pos.prev.y);        } else {            this.pos.prev = this.pos.curr;        }        requestAnimationFrame(() => this.render());    }}(() => {    CURSOR = new Cursor();    // ��Ҫ���»�ȡ�б�ʱ��ʹ�� CURSOR.refresh()})();]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/readPrecent.js"/>
      <url>/js/readPrecent.js</url>
      
        <content type="html"><![CDATA[window.onscroll = percent;// 执行函数// 页面百分比function percent() {    let a = document.documentElement.scrollTop || window.pageYOffset, // 卷去高度        b = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight) - document.documentElement.clientHeight, // 整个网页高度        result = Math.round(a / b * 100), // 计算百分比        up = document.querySelector("#go-up") // 获取按钮    if (result <= 95) {        up.childNodes[0].style.display = 'none'        up.childNodes[1].style.display = 'block'        up.childNodes[1].innerHTML = result + '%';    } else {        up.childNodes[1].style.display = 'none'        up.childNodes[0].style.display = 'block'    }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/music.js"/>
      <url>/js/music.js</url>
      
        <content type="html"><![CDATA[$(function () {    //获取当前页面播放器类型    var type = $('#aplayerType').val();    if (type == 'mini') {        playerOption.mini = true;    } else if (type == 'fixed') {        playerOption.fixed = true;    }    //加载播放列表    $.ajax({        type: 'post',        url: 'http://120.78.206.50/getPlayList',        data: {            listId: $('#listId').val()        },        success: function (res) {            playerOption.audio = res;            //初始化播放器            var ap = new APlayer(playerOption);        },        error: function () {            alert('获取歌单信息失败！');        }    });});var playerOption = {    container: document.getElementById('aplayer'),    mini: false,    fixed: true,    autoplay: false,    theme: '#FADFA3',    loop: 'all',    order: 'list',    preload: 'auto',    volume: 0.7,    mutex: true,    listFolded: false,    listMaxHeight: '200px',    lrcType: 3,    audio: []};]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/runtime.js"/>
      <url>/js/runtime.js</url>
      
        <content type="html"><![CDATA[setInterval(() => {    let create_time = Math.round(new Date('2023-02-16 00:00:00').getTime() / 1000); //在此行修改建站时间    let timestamp = Math.round((new Date().getTime()) / 1000);    let second = timestamp - create_time;    let time = new Array(0, 0, 0, 0, 0);    var nol = function (h) {        return h > 9 ? h : '0' + h;    }    if (second >= 365 * 24 * 3600) {        time[0] = parseInt(second / (365 * 24 * 3600));        second %= 365 * 24 * 3600;    }    if (second >= 24 * 3600) {        time[1] = parseInt(second / (24 * 3600));        second %= 24 * 3600;    }    if (second >= 3600) {        time[2] = nol(parseInt(second / 3600));        second %= 3600;    }    if (second >= 60) {        time[3] = nol(parseInt(second / 60));        second %= 60;    }    if (second > 0) {        time[4] = nol(second);    }    if ((Number(time[2]) < 22) && (Number(time[2]) > 7)) {        currentTimeHtml = "<img class='boardsign' src='https://img.shields.io/badge/%F0%9F%A4%A3%20%F0%9F%91%89%20%F0%9F%A4%A1-joker%E6%9C%AC%E4%BA%BA-lightgrey?style=for-the-badge&colorA=rgb(231,226,199)&colorB=rgb(52,98,151)' title='别怕失败，大不了重头再来'><div id='runtime'>" + '本站已运行 '+ time[0] + ' 年 ' + time[1] + ' 天 ' + time[2] + ' : ' + time[3] + ' : ' + time[4] + '</div>';    }    else {        currentTimeHtml = "<img class='boardsign' src='https://img.shields.io/badge/%F0%9F%98%A2%20%20%F0%9F%A4%9A-joker%E6%98%AF%E6%88%91-lightgrey?style=for-the-badge&colorA=rgb(231,226,199)&colorB=rgb(52,98,151)' title='Time is running out'><div id='runtime'>" + '本站已运行 ' + time[0] + ' 年 ' + time[1] + ' 天 ' + '  ' + time[2] + ' : ' + time[3] + ' : ' + time[4] + '</div>';    }    document.getElementById("workboard").innerHTML = currentTimeHtml;}, 1000);]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/universe.js"/>
      <url>/js/universe.js</url>
      
        <content type="html"><![CDATA[function dark() {    window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;    var n, e, i, h, t = .05,        s = document.getElementById("universe"),        o = !0,        a = "180,184,240",        r = "226,225,142",        d = "226,225,224",        c = []; function f() {            n = window.innerWidth,                e = window.innerHeight,                i = .216 * n,                s.setAttribute("width", n),                s.setAttribute("height", e)    }    function u() {        h.clearRect(0, 0, n, e);        for (var t = c.length, i = 0; i < t; i++)        {            var s = c[i];            s.move(),                s.fadeIn(),                s.fadeOut(),                s.draw()        }    } function y() {        this.reset = function () {            this.giant = m(3),                this.comet = !this.giant && !o && m(10),                this.x = l(0, n - 10),                this.y = l(0, e),                this.r = l(1.1, 2.6),                this.dx = l(t, 6 * t) + (this.comet + 1 - 1) * t * l(50, 120) + 2 * t,                this.dy = -l(t, 6 * t) - (this.comet + 1 - 1) * t * l(50, 120),                this.fadingOut = null,                this.fadingIn = !0,                this.opacity = 0,                this.opacityTresh = l(.2, 1 - .4 * (this.comet + 1 - 1)),                this.do = l(5e-4, .002) + .001 * (this.comet + 1 - 1)        },            this.fadeIn = function () {            this.fadingIn && (this.fadingIn = !(this.opacity > this.opacityTresh),                this.opacity += this.do)            },            this.fadeOut = function () {            this.fadingOut && (this.fadingOut = !(this.opacity < 0),                this.opacity -= this.do / 2,                (this.x > n || this.y < 0) && (this.fadingOut = !1, this.reset()))            },            this.draw = function () {            if (h.beginPath(), this.giant)                h.fillStyle = "rgba(" + a + "," + this.opacity + ")",                    h.arc(this.x, this.y, 2, 0, 2 * Math.PI, !1);            else if (this.comet) {                h.fillStyle = "rgba(" + d + "," + this.opacity + ")",                    h.arc(this.x, this.y, 1.5, 0, 2 * Math.PI, !1);                for (var t = 0; t < 30; t++)                    h.fillStyle = "rgba(" + d + "," + (this.opacity - this.opacity / 20 * t) + ")",                        h.rect(this.x - this.dx / 4 * t, this.y - this.dy / 4 * t - 2, 2, 2),                        h.fill()            }            else h.fillStyle = "rgba(" + r + "," + this.opacity + ")",                h.rect(this.x, this.y, this.r, this.r); h.closePath(),                    h.fill()            },            this.move = function () {            this.x += this.dx, this.y += this.dy,                !1 === this.fadingOut && this.reset(),                (this.x > n - n / 4 || this.y < 0) && (this.fadingOut = !0)            },            setTimeout(function () { o = !1 }, 50)    }    function m(t) {        return Math.floor(1e3 * Math.random()) + 1 < 10 * t    }    function l(t, i) {        return Math.random() * (i - t) + t    }    f(), window.addEventListener("resize", f, !1),        function () {        h = s.getContext("2d");        for (var t = 0; t < i; t++)            c[t] = new y,                c[t].reset();        u()        }(),        function t() {        document.getElementsByTagName('html')[0].getAttribute('data-theme') == 'dark' && u(),            window.requestAnimationFrame(t)        }()};dark()]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>����</title>
      <link href="/link/index.html"/>
      <url>/link/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>电影</title>
      <link href="/movies/index.html"/>
      <url>/movies/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>音乐</title>
      <link href="/music/index.html"/>
      <url>/music/index.html</url>
      
        <content type="html"><![CDATA[<div class="aplayer" data-id="000PeZCQ1i4XVs" data-server="tencent" data-type="artist" data-mutex="true" data-preload="auto" data-theme="#3F51B5"></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>标签</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/jquery.js"/>
      <url>/js/jquery.js</url>
      
        <content type="html"><![CDATA[/*! * jQuery JavaScript Library v3.6.0 * https://jquery.com/ * * Includes Sizzle.js * https://sizzlejs.com/ * * Copyright OpenJS Foundation and other contributors * Released under the MIT license * https://jquery.org/license * * Date: 2021-03-02T17:08Z */( function( global, factory ) {"use strict";if ( typeof module === "object" && typeof module.exports === "object" ) {// For CommonJS and CommonJS-like environments where a proper `window`// is present, execute the factory and get jQuery.// For environments that do not have a `window` with a `document`// (such as Node.js), expose a factory as module.exports.// This accentuates the need for the creation of a real `window`.// e.g. var jQuery = require("jquery")(window);// See ticket #14549 for more info.module.exports = global.document ?factory( global, true ) :function( w ) {if ( !w.document ) {throw new Error( "jQuery requires a window with a document" );}return factory( w );};} else {factory( global );}// Pass this if window is not defined yet} )( typeof window !== "undefined" ? window : this, function( window, noGlobal ) {// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common// enough that all such attempts are guarded in a try block."use strict";var arr = [];var getProto = Object.getPrototypeOf;var slice = arr.slice;var flat = arr.flat ? function( array ) {return arr.flat.call( array );} : function( array ) {return arr.concat.apply( [], array );};var push = arr.push;var indexOf = arr.indexOf;var class2type = {};var toString = class2type.toString;var hasOwn = class2type.hasOwnProperty;var fnToString = hasOwn.toString;var ObjectFunctionString = fnToString.call( Object );var support = {};var isFunction = function isFunction( obj ) {// Support: Chrome <=57, Firefox <=52// In some browsers, typeof returns "function" for HTML <object> elements// (i.e., `typeof document.createElement( "object" ) === "function"`).// We don't want to classify *any* DOM node as a function.// Support: QtWeb <=3.8.5, WebKit <=534.34, wkhtmltopdf tool <=0.12.5// Plus for old WebKit, typeof returns "function" for HTML collections// (e.g., `typeof document.getElementsByTagName("div") === "function"`). (gh-4756)return typeof obj === "function" && typeof obj.nodeType !== "number" &&typeof obj.item !== "function";};var isWindow = function isWindow( obj ) {return obj != null && obj === obj.window;};var document = window.document;var preservedScriptAttributes = {type: true,src: true,nonce: true,noModule: true};function DOMEval( code, node, doc ) {doc = doc || document;var i, val,script = doc.createElement( "script" );script.text = code;if ( node ) {for ( i in preservedScriptAttributes ) {// Support: Firefox 64+, Edge 18+// Some browsers don't support the "nonce" property on scripts.// On the other hand, just using `getAttribute` is not enough as// the `nonce` attribute is reset to an empty string whenever it// becomes browsing-context connected.// See https://github.com/whatwg/html/issues/2369// See https://html.spec.whatwg.org/#nonce-attributes// The `node.getAttribute` check was added for the sake of// `jQuery.globalEval` so that it can fake a nonce-containing node// via an object.val = node[ i ] || node.getAttribute && node.getAttribute( i );if ( val ) {script.setAttribute( i, val );}}}doc.head.appendChild( script ).parentNode.removeChild( script );}function toType( obj ) {if ( obj == null ) {return obj + "";}// Support: Android <=2.3 only (functionish RegExp)return typeof obj === "object" || typeof obj === "function" ?class2type[ toString.call( obj ) ] || "object" :typeof obj;}/* global Symbol */// Defining this global in .eslintrc.json would create a danger of using the global// unguarded in another place, it seems safer to define global only for this modulevarversion = "3.6.0",// Define a local copy of jQueryjQuery = function( selector, context ) {// The jQuery object is actually just the init constructor 'enhanced'// Need init if jQuery is called (just allow error to be thrown if not included)return new jQuery.fn.init( selector, context );};jQuery.fn = jQuery.prototype = {// The current version of jQuery being usedjquery: version,constructor: jQuery,// The default length of a jQuery object is 0length: 0,toArray: function() {return slice.call( this );},// Get the Nth element in the matched element set OR// Get the whole matched element set as a clean arrayget: function( num ) {// Return all the elements in a clean arrayif ( num == null ) {return slice.call( this );}// Return just the one element from the setreturn num < 0 ? this[ num + this.length ] : this[ num ];},// Take an array of elements and push it onto the stack// (returning the new matched element set)pushStack: function( elems ) {// Build a new jQuery matched element setvar ret = jQuery.merge( this.constructor(), elems );// Add the old object onto the stack (as a reference)ret.prevObject = this;// Return the newly-formed element setreturn ret;},// Execute a callback for every element in the matched set.each: function( callback ) {return jQuery.each( this, callback );},map: function( callback ) {return this.pushStack( jQuery.map( this, function( elem, i ) {return callback.call( elem, i, elem );} ) );},slice: function() {return this.pushStack( slice.apply( this, arguments ) );},first: function() {return this.eq( 0 );},last: function() {return this.eq( -1 );},even: function() {return this.pushStack( jQuery.grep( this, function( _elem, i ) {return ( i + 1 ) % 2;} ) );},odd: function() {return this.pushStack( jQuery.grep( this, function( _elem, i ) {return i % 2;} ) );},eq: function( i ) {var len = this.length,j = +i + ( i < 0 ? len : 0 );return this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );},end: function() {return this.prevObject || this.constructor();},// For internal use only.// Behaves like an Array's method, not like a jQuery method.push: push,sort: arr.sort,splice: arr.splice};jQuery.extend = jQuery.fn.extend = function() {var options, name, src, copy, copyIsArray, clone,target = arguments[ 0 ] || {},i = 1,length = arguments.length,deep = false;// Handle a deep copy situationif ( typeof target === "boolean" ) {deep = target;// Skip the boolean and the targettarget = arguments[ i ] || {};i++;}// Handle case when target is a string or something (possible in deep copy)if ( typeof target !== "object" && !isFunction( target ) ) {target = {};}// Extend jQuery itself if only one argument is passedif ( i === length ) {target = this;i--;}for ( ; i < length; i++ ) {// Only deal with non-null/undefined valuesif ( ( options = arguments[ i ] ) != null ) {// Extend the base objectfor ( name in options ) {copy = options[ name ];// Prevent Object.prototype pollution// Prevent never-ending loopif ( name === "__proto__" || target === copy ) {continue;}// Recurse if we're merging plain objects or arraysif ( deep && copy && ( jQuery.isPlainObject( copy ) ||( copyIsArray = Array.isArray( copy ) ) ) ) {src = target[ name ];// Ensure proper type for the source valueif ( copyIsArray && !Array.isArray( src ) ) {clone = [];} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {clone = {};} else {clone = src;}copyIsArray = false;// Never move original objects, clone themtarget[ name ] = jQuery.extend( deep, clone, copy );// Don't bring in undefined values} else if ( copy !== undefined ) {target[ name ] = copy;}}}}// Return the modified objectreturn target;};jQuery.extend( {// Unique for each copy of jQuery on the pageexpando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),// Assume jQuery is ready without the ready moduleisReady: true,error: function( msg ) {throw new Error( msg );},noop: function() {},isPlainObject: function( obj ) {var proto, Ctor;// Detect obvious negatives// Use toString instead of jQuery.type to catch host objectsif ( !obj || toString.call( obj ) !== "[object Object]" ) {return false;}proto = getProto( obj );// Objects with no prototype (e.g., `Object.create( null )`) are plainif ( !proto ) {return true;}// Objects with prototype are plain iff they were constructed by a global Object functionCtor = hasOwn.call( proto, "constructor" ) && proto.constructor;return typeof Ctor === "function" && fnToString.call( Ctor ) === ObjectFunctionString;},isEmptyObject: function( obj ) {var name;for ( name in obj ) {return false;}return true;},// Evaluates a script in a provided context; falls back to the global one// if not specified.globalEval: function( code, options, doc ) {DOMEval( code, { nonce: options && options.nonce }, doc );},each: function( obj, callback ) {var length, i = 0;if ( isArrayLike( obj ) ) {length = obj.length;for ( ; i < length; i++ ) {if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {break;}}} else {for ( i in obj ) {if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {break;}}}return obj;},// results is for internal usage onlymakeArray: function( arr, results ) {var ret = results || [];if ( arr != null ) {if ( isArrayLike( Object( arr ) ) ) {jQuery.merge( ret,typeof arr === "string" ?[ arr ] : arr);} else {push.call( ret, arr );}}return ret;},inArray: function( elem, arr, i ) {return arr == null ? -1 : indexOf.call( arr, elem, i );},// Support: Android <=4.0 only, PhantomJS 1 only// push.apply(_, arraylike) throws on ancient WebKitmerge: function( first, second ) {var len = +second.length,j = 0,i = first.length;for ( ; j < len; j++ ) {first[ i++ ] = second[ j ];}first.length = i;return first;},grep: function( elems, callback, invert ) {var callbackInverse,matches = [],i = 0,length = elems.length,callbackExpect = !invert;// Go through the array, only saving the items// that pass the validator functionfor ( ; i < length; i++ ) {callbackInverse = !callback( elems[ i ], i );if ( callbackInverse !== callbackExpect ) {matches.push( elems[ i ] );}}return matches;},// arg is for internal usage onlymap: function( elems, callback, arg ) {var length, value,i = 0,ret = [];// Go through the array, translating each of the items to their new valuesif ( isArrayLike( elems ) ) {length = elems.length;for ( ; i < length; i++ ) {value = callback( elems[ i ], i, arg );if ( value != null ) {ret.push( value );}}// Go through every key on the object,} else {for ( i in elems ) {value = callback( elems[ i ], i, arg );if ( value != null ) {ret.push( value );}}}// Flatten any nested arraysreturn flat( ret );},// A global GUID counter for objectsguid: 1,// jQuery.support is not used in Core but other projects attach their// properties to it so it needs to exist.support: support} );if ( typeof Symbol === "function" ) {jQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];}// Populate the class2type mapjQuery.each( "Boolean Number String Function Array Date RegExp Object Error Symbol".split( " " ),function( _i, name ) {class2type[ "[object " + name + "]" ] = name.toLowerCase();} );function isArrayLike( obj ) {// Support: real iOS 8.2 only (not reproducible in simulator)// `in` check used to prevent JIT error (gh-2145)// hasOwn isn't used here due to false negatives// regarding Nodelist length in IEvar length = !!obj && "length" in obj && obj.length,type = toType( obj );if ( isFunction( obj ) || isWindow( obj ) ) {return false;}return type === "array" || length === 0 ||typeof length === "number" && length > 0 && ( length - 1 ) in obj;}var Sizzle =/*! * Sizzle CSS Selector Engine v2.3.6 * https://sizzlejs.com/ * * Copyright JS Foundation and other contributors * Released under the MIT license * https://js.foundation/ * * Date: 2021-02-16 */( function( window ) {var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,// Local document varssetDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,// Instance-specific dataexpando = "sizzle" + 1 * new Date(),preferredDoc = window.document,dirruns = 0,done = 0,classCache = createCache(),tokenCache = createCache(),compilerCache = createCache(),nonnativeSelectorCache = createCache(),sortOrder = function( a, b ) {if ( a === b ) {hasDuplicate = true;}return 0;},// Instance methodshasOwn = ( {} ).hasOwnProperty,arr = [],pop = arr.pop,pushNative = arr.push,push = arr.push,slice = arr.slice,// Use a stripped-down indexOf as it's faster than native// https://jsperf.com/thor-indexof-vs-for/5indexOf = function( list, elem ) {var i = 0,len = list.length;for ( ; i < len; i++ ) {if ( list[ i ] === elem ) {return i;}}return -1;},booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|" +"ismap|loop|multiple|open|readonly|required|scoped",// Regular expressions// http://www.w3.org/TR/css3-selectors/#whitespacewhitespace = "[\\x20\\t\\r\\n\\f]",// https://www.w3.org/TR/css-syntax-3/#ident-token-diagramidentifier = "(?:\\\\[\\da-fA-F]{1,6}" + whitespace +"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectorsattributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +// Operator (capture 2)"*([*^$|!~]?=)" + whitespace +// "Attribute values must be CSS identifiers [capture 5]// or strings [capture 3 or capture 4]""*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" +whitespace + "*\\]",pseudos = ":(" + identifier + ")(?:\\((" +// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:// 1. quoted (capture 3; capture 4 or capture 5)"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +// 2. simple (capture 6)"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +// 3. anything else (capture 2)".*" +")\\)|)",// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latterrwhitespace = new RegExp( whitespace + "+", "g" ),rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" +whitespace + "+$", "g" ),rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace +"*" ),rdescend = new RegExp( whitespace + "|>" ),rpseudo = new RegExp( pseudos ),ridentifier = new RegExp( "^" + identifier + "$" ),matchExpr = {"ID": new RegExp( "^#(" + identifier + ")" ),"CLASS": new RegExp( "^\\.(" + identifier + ")" ),"TAG": new RegExp( "^(" + identifier + "|[*])" ),"ATTR": new RegExp( "^" + attributes ),"PSEUDO": new RegExp( "^" + pseudos ),"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" +whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i" ),"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),// For use in libraries implementing .is()// We use this for POS matching in `select`"needsContext": new RegExp( "^" + whitespace +"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace +"*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )},rhtml = /HTML$/i,rinputs = /^(?:input|select|textarea|button)$/i,rheader = /^h\d$/i,rnative = /^[^{]+\{\s*\[native \w/,// Easily-parseable/retrievable ID or TAG or CLASS selectorsrquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling = /[+~]/,// CSS escapes// http://www.w3.org/TR/CSS21/syndata.html#escaped-charactersrunescape = new RegExp( "\\\\[\\da-fA-F]{1,6}" + whitespace + "?|\\\\([^\\r\\n\\f])", "g" ),funescape = function( escape, nonHex ) {var high = "0x" + escape.slice( 1 ) - 0x10000;return nonHex ?// Strip the backslash prefix from a non-hex escape sequencenonHex :// Replace a hexadecimal escape sequence with the encoded Unicode code point// Support: IE <=11+// For values outside the Basic Multilingual Plane (BMP), manually construct a// surrogate pairhigh < 0 ?String.fromCharCode( high + 0x10000 ) :String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );},// CSS string/identifier serialization// https://drafts.csswg.org/cssom/#common-serializing-idiomsrcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,fcssescape = function( ch, asCodePoint ) {if ( asCodePoint ) {// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTERif ( ch === "\0" ) {return "\uFFFD";}// Control characters and (dependent upon position) numbers get escaped as code pointsreturn ch.slice( 0, -1 ) + "\\" +ch.charCodeAt( ch.length - 1 ).toString( 16 ) + " ";}// Other potentially-special ASCII characters get backslash-escapedreturn "\\" + ch;},// Used for iframes// See setDocument()// Removing the function wrapper causes a "Permission Denied"// error in IEunloadHandler = function() {setDocument();},inDisabledFieldset = addCombinator(function( elem ) {return elem.disabled === true && elem.nodeName.toLowerCase() === "fieldset";},{ dir: "parentNode", next: "legend" });// Optimize for push.apply( _, NodeList )try {push.apply(( arr = slice.call( preferredDoc.childNodes ) ),preferredDoc.childNodes);// Support: Android<4.0// Detect silently failing push.apply// eslint-disable-next-line no-unused-expressionsarr[ preferredDoc.childNodes.length ].nodeType;} catch ( e ) {push = { apply: arr.length ?// Leverage slice if possiblefunction( target, els ) {pushNative.apply( target, slice.call( els ) );} :// Support: IE<9// Otherwise append directlyfunction( target, els ) {var j = target.length,i = 0;// Can't trust NodeList.lengthwhile ( ( target[ j++ ] = els[ i++ ] ) ) {}target.length = j - 1;}};}function Sizzle( selector, context, results, seed ) {var m, i, elem, nid, match, groups, newSelector,newContext = context && context.ownerDocument,// nodeType defaults to 9, since context defaults to documentnodeType = context ? context.nodeType : 9;results = results || [];// Return early from calls with invalid selector or contextif ( typeof selector !== "string" || !selector ||nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {return results;}// Try to shortcut find operations (as opposed to filters) in HTML documentsif ( !seed ) {setDocument( context );context = context || document;if ( documentIsHTML ) {// If the selector is sufficiently simple, try using a "get*By*" DOM method// (excepting DocumentFragment context, where the methods don't exist)if ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {// ID selectorif ( ( m = match[ 1 ] ) ) {// Document contextif ( nodeType === 9 ) {if ( ( elem = context.getElementById( m ) ) ) {// Support: IE, Opera, Webkit// TODO: identify versions// getElementById can match elements by name instead of IDif ( elem.id === m ) {results.push( elem );return results;}} else {return results;}// Element context} else {// Support: IE, Opera, Webkit// TODO: identify versions// getElementById can match elements by name instead of IDif ( newContext && ( elem = newContext.getElementById( m ) ) &&contains( context, elem ) &&elem.id === m ) {results.push( elem );return results;}}// Type selector} else if ( match[ 2 ] ) {push.apply( results, context.getElementsByTagName( selector ) );return results;// Class selector} else if ( ( m = match[ 3 ] ) && support.getElementsByClassName &&context.getElementsByClassName ) {push.apply( results, context.getElementsByClassName( m ) );return results;}}// Take advantage of querySelectorAllif ( support.qsa &&!nonnativeSelectorCache[ selector + " " ] &&( !rbuggyQSA || !rbuggyQSA.test( selector ) ) &&// Support: IE 8 only// Exclude object elements( nodeType !== 1 || context.nodeName.toLowerCase() !== "object" ) ) {newSelector = selector;newContext = context;// qSA considers elements outside a scoping root when evaluating child or// descendant combinators, which is not what we want.// In such cases, we work around the behavior by prefixing every selector in the// list with an ID selector referencing the scope context.// The technique has to be used as well when a leading combinator is used// as such selectors are not recognized by querySelectorAll.// Thanks to Andrew Dupont for this technique.if ( nodeType === 1 &&( rdescend.test( selector ) || rcombinators.test( selector ) ) ) {// Expand context for sibling selectorsnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||context;// We can use :scope instead of the ID hack if the browser// supports it & if we're not changing the context.if ( newContext !== context || !support.scope ) {// Capture the context ID, setting it first if necessaryif ( ( nid = context.getAttribute( "id" ) ) ) {nid = nid.replace( rcssescape, fcssescape );} else {context.setAttribute( "id", ( nid = expando ) );}}// Prefix every selector in the listgroups = tokenize( selector );i = groups.length;while ( i-- ) {groups[ i ] = ( nid ? "#" + nid : ":scope" ) + " " +toSelector( groups[ i ] );}newSelector = groups.join( "," );}try {push.apply( results,newContext.querySelectorAll( newSelector ));return results;} catch ( qsaError ) {nonnativeSelectorCache( selector, true );} finally {if ( nid === expando ) {context.removeAttribute( "id" );}}}}}// All othersreturn select( selector.replace( rtrim, "$1" ), context, results, seed );}/** * Create key-value caches of limited size * @returns {function(string, object)} Returns the Object data after storing it on itself with *property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength) *deleting the oldest entry */function createCache() {var keys = [];function cache( key, value ) {// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)if ( keys.push( key + " " ) > Expr.cacheLength ) {// Only keep the most recent entriesdelete cache[ keys.shift() ];}return ( cache[ key + " " ] = value );}return cache;}/** * Mark a function for special use by Sizzle * @param {Function} fn The function to mark */function markFunction( fn ) {fn[ expando ] = true;return fn;}/** * Support testing using an element * @param {Function} fn Passed the created element and returns a boolean result */function assert( fn ) {var el = document.createElement( "fieldset" );try {return !!fn( el );} catch ( e ) {return false;} finally {// Remove from its parent by defaultif ( el.parentNode ) {el.parentNode.removeChild( el );}// release memory in IEel = null;}}/** * Adds the same handler for all of the specified attrs * @param {String} attrs Pipe-separated list of attributes * @param {Function} handler The method that will be applied */function addHandle( attrs, handler ) {var arr = attrs.split( "|" ),i = arr.length;while ( i-- ) {Expr.attrHandle[ arr[ i ] ] = handler;}}/** * Checks document order of two siblings * @param {Element} a * @param {Element} b * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b */function siblingCheck( a, b ) {var cur = b && a,diff = cur && a.nodeType === 1 && b.nodeType === 1 &&a.sourceIndex - b.sourceIndex;// Use IE sourceIndex if available on both nodesif ( diff ) {return diff;}// Check if b follows aif ( cur ) {while ( ( cur = cur.nextSibling ) ) {if ( cur === b ) {return -1;}}}return a ? 1 : -1;}/** * Returns a function to use in pseudos for input types * @param {String} type */function createInputPseudo( type ) {return function( elem ) {var name = elem.nodeName.toLowerCase();return name === "input" && elem.type === type;};}/** * Returns a function to use in pseudos for buttons * @param {String} type */function createButtonPseudo( type ) {return function( elem ) {var name = elem.nodeName.toLowerCase();return ( name === "input" || name === "button" ) && elem.type === type;};}/** * Returns a function to use in pseudos for :enabled/:disabled * @param {Boolean} disabled true for :disabled; false for :enabled */function createDisabledPseudo( disabled ) {// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disablereturn function( elem ) {// Only certain elements can match :enabled or :disabled// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabledif ( "form" in elem ) {// Check for inherited disabledness on relevant non-disabled elements:// * listed form-associated elements in a disabled fieldset//   https://html.spec.whatwg.org/multipage/forms.html#category-listed//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled// * option elements in a disabled optgroup//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled// All such elements have a "form" property.if ( elem.parentNode && elem.disabled === false ) {// Option elements defer to a parent optgroup if presentif ( "label" in elem ) {if ( "label" in elem.parentNode ) {return elem.parentNode.disabled === disabled;} else {return elem.disabled === disabled;}}// Support: IE 6 - 11// Use the isDisabled shortcut property to check for disabled fieldset ancestorsreturn elem.isDisabled === disabled ||// Where there is no isDisabled, check manually/* jshint -W018 */elem.isDisabled !== !disabled &&inDisabledFieldset( elem ) === disabled;}return elem.disabled === disabled;// Try to winnow out elements that can't be disabled before trusting the disabled property.// Some victims get caught in our net (label, legend, menu, track), but it shouldn't// even exist on them, let alone have a boolean value.} else if ( "label" in elem ) {return elem.disabled === disabled;}// Remaining elements are neither :enabled nor :disabledreturn false;};}/** * Returns a function to use in pseudos for positionals * @param {Function} fn */function createPositionalPseudo( fn ) {return markFunction( function( argument ) {argument = +argument;return markFunction( function( seed, matches ) {var j,matchIndexes = fn( [], seed.length, argument ),i = matchIndexes.length;// Match elements found at the specified indexeswhile ( i-- ) {if ( seed[ ( j = matchIndexes[ i ] ) ] ) {seed[ j ] = !( matches[ j ] = seed[ j ] );}}} );} );}/** * Checks a node for validity as a Sizzle context * @param {Element|Object=} context * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value */function testContext( context ) {return context && typeof context.getElementsByTagName !== "undefined" && context;}// Expose support vars for conveniencesupport = Sizzle.support = {};/** * Detects XML nodes * @param {Element|Object} elem An element or a document * @returns {Boolean} True iff elem is a non-HTML XML node */isXML = Sizzle.isXML = function( elem ) {var namespace = elem && elem.namespaceURI,docElem = elem && ( elem.ownerDocument || elem ).documentElement;// Support: IE <=8// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes// https://bugs.jquery.com/ticket/4833return !rhtml.test( namespace || docElem && docElem.nodeName || "HTML" );};/** * Sets document-related variables once based on the current document * @param {Element|Object} [doc] An element or document object to use to set the document * @returns {Object} Returns the current document */setDocument = Sizzle.setDocument = function( node ) {var hasCompare, subWindow,doc = node ? node.ownerDocument || node : preferredDoc;// Return early if doc is invalid or already selected// Support: IE 11+, Edge 17 - 18+// IE/Edge sometimes throw a "Permission denied" error when strict-comparing// two documents; shallow comparisons work.// eslint-disable-next-line eqeqeqif ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {return document;}// Update global variablesdocument = doc;docElem = document.documentElement;documentIsHTML = !isXML( document );// Support: IE 9 - 11+, Edge 12 - 18+// Accessing iframe documents after unload throws "permission denied" errors (jQuery #13936)// Support: IE 11+, Edge 17 - 18+// IE/Edge sometimes throw a "Permission denied" error when strict-comparing// two documents; shallow comparisons work.// eslint-disable-next-line eqeqeqif ( preferredDoc != document &&( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {// Support: IE 11, Edgeif ( subWindow.addEventListener ) {subWindow.addEventListener( "unload", unloadHandler, false );// Support: IE 9 - 10 only} else if ( subWindow.attachEvent ) {subWindow.attachEvent( "onunload", unloadHandler );}}// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,// Safari 4 - 5 only, Opera <=11.6 - 12.x only// IE/Edge & older browsers don't support the :scope pseudo-class.// Support: Safari 6.0 only// Safari 6.0 supports :scope but it's an alias of :root there.support.scope = assert( function( el ) {docElem.appendChild( el ).appendChild( document.createElement( "div" ) );return typeof el.querySelectorAll !== "undefined" &&!el.querySelectorAll( ":scope fieldset div" ).length;} );/* Attributes---------------------------------------------------------------------- */// Support: IE<8// Verify that getAttribute really returns attributes and not properties// (excepting IE8 booleans)support.attributes = assert( function( el ) {el.className = "i";return !el.getAttribute( "className" );} );/* getElement(s)By*---------------------------------------------------------------------- */// Check if getElementsByTagName("*") returns only elementssupport.getElementsByTagName = assert( function( el ) {el.appendChild( document.createComment( "" ) );return !el.getElementsByTagName( "*" ).length;} );// Support: IE<9support.getElementsByClassName = rnative.test( document.getElementsByClassName );// Support: IE<10// Check if getElementById returns elements by name// The broken getElementById methods don't pick up programmatically-set names,// so use a roundabout getElementsByName testsupport.getById = assert( function( el ) {docElem.appendChild( el ).id = expando;return !document.getElementsByName || !document.getElementsByName( expando ).length;} );// ID filter and findif ( support.getById ) {Expr.filter[ "ID" ] = function( id ) {var attrId = id.replace( runescape, funescape );return function( elem ) {return elem.getAttribute( "id" ) === attrId;};};Expr.find[ "ID" ] = function( id, context ) {if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {var elem = context.getElementById( id );return elem ? [ elem ] : [];}};} else {Expr.filter[ "ID" ] =  function( id ) {var attrId = id.replace( runescape, funescape );return function( elem ) {var node = typeof elem.getAttributeNode !== "undefined" &&elem.getAttributeNode( "id" );return node && node.value === attrId;};};// Support: IE 6 - 7 only// getElementById is not reliable as a find shortcutExpr.find[ "ID" ] = function( id, context ) {if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {var node, i, elems,elem = context.getElementById( id );if ( elem ) {// Verify the id attributenode = elem.getAttributeNode( "id" );if ( node && node.value === id ) {return [ elem ];}// Fall back on getElementsByNameelems = context.getElementsByName( id );i = 0;while ( ( elem = elems[ i++ ] ) ) {node = elem.getAttributeNode( "id" );if ( node && node.value === id ) {return [ elem ];}}}return [];}};}// TagExpr.find[ "TAG" ] = support.getElementsByTagName ?function( tag, context ) {if ( typeof context.getElementsByTagName !== "undefined" ) {return context.getElementsByTagName( tag );// DocumentFragment nodes don't have gEBTN} else if ( support.qsa ) {return context.querySelectorAll( tag );}} :function( tag, context ) {var elem,tmp = [],i = 0,// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes tooresults = context.getElementsByTagName( tag );// Filter out possible commentsif ( tag === "*" ) {while ( ( elem = results[ i++ ] ) ) {if ( elem.nodeType === 1 ) {tmp.push( elem );}}return tmp;}return results;};// ClassExpr.find[ "CLASS" ] = support.getElementsByClassName && function( className, context ) {if ( typeof context.getElementsByClassName !== "undefined" && documentIsHTML ) {return context.getElementsByClassName( className );}};/* QSA/matchesSelector---------------------------------------------------------------------- */// QSA and matchesSelector support// matchesSelector(:active) reports false when true (IE9/Opera 11.5)rbuggyMatches = [];// qSa(:focus) reports false when true (Chrome 21)// We allow this because of a bug in IE8/9 that throws an error// whenever `document.activeElement` is accessed on an iframe// So, we allow :focus to pass through QSA all the time to avoid the IE error// See https://bugs.jquery.com/ticket/13378rbuggyQSA = [];if ( ( support.qsa = rnative.test( document.querySelectorAll ) ) ) {// Build QSA regex// Regex strategy adopted from Diego Periniassert( function( el ) {var input;// Select is set to empty string on purpose// This is to test IE's treatment of not explicitly// setting a boolean content attribute,// since its presence should be enough// https://bugs.jquery.com/ticket/12359docElem.appendChild( el ).innerHTML = "<a id='" + expando + "'></a>" +"<select id='" + expando + "-\r\\' msallowcapture=''>" +"<option selected=''></option></select>";// Support: IE8, Opera 11-12.16// Nothing should be selected when empty strings follow ^= or $= or *=// The test attribute must be unknown in Opera but "safe" for WinRT// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_sectionif ( el.querySelectorAll( "[msallowcapture^='']" ).length ) {rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );}// Support: IE8// Boolean attributes and "value" are not treated correctlyif ( !el.querySelectorAll( "[selected]" ).length ) {rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );}// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+if ( !el.querySelectorAll( "[id~=" + expando + "-]" ).length ) {rbuggyQSA.push( "~=" );}// Support: IE 11+, Edge 15 - 18+// IE 11/Edge don't find elements on a `[name='']` query in some cases.// Adding a temporary attribute to the document before the selection works// around the issue.// Interestingly, IE 10 & older don't seem to have the issue.input = document.createElement( "input" );input.setAttribute( "name", "" );el.appendChild( input );if ( !el.querySelectorAll( "[name='']" ).length ) {rbuggyQSA.push( "\\[" + whitespace + "*name" + whitespace + "*=" +whitespace + "*(?:''|\"\")" );}// Webkit/Opera - :checked should return selected option elements// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked// IE8 throws error here and will not see later testsif ( !el.querySelectorAll( ":checked" ).length ) {rbuggyQSA.push( ":checked" );}// Support: Safari 8+, iOS 8+// https://bugs.webkit.org/show_bug.cgi?id=136851// In-page `selector#id sibling-combinator selector` failsif ( !el.querySelectorAll( "a#" + expando + "+*" ).length ) {rbuggyQSA.push( ".#.+[+~]" );}// Support: Firefox <=3.6 - 5 only// Old Firefox doesn't throw on a badly-escaped identifier.el.querySelectorAll( "\\\f" );rbuggyQSA.push( "[\\r\\n\\f]" );} );assert( function( el ) {el.innerHTML = "<a href='' disabled='disabled'></a>" +"<select disabled='disabled'><option/></select>";// Support: Windows 8 Native Apps// The type and name attributes are restricted during .innerHTML assignmentvar input = document.createElement( "input" );input.setAttribute( "type", "hidden" );el.appendChild( input ).setAttribute( "name", "D" );// Support: IE8// Enforce case-sensitivity of name attributeif ( el.querySelectorAll( "[name=d]" ).length ) {rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );}// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)// IE8 throws error here and will not see later testsif ( el.querySelectorAll( ":enabled" ).length !== 2 ) {rbuggyQSA.push( ":enabled", ":disabled" );}// Support: IE9-11+// IE's :disabled selector does not pick up the children of disabled fieldsetsdocElem.appendChild( el ).disabled = true;if ( el.querySelectorAll( ":disabled" ).length !== 2 ) {rbuggyQSA.push( ":enabled", ":disabled" );}// Support: Opera 10 - 11 only// Opera 10-11 does not throw on post-comma invalid pseudosel.querySelectorAll( "*,:x" );rbuggyQSA.push( ",.*:" );} );}if ( ( support.matchesSelector = rnative.test( ( matches = docElem.matches ||docElem.webkitMatchesSelector ||docElem.mozMatchesSelector ||docElem.oMatchesSelector ||docElem.msMatchesSelector ) ) ) ) {assert( function( el ) {// Check to see if it's possible to do matchesSelector// on a disconnected node (IE 9)support.disconnectedMatch = matches.call( el, "*" );// This should fail with an exception// Gecko does not error, returns false insteadmatches.call( el, "[s!='']:x" );rbuggyMatches.push( "!=", pseudos );} );}rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( "|" ) );rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join( "|" ) );/* Contains---------------------------------------------------------------------- */hasCompare = rnative.test( docElem.compareDocumentPosition );// Element contains another// Purposefully self-exclusive// As in, an element does not contain itselfcontains = hasCompare || rnative.test( docElem.contains ) ?function( a, b ) {var adown = a.nodeType === 9 ? a.documentElement : a,bup = b && b.parentNode;return a === bup || !!( bup && bup.nodeType === 1 && (adown.contains ?adown.contains( bup ) :a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16) );} :function( a, b ) {if ( b ) {while ( ( b = b.parentNode ) ) {if ( b === a ) {return true;}}}return false;};/* Sorting---------------------------------------------------------------------- */// Document order sortingsortOrder = hasCompare ?function( a, b ) {// Flag for duplicate removalif ( a === b ) {hasDuplicate = true;return 0;}// Sort on method existence if only one input has compareDocumentPositionvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;if ( compare ) {return compare;}// Calculate position if both inputs belong to the same document// Support: IE 11+, Edge 17 - 18+// IE/Edge sometimes throw a "Permission denied" error when strict-comparing// two documents; shallow comparisons work.// eslint-disable-next-line eqeqeqcompare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?a.compareDocumentPosition( b ) :// Otherwise we know they are disconnected1;// Disconnected nodesif ( compare & 1 ||( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {// Choose the first element that is related to our preferred document// Support: IE 11+, Edge 17 - 18+// IE/Edge sometimes throw a "Permission denied" error when strict-comparing// two documents; shallow comparisons work.// eslint-disable-next-line eqeqeqif ( a == document || a.ownerDocument == preferredDoc &&contains( preferredDoc, a ) ) {return -1;}// Support: IE 11+, Edge 17 - 18+// IE/Edge sometimes throw a "Permission denied" error when strict-comparing// two documents; shallow comparisons work.// eslint-disable-next-line eqeqeqif ( b == document || b.ownerDocument == preferredDoc &&contains( preferredDoc, b ) ) {return 1;}// Maintain original orderreturn sortInput ?( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :0;}return compare & 4 ? -1 : 1;} :function( a, b ) {// Exit early if the nodes are identicalif ( a === b ) {hasDuplicate = true;return 0;}var cur,i = 0,aup = a.parentNode,bup = b.parentNode,ap = [ a ],bp = [ b ];// Parentless nodes are either documents or disconnectedif ( !aup || !bup ) {// Support: IE 11+, Edge 17 - 18+// IE/Edge sometimes throw a "Permission denied" error when strict-comparing// two documents; shallow comparisons work./* eslint-disable eqeqeq */return a == document ? -1 :b == document ? 1 :/* eslint-enable eqeqeq */aup ? -1 :bup ? 1 :sortInput ?( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :0;// If the nodes are siblings, we can do a quick check} else if ( aup === bup ) {return siblingCheck( a, b );}// Otherwise we need full lists of their ancestors for comparisoncur = a;while ( ( cur = cur.parentNode ) ) {ap.unshift( cur );}cur = b;while ( ( cur = cur.parentNode ) ) {bp.unshift( cur );}// Walk down the tree looking for a discrepancywhile ( ap[ i ] === bp[ i ] ) {i++;}return i ?// Do a sibling check if the nodes have a common ancestorsiblingCheck( ap[ i ], bp[ i ] ) :// Otherwise nodes in our document sort first// Support: IE 11+, Edge 17 - 18+// IE/Edge sometimes throw a "Permission denied" error when strict-comparing// two documents; shallow comparisons work./* eslint-disable eqeqeq */ap[ i ] == preferredDoc ? -1 :bp[ i ] == preferredDoc ? 1 :/* eslint-enable eqeqeq */0;};return document;};Sizzle.matches = function( expr, elements ) {return Sizzle( expr, null, null, elements );};Sizzle.matchesSelector = function( elem, expr ) {setDocument( elem );if ( support.matchesSelector && documentIsHTML &&!nonnativeSelectorCache[ expr + " " ] &&( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {try {var ret = matches.call( elem, expr );// IE 9's matchesSelector returns false on disconnected nodesif ( ret || support.disconnectedMatch ||// As well, disconnected nodes are said to be in a document// fragment in IE 9elem.document && elem.document.nodeType !== 11 ) {return ret;}} catch ( e ) {nonnativeSelectorCache( expr, true );}}return Sizzle( expr, document, null, [ elem ] ).length > 0;};Sizzle.contains = function( context, elem ) {// Set document vars if needed// Support: IE 11+, Edge 17 - 18+// IE/Edge sometimes throw a "Permission denied" error when strict-comparing// two documents; shallow comparisons work.// eslint-disable-next-line eqeqeqif ( ( context.ownerDocument || context ) != document ) {setDocument( context );}return contains( context, elem );};Sizzle.attr = function( elem, name ) {// Set document vars if needed// Support: IE 11+, Edge 17 - 18+// IE/Edge sometimes throw a "Permission denied" error when strict-comparing// two documents; shallow comparisons work.// eslint-disable-next-line eqeqeqif ( ( elem.ownerDocument || elem ) != document ) {setDocument( elem );}var fn = Expr.attrHandle[ name.toLowerCase() ],// Don't get fooled by Object.prototype properties (jQuery #13807)val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?fn( elem, name, !documentIsHTML ) :undefined;return val !== undefined ?val :support.attributes || !documentIsHTML ?elem.getAttribute( name ) :( val = elem.getAttributeNode( name ) ) && val.specified ?val.value :null;};Sizzle.escape = function( sel ) {return ( sel + "" ).replace( rcssescape, fcssescape );};Sizzle.error = function( msg ) {throw new Error( "Syntax error, unrecognized expression: " + msg );};/** * Document sorting and removing duplicates * @param {ArrayLike} results */Sizzle.uniqueSort = function( results ) {var elem,duplicates = [],j = 0,i = 0;// Unless we *know* we can detect duplicates, assume their presencehasDuplicate = !support.detectDuplicates;sortInput = !support.sortStable && results.slice( 0 );results.sort( sortOrder );if ( hasDuplicate ) {while ( ( elem = results[ i++ ] ) ) {if ( elem === results[ i ] ) {j = duplicates.push( i );}}while ( j-- ) {results.splice( duplicates[ j ], 1 );}}// Clear input after sorting to release objects// See https://github.com/jquery/sizzle/pull/225sortInput = null;return results;};/** * Utility function for retrieving the text value of an array of DOM nodes * @param {Array|Element} elem */getText = Sizzle.getText = function( elem ) {var node,ret = "",i = 0,nodeType = elem.nodeType;if ( !nodeType ) {// If no nodeType, this is expected to be an arraywhile ( ( node = elem[ i++ ] ) ) {// Do not traverse comment nodesret += getText( node );}} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {// Use textContent for elements// innerText usage removed for consistency of new lines (jQuery #11153)if ( typeof elem.textContent === "string" ) {return elem.textContent;} else {// Traverse its childrenfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {ret += getText( elem );}}} else if ( nodeType === 3 || nodeType === 4 ) {return elem.nodeValue;}// Do not include comment or processing instruction nodesreturn ret;};Expr = Sizzle.selectors = {// Can be adjusted by the usercacheLength: 50,createPseudo: markFunction,match: matchExpr,attrHandle: {},find: {},relative: {">": { dir: "parentNode", first: true }," ": { dir: "parentNode" },"+": { dir: "previousSibling", first: true },"~": { dir: "previousSibling" }},preFilter: {"ATTR": function( match ) {match[ 1 ] = match[ 1 ].replace( runescape, funescape );// Move the given value to match[3] whether quoted or unquotedmatch[ 3 ] = ( match[ 3 ] || match[ 4 ] ||match[ 5 ] || "" ).replace( runescape, funescape );if ( match[ 2 ] === "~=" ) {match[ 3 ] = " " + match[ 3 ] + " ";}return match.slice( 0, 4 );},"CHILD": function( match ) {/* matches from matchExpr["CHILD"]1 type (only|nth|...)2 what (child|of-type)3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)4 xn-component of xn+y argument ([+-]?\d*n|)5 sign of xn-component6 x of xn-component7 sign of y-component8 y of y-component*/match[ 1 ] = match[ 1 ].toLowerCase();if ( match[ 1 ].slice( 0, 3 ) === "nth" ) {// nth-* requires argumentif ( !match[ 3 ] ) {Sizzle.error( match[ 0 ] );}// numeric x and y parameters for Expr.filter.CHILD// remember that false/true cast respectively to 0/1match[ 4 ] = +( match[ 4 ] ?match[ 5 ] + ( match[ 6 ] || 1 ) :2 * ( match[ 3 ] === "even" || match[ 3 ] === "odd" ) );match[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === "odd" );// other types prohibit arguments} else if ( match[ 3 ] ) {Sizzle.error( match[ 0 ] );}return match;},"PSEUDO": function( match ) {var excess,unquoted = !match[ 6 ] && match[ 2 ];if ( matchExpr[ "CHILD" ].test( match[ 0 ] ) ) {return null;}// Accept quoted arguments as-isif ( match[ 3 ] ) {match[ 2 ] = match[ 4 ] || match[ 5 ] || "";// Strip excess characters from unquoted arguments} else if ( unquoted && rpseudo.test( unquoted ) &&// Get excess from tokenize (recursively)( excess = tokenize( unquoted, true ) ) &&// advance to the next closing parenthesis( excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length ) ) {// excess is a negative indexmatch[ 0 ] = match[ 0 ].slice( 0, excess );match[ 2 ] = unquoted.slice( 0, excess );}// Return only captures needed by the pseudo filter method (type and argument)return match.slice( 0, 3 );}},filter: {"TAG": function( nodeNameSelector ) {var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();return nodeNameSelector === "*" ?function() {return true;} :function( elem ) {return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;};},"CLASS": function( className ) {var pattern = classCache[ className + " " ];return pattern ||( pattern = new RegExp( "(^|" + whitespace +")" + className + "(" + whitespace + "|$)" ) ) && classCache(className, function( elem ) {return pattern.test(typeof elem.className === "string" && elem.className ||typeof elem.getAttribute !== "undefined" &&elem.getAttribute( "class" ) ||"");} );},"ATTR": function( name, operator, check ) {return function( elem ) {var result = Sizzle.attr( elem, name );if ( result == null ) {return operator === "!=";}if ( !operator ) {return true;}result += "";/* eslint-disable max-len */return operator === "=" ? result === check :operator === "!=" ? result !== check :operator === "^=" ? check && result.indexOf( check ) === 0 :operator === "*=" ? check && result.indexOf( check ) > -1 :operator === "$=" ? check && result.slice( -check.length ) === check :operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :false;/* eslint-enable max-len */};},"CHILD": function( type, what, _argument, first, last ) {var simple = type.slice( 0, 3 ) !== "nth",forward = type.slice( -4 ) !== "last",ofType = what === "of-type";return first === 1 && last === 0 ?// Shortcut for :nth-*(n)function( elem ) {return !!elem.parentNode;} :function( elem, _context, xml ) {var cache, uniqueCache, outerCache, node, nodeIndex, start,dir = simple !== forward ? "nextSibling" : "previousSibling",parent = elem.parentNode,name = ofType && elem.nodeName.toLowerCase(),useCache = !xml && !ofType,diff = false;if ( parent ) {// :(first|last|only)-(child|of-type)if ( simple ) {while ( dir ) {node = elem;while ( ( node = node[ dir ] ) ) {if ( ofType ?node.nodeName.toLowerCase() === name :node.nodeType === 1 ) {return false;}}// Reverse direction for :only-* (if we haven't yet done so)start = dir = type === "only" && !start && "nextSibling";}return true;}start = [ forward ? parent.firstChild : parent.lastChild ];// non-xml :nth-child(...) stores cache data on `parent`if ( forward && useCache ) {// Seek `elem` from a previously-cached index// ...in a gzip-friendly waynode = parent;outerCache = node[ expando ] || ( node[ expando ] = {} );// Support: IE <9 only// Defend against cloned attroperties (jQuery gh-1709)uniqueCache = outerCache[ node.uniqueID ] ||( outerCache[ node.uniqueID ] = {} );cache = uniqueCache[ type ] || [];nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];diff = nodeIndex && cache[ 2 ];node = nodeIndex && parent.childNodes[ nodeIndex ];while ( ( node = ++nodeIndex && node && node[ dir ] ||// Fallback to seeking `elem` from the start( diff = nodeIndex = 0 ) || start.pop() ) ) {// When found, cache indexes on `parent` and breakif ( node.nodeType === 1 && ++diff && node === elem ) {uniqueCache[ type ] = [ dirruns, nodeIndex, diff ];break;}}} else {// Use previously-cached element index if availableif ( useCache ) {// ...in a gzip-friendly waynode = elem;outerCache = node[ expando ] || ( node[ expando ] = {} );// Support: IE <9 only// Defend against cloned attroperties (jQuery gh-1709)uniqueCache = outerCache[ node.uniqueID ] ||( outerCache[ node.uniqueID ] = {} );cache = uniqueCache[ type ] || [];nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];diff = nodeIndex;}// xml :nth-child(...)// or :nth-last-child(...) or :nth(-last)?-of-type(...)if ( diff === false ) {// Use the same loop as above to seek `elem` from the startwhile ( ( node = ++nodeIndex && node && node[ dir ] ||( diff = nodeIndex = 0 ) || start.pop() ) ) {if ( ( ofType ?node.nodeName.toLowerCase() === name :node.nodeType === 1 ) &&++diff ) {// Cache the index of each encountered elementif ( useCache ) {outerCache = node[ expando ] ||( node[ expando ] = {} );// Support: IE <9 only// Defend against cloned attroperties (jQuery gh-1709)uniqueCache = outerCache[ node.uniqueID ] ||( outerCache[ node.uniqueID ] = {} );uniqueCache[ type ] = [ dirruns, diff ];}if ( node === elem ) {break;}}}}}// Incorporate the offset, then check against cycle sizediff -= last;return diff === first || ( diff % first === 0 && diff / first >= 0 );}};},"PSEUDO": function( pseudo, argument ) {// pseudo-class names are case-insensitive// http://www.w3.org/TR/selectors/#pseudo-classes// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters// Remember that setFilters inherits from pseudosvar args,fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||Sizzle.error( "unsupported pseudo: " + pseudo );// The user may use createPseudo to indicate that// arguments are needed to create the filter function// just as Sizzle doesif ( fn[ expando ] ) {return fn( argument );}// But maintain support for old signaturesif ( fn.length > 1 ) {args = [ pseudo, pseudo, "", argument ];return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?markFunction( function( seed, matches ) {var idx,matched = fn( seed, argument ),i = matched.length;while ( i-- ) {idx = indexOf( seed, matched[ i ] );seed[ idx ] = !( matches[ idx ] = matched[ i ] );}} ) :function( elem ) {return fn( elem, 0, args );};}return fn;}},pseudos: {// Potentially complex pseudos"not": markFunction( function( selector ) {// Trim the selector passed to compile// to avoid treating leading and trailing// spaces as combinatorsvar input = [],results = [],matcher = compile( selector.replace( rtrim, "$1" ) );return matcher[ expando ] ?markFunction( function( seed, matches, _context, xml ) {var elem,unmatched = matcher( seed, null, xml, [] ),i = seed.length;// Match elements unmatched by `matcher`while ( i-- ) {if ( ( elem = unmatched[ i ] ) ) {seed[ i ] = !( matches[ i ] = elem );}}} ) :function( elem, _context, xml ) {input[ 0 ] = elem;matcher( input, null, xml, results );// Don't keep the element (issue #299)input[ 0 ] = null;return !results.pop();};} ),"has": markFunction( function( selector ) {return function( elem ) {return Sizzle( selector, elem ).length > 0;};} ),"contains": markFunction( function( text ) {text = text.replace( runescape, funescape );return function( elem ) {return ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;};} ),// "Whether an element is represented by a :lang() selector// is based solely on the element's language value// being equal to the identifier C,// or beginning with the identifier C immediately followed by "-".// The matching of C against the element's language value is performed case-insensitively.// The identifier C does not have to be a valid language name."// http://www.w3.org/TR/selectors/#lang-pseudo"lang": markFunction( function( lang ) {// lang value must be a valid identifierif ( !ridentifier.test( lang || "" ) ) {Sizzle.error( "unsupported lang: " + lang );}lang = lang.replace( runescape, funescape ).toLowerCase();return function( elem ) {var elemLang;do {if ( ( elemLang = documentIsHTML ?elem.lang :elem.getAttribute( "xml:lang" ) || elem.getAttribute( "lang" ) ) ) {elemLang = elemLang.toLowerCase();return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;}} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );return false;};} ),// Miscellaneous"target": function( elem ) {var hash = window.location && window.location.hash;return hash && hash.slice( 1 ) === elem.id;},"root": function( elem ) {return elem === docElem;},"focus": function( elem ) {return elem === document.activeElement &&( !document.hasFocus || document.hasFocus() ) &&!!( elem.type || elem.href || ~elem.tabIndex );},// Boolean properties"enabled": createDisabledPseudo( false ),"disabled": createDisabledPseudo( true ),"checked": function( elem ) {// In CSS3, :checked should return both checked and selected elements// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checkedvar nodeName = elem.nodeName.toLowerCase();return ( nodeName === "input" && !!elem.checked ) ||( nodeName === "option" && !!elem.selected );},"selected": function( elem ) {// Accessing this property makes selected-by-default// options in Safari work properlyif ( elem.parentNode ) {// eslint-disable-next-line no-unused-expressionselem.parentNode.selectedIndex;}return elem.selected === true;},// Contents"empty": function( elem ) {// http://www.w3.org/TR/selectors/#empty-pseudo// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),//   but not by others (comment: 8; processing instruction: 7; etc.)// nodeType < 6 works because attributes (2) do not appear as childrenfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {if ( elem.nodeType < 6 ) {return false;}}return true;},"parent": function( elem ) {return !Expr.pseudos[ "empty" ]( elem );},// Element/input types"header": function( elem ) {return rheader.test( elem.nodeName );},"input": function( elem ) {return rinputs.test( elem.nodeName );},"button": function( elem ) {var name = elem.nodeName.toLowerCase();return name === "input" && elem.type === "button" || name === "button";},"text": function( elem ) {var attr;return elem.nodeName.toLowerCase() === "input" &&elem.type === "text" &&// Support: IE<8// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"( ( attr = elem.getAttribute( "type" ) ) == null ||attr.toLowerCase() === "text" );},// Position-in-collection"first": createPositionalPseudo( function() {return [ 0 ];} ),"last": createPositionalPseudo( function( _matchIndexes, length ) {return [ length - 1 ];} ),"eq": createPositionalPseudo( function( _matchIndexes, length, argument ) {return [ argument < 0 ? argument + length : argument ];} ),"even": createPositionalPseudo( function( matchIndexes, length ) {var i = 0;for ( ; i < length; i += 2 ) {matchIndexes.push( i );}return matchIndexes;} ),"odd": createPositionalPseudo( function( matchIndexes, length ) {var i = 1;for ( ; i < length; i += 2 ) {matchIndexes.push( i );}return matchIndexes;} ),"lt": createPositionalPseudo( function( matchIndexes, length, argument ) {var i = argument < 0 ?argument + length :argument > length ?length :argument;for ( ; --i >= 0; ) {matchIndexes.push( i );}return matchIndexes;} ),"gt": createPositionalPseudo( function( matchIndexes, length, argument ) {var i = argument < 0 ? argument + length : argument;for ( ; ++i < length; ) {matchIndexes.push( i );}return matchIndexes;} )}};Expr.pseudos[ "nth" ] = Expr.pseudos[ "eq" ];// Add button/input type pseudosfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {Expr.pseudos[ i ] = createInputPseudo( i );}for ( i in { submit: true, reset: true } ) {Expr.pseudos[ i ] = createButtonPseudo( i );}// Easy API for creating new setFiltersfunction setFilters() {}setFilters.prototype = Expr.filters = Expr.pseudos;Expr.setFilters = new setFilters();tokenize = Sizzle.tokenize = function( selector, parseOnly ) {var matched, match, tokens, type,soFar, groups, preFilters,cached = tokenCache[ selector + " " ];if ( cached ) {return parseOnly ? 0 : cached.slice( 0 );}soFar = selector;groups = [];preFilters = Expr.preFilter;while ( soFar ) {// Comma and first runif ( !matched || ( match = rcomma.exec( soFar ) ) ) {if ( match ) {// Don't consume trailing commas as validsoFar = soFar.slice( match[ 0 ].length ) || soFar;}groups.push( ( tokens = [] ) );}matched = false;// Combinatorsif ( ( match = rcombinators.exec( soFar ) ) ) {matched = match.shift();tokens.push( {value: matched,// Cast descendant combinators to spacetype: match[ 0 ].replace( rtrim, " " )} );soFar = soFar.slice( matched.length );}// Filtersfor ( type in Expr.filter ) {if ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||( match = preFilters[ type ]( match ) ) ) ) {matched = match.shift();tokens.push( {value: matched,type: type,matches: match} );soFar = soFar.slice( matched.length );}}if ( !matched ) {break;}}// Return the length of the invalid excess// if we're just parsing// Otherwise, throw an error or return tokensreturn parseOnly ?soFar.length :soFar ?Sizzle.error( selector ) :// Cache the tokenstokenCache( selector, groups ).slice( 0 );};function toSelector( tokens ) {var i = 0,len = tokens.length,selector = "";for ( ; i < len; i++ ) {selector += tokens[ i ].value;}return selector;}function addCombinator( matcher, combinator, base ) {var dir = combinator.dir,skip = combinator.next,key = skip || dir,checkNonElements = base && key === "parentNode",doneName = done++;return combinator.first ?// Check against closest ancestor/preceding elementfunction( elem, context, xml ) {while ( ( elem = elem[ dir ] ) ) {if ( elem.nodeType === 1 || checkNonElements ) {return matcher( elem, context, xml );}}return false;} :// Check against all ancestor/preceding elementsfunction( elem, context, xml ) {var oldCache, uniqueCache, outerCache,newCache = [ dirruns, doneName ];// We can't set arbitrary data on XML nodes, so they don't benefit from combinator cachingif ( xml ) {while ( ( elem = elem[ dir ] ) ) {if ( elem.nodeType === 1 || checkNonElements ) {if ( matcher( elem, context, xml ) ) {return true;}}}} else {while ( ( elem = elem[ dir ] ) ) {if ( elem.nodeType === 1 || checkNonElements ) {outerCache = elem[ expando ] || ( elem[ expando ] = {} );// Support: IE <9 only// Defend against cloned attroperties (jQuery gh-1709)uniqueCache = outerCache[ elem.uniqueID ] ||( outerCache[ elem.uniqueID ] = {} );if ( skip && skip === elem.nodeName.toLowerCase() ) {elem = elem[ dir ] || elem;} else if ( ( oldCache = uniqueCache[ key ] ) &&oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {// Assign to newCache so results back-propagate to previous elementsreturn ( newCache[ 2 ] = oldCache[ 2 ] );} else {// Reuse newcache so results back-propagate to previous elementsuniqueCache[ key ] = newCache;// A match means we're done; a fail means we have to keep checkingif ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {return true;}}}}}return false;};}function elementMatcher( matchers ) {return matchers.length > 1 ?function( elem, context, xml ) {var i = matchers.length;while ( i-- ) {if ( !matchers[ i ]( elem, context, xml ) ) {return false;}}return true;} :matchers[ 0 ];}function multipleContexts( selector, contexts, results ) {var i = 0,len = contexts.length;for ( ; i < len; i++ ) {Sizzle( selector, contexts[ i ], results );}return results;}function condense( unmatched, map, filter, context, xml ) {var elem,newUnmatched = [],i = 0,len = unmatched.length,mapped = map != null;for ( ; i < len; i++ ) {if ( ( elem = unmatched[ i ] ) ) {if ( !filter || filter( elem, context, xml ) ) {newUnmatched.push( elem );if ( mapped ) {map.push( i );}}}}return newUnmatched;}function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {if ( postFilter && !postFilter[ expando ] ) {postFilter = setMatcher( postFilter );}if ( postFinder && !postFinder[ expando ] ) {postFinder = setMatcher( postFinder, postSelector );}return markFunction( function( seed, results, context, xml ) {var temp, i, elem,preMap = [],postMap = [],preexisting = results.length,// Get initial elements from seed or contextelems = seed || multipleContexts(selector || "*",context.nodeType ? [ context ] : context,[]),// Prefilter to get matcher input, preserving a map for seed-results synchronizationmatcherIn = preFilter && ( seed || !selector ) ?condense( elems, preMap, preFilter, context, xml ) :elems,matcherOut = matcher ?// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,postFinder || ( seed ? preFilter : preexisting || postFilter ) ?// ...intermediate processing is necessary[] :// ...otherwise use results directlyresults :matcherIn;// Find primary matchesif ( matcher ) {matcher( matcherIn, matcherOut, context, xml );}// Apply postFilterif ( postFilter ) {temp = condense( matcherOut, postMap );postFilter( temp, [], context, xml );// Un-match failing elements by moving them back to matcherIni = temp.length;while ( i-- ) {if ( ( elem = temp[ i ] ) ) {matcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );}}}if ( seed ) {if ( postFinder || preFilter ) {if ( postFinder ) {// Get the final matcherOut by condensing this intermediate into postFinder contextstemp = [];i = matcherOut.length;while ( i-- ) {if ( ( elem = matcherOut[ i ] ) ) {// Restore matcherIn since elem is not yet a final matchtemp.push( ( matcherIn[ i ] = elem ) );}}postFinder( null, ( matcherOut = [] ), temp, xml );}// Move matched elements from seed to results to keep them synchronizedi = matcherOut.length;while ( i-- ) {if ( ( elem = matcherOut[ i ] ) &&( temp = postFinder ? indexOf( seed, elem ) : preMap[ i ] ) > -1 ) {seed[ temp ] = !( results[ temp ] = elem );}}}// Add elements to results, through postFinder if defined} else {matcherOut = condense(matcherOut === results ?matcherOut.splice( preexisting, matcherOut.length ) :matcherOut);if ( postFinder ) {postFinder( null, results, matcherOut, xml );} else {push.apply( results, matcherOut );}}} );}function matcherFromTokens( tokens ) {var checkContext, matcher, j,len = tokens.length,leadingRelative = Expr.relative[ tokens[ 0 ].type ],implicitRelative = leadingRelative || Expr.relative[ " " ],i = leadingRelative ? 1 : 0,// The foundational matcher ensures that elements are reachable from top-level context(s)matchContext = addCombinator( function( elem ) {return elem === checkContext;}, implicitRelative, true ),matchAnyContext = addCombinator( function( elem ) {return indexOf( checkContext, elem ) > -1;}, implicitRelative, true ),matchers = [ function( elem, context, xml ) {var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (( checkContext = context ).nodeType ?matchContext( elem, context, xml ) :matchAnyContext( elem, context, xml ) );// Avoid hanging onto element (issue #299)checkContext = null;return ret;} ];for ( ; i < len; i++ ) {if ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {matchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];} else {matcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );// Return special upon seeing a positional matcherif ( matcher[ expando ] ) {// Find the next relative operator (if any) for proper handlingj = ++i;for ( ; j < len; j++ ) {if ( Expr.relative[ tokens[ j ].type ] ) {break;}}return setMatcher(i > 1 && elementMatcher( matchers ),i > 1 && toSelector(// If the preceding token was a descendant combinator, insert an implicit any-element `*`tokens.slice( 0, i - 1 ).concat( { value: tokens[ i - 2 ].type === " " ? "*" : "" } )).replace( rtrim, "$1" ),matcher,i < j && matcherFromTokens( tokens.slice( i, j ) ),j < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),j < len && toSelector( tokens ));}matchers.push( matcher );}}return elementMatcher( matchers );}function matcherFromGroupMatchers( elementMatchers, setMatchers ) {var bySet = setMatchers.length > 0,byElement = elementMatchers.length > 0,superMatcher = function( seed, context, xml, results, outermost ) {var elem, j, matcher,matchedCount = 0,i = "0",unmatched = seed && [],setMatched = [],contextBackup = outermostContext,// We must always have either seed elements or outermost contextelems = seed || byElement && Expr.find[ "TAG" ]( "*", outermost ),// Use integer dirruns iff this is the outermost matcherdirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),len = elems.length;if ( outermost ) {// Support: IE 11+, Edge 17 - 18+// IE/Edge sometimes throw a "Permission denied" error when strict-comparing// two documents; shallow comparisons work.// eslint-disable-next-line eqeqeqoutermostContext = context == document || context || outermost;}// Add elements passing elementMatchers directly to results// Support: IE<9, Safari// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by idfor ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {if ( byElement && elem ) {j = 0;// Support: IE 11+, Edge 17 - 18+// IE/Edge sometimes throw a "Permission denied" error when strict-comparing// two documents; shallow comparisons work.// eslint-disable-next-line eqeqeqif ( !context && elem.ownerDocument != document ) {setDocument( elem );xml = !documentIsHTML;}while ( ( matcher = elementMatchers[ j++ ] ) ) {if ( matcher( elem, context || document, xml ) ) {results.push( elem );break;}}if ( outermost ) {dirruns = dirrunsUnique;}}// Track unmatched elements for set filtersif ( bySet ) {// They will have gone through all possible matchersif ( ( elem = !matcher && elem ) ) {matchedCount--;}// Lengthen the array for every element, matched or notif ( seed ) {unmatched.push( elem );}}}// `i` is now the count of elements visited above, and adding it to `matchedCount`// makes the latter nonnegative.matchedCount += i;// Apply set filters to unmatched elements// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`// equals `i`), unless we didn't visit _any_ elements in the above loop because we have// no element matchers and no seed.// Incrementing an initially-string "0" `i` allows `i` to remain a string only in that// case, which will result in a "00" `matchedCount` that differs from `i` but is also// numerically zero.if ( bySet && i !== matchedCount ) {j = 0;while ( ( matcher = setMatchers[ j++ ] ) ) {matcher( unmatched, setMatched, context, xml );}if ( seed ) {// Reintegrate element matches to eliminate the need for sortingif ( matchedCount > 0 ) {while ( i-- ) {if ( !( unmatched[ i ] || setMatched[ i ] ) ) {setMatched[ i ] = pop.call( results );}}}// Discard index placeholder values to get only actual matchessetMatched = condense( setMatched );}// Add matches to resultspush.apply( results, setMatched );// Seedless set matches succeeding multiple successful matchers stipulate sortingif ( outermost && !seed && setMatched.length > 0 &&( matchedCount + setMatchers.length ) > 1 ) {Sizzle.uniqueSort( results );}}// Override manipulation of globals by nested matchersif ( outermost ) {dirruns = dirrunsUnique;outermostContext = contextBackup;}return unmatched;};return bySet ?markFunction( superMatcher ) :superMatcher;}compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {var i,setMatchers = [],elementMatchers = [],cached = compilerCache[ selector + " " ];if ( !cached ) {// Generate a function of recursive functions that can be used to check each elementif ( !match ) {match = tokenize( selector );}i = match.length;while ( i-- ) {cached = matcherFromTokens( match[ i ] );if ( cached[ expando ] ) {setMatchers.push( cached );} else {elementMatchers.push( cached );}}// Cache the compiled functioncached = compilerCache(selector,matcherFromGroupMatchers( elementMatchers, setMatchers ));// Save selector and tokenizationcached.selector = selector;}return cached;};/** * A low-level selection function that works with Sizzle's compiled *  selector functions * @param {String|Function} selector A selector or a pre-compiled *  selector function built with Sizzle.compile * @param {Element} context * @param {Array} [results] * @param {Array} [seed] A set of elements to match against */select = Sizzle.select = function( selector, context, results, seed ) {var i, tokens, token, type, find,compiled = typeof selector === "function" && selector,match = !seed && tokenize( ( selector = compiled.selector || selector ) );results = results || [];// Try to minimize operations if there is only one selector in the list and no seed// (the latter of which guarantees us context)if ( match.length === 1 ) {// Reduce context if the leading compound selector is an IDtokens = match[ 0 ] = match[ 0 ].slice( 0 );if ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === "ID" &&context.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {context = ( Expr.find[ "ID" ]( token.matches[ 0 ].replace( runescape, funescape ), context ) || [] )[ 0 ];if ( !context ) {return results;// Precompiled matchers will still verify ancestry, so step up a level} else if ( compiled ) {context = context.parentNode;}selector = selector.slice( tokens.shift().value.length );}// Fetch a seed set for right-to-left matchingi = matchExpr[ "needsContext" ].test( selector ) ? 0 : tokens.length;while ( i-- ) {token = tokens[ i ];// Abort if we hit a combinatorif ( Expr.relative[ ( type = token.type ) ] ) {break;}if ( ( find = Expr.find[ type ] ) ) {// Search, expanding context for leading sibling combinatorsif ( ( seed = find(token.matches[ 0 ].replace( runescape, funescape ),rsibling.test( tokens[ 0 ].type ) && testContext( context.parentNode ) ||context) ) ) {// If seed is empty or no tokens remain, we can return earlytokens.splice( i, 1 );selector = seed.length && toSelector( tokens );if ( !selector ) {push.apply( results, seed );return results;}break;}}}}// Compile and execute a filtering function if one is not provided// Provide `match` to avoid retokenization if we modified the selector above( compiled || compile( selector, match ) )(seed,context,!documentIsHTML,results,!context || rsibling.test( selector ) && testContext( context.parentNode ) || context);return results;};// One-time assignments// Sort stabilitysupport.sortStable = expando.split( "" ).sort( sortOrder ).join( "" ) === expando;// Support: Chrome 14-35+// Always assume duplicates if they aren't passed to the comparison functionsupport.detectDuplicates = !!hasDuplicate;// Initialize against the default documentsetDocument();// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)// Detached nodes confoundingly follow *each other*support.sortDetached = assert( function( el ) {// Should return 1, but returns 4 (following)return el.compareDocumentPosition( document.createElement( "fieldset" ) ) & 1;} );// Support: IE<8// Prevent attribute/property "interpolation"// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspxif ( !assert( function( el ) {el.innerHTML = "<a href='#'></a>";return el.firstChild.getAttribute( "href" ) === "#";} ) ) {addHandle( "type|href|height|width", function( elem, name, isXML ) {if ( !isXML ) {return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );}} );}// Support: IE<9// Use defaultValue in place of getAttribute("value")if ( !support.attributes || !assert( function( el ) {el.innerHTML = "<input/>";el.firstChild.setAttribute( "value", "" );return el.firstChild.getAttribute( "value" ) === "";} ) ) {addHandle( "value", function( elem, _name, isXML ) {if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {return elem.defaultValue;}} );}// Support: IE<9// Use getAttributeNode to fetch booleans when getAttribute liesif ( !assert( function( el ) {return el.getAttribute( "disabled" ) == null;} ) ) {addHandle( booleans, function( elem, name, isXML ) {var val;if ( !isXML ) {return elem[ name ] === true ? name.toLowerCase() :( val = elem.getAttributeNode( name ) ) && val.specified ?val.value :null;}} );}return Sizzle;} )( window );jQuery.find = Sizzle;jQuery.expr = Sizzle.selectors;// DeprecatedjQuery.expr[ ":" ] = jQuery.expr.pseudos;jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;jQuery.text = Sizzle.getText;jQuery.isXMLDoc = Sizzle.isXML;jQuery.contains = Sizzle.contains;jQuery.escapeSelector = Sizzle.escape;var dir = function( elem, dir, until ) {var matched = [],truncate = until !== undefined;while ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {if ( elem.nodeType === 1 ) {if ( truncate && jQuery( elem ).is( until ) ) {break;}matched.push( elem );}}return matched;};var siblings = function( n, elem ) {var matched = [];for ( ; n; n = n.nextSibling ) {if ( n.nodeType === 1 && n !== elem ) {matched.push( n );}}return matched;};var rneedsContext = jQuery.expr.match.needsContext;function nodeName( elem, name ) {return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();}var rsingleTag = ( /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i );// Implement the identical functionality for filter and notfunction winnow( elements, qualifier, not ) {if ( isFunction( qualifier ) ) {return jQuery.grep( elements, function( elem, i ) {return !!qualifier.call( elem, i, elem ) !== not;} );}// Single elementif ( qualifier.nodeType ) {return jQuery.grep( elements, function( elem ) {return ( elem === qualifier ) !== not;} );}// Arraylike of elements (jQuery, arguments, Array)if ( typeof qualifier !== "string" ) {return jQuery.grep( elements, function( elem ) {return ( indexOf.call( qualifier, elem ) > -1 ) !== not;} );}// Filtered directly for both simple and complex selectorsreturn jQuery.filter( qualifier, elements, not );}jQuery.filter = function( expr, elems, not ) {var elem = elems[ 0 ];if ( not ) {expr = ":not(" + expr + ")";}if ( elems.length === 1 && elem.nodeType === 1 ) {return jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];}return jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {return elem.nodeType === 1;} ) );};jQuery.fn.extend( {find: function( selector ) {var i, ret,len = this.length,self = this;if ( typeof selector !== "string" ) {return this.pushStack( jQuery( selector ).filter( function() {for ( i = 0; i < len; i++ ) {if ( jQuery.contains( self[ i ], this ) ) {return true;}}} ) );}ret = this.pushStack( [] );for ( i = 0; i < len; i++ ) {jQuery.find( selector, self[ i ], ret );}return len > 1 ? jQuery.uniqueSort( ret ) : ret;},filter: function( selector ) {return this.pushStack( winnow( this, selector || [], false ) );},not: function( selector ) {return this.pushStack( winnow( this, selector || [], true ) );},is: function( selector ) {return !!winnow(this,// If this is a positional/relative selector, check membership in the returned set// so $("p:first").is("p:last") won't return true for a doc with two "p".typeof selector === "string" && rneedsContext.test( selector ) ?jQuery( selector ) :selector || [],false).length;}} );// Initialize a jQuery object// A central reference to the root jQuery(document)var rootjQuery,// A simple way to check for HTML strings// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)// Strict HTML recognition (#11290: must start with <)// Shortcut simple #id case for speedrquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,init = jQuery.fn.init = function( selector, context, root ) {var match, elem;// HANDLE: $(""), $(null), $(undefined), $(false)if ( !selector ) {return this;}// Method init() accepts an alternate rootjQuery// so migrate can support jQuery.sub (gh-2101)root = root || rootjQuery;// Handle HTML stringsif ( typeof selector === "string" ) {if ( selector[ 0 ] === "<" &&selector[ selector.length - 1 ] === ">" &&selector.length >= 3 ) {// Assume that strings that start and end with <> are HTML and skip the regex checkmatch = [ null, selector, null ];} else {match = rquickExpr.exec( selector );}// Match html or make sure no context is specified for #idif ( match && ( match[ 1 ] || !context ) ) {// HANDLE: $(html) -> $(array)if ( match[ 1 ] ) {context = context instanceof jQuery ? context[ 0 ] : context;// Option to run scripts is true for back-compat// Intentionally let the error be thrown if parseHTML is not presentjQuery.merge( this, jQuery.parseHTML(match[ 1 ],context && context.nodeType ? context.ownerDocument || context : document,true) );// HANDLE: $(html, props)if ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {for ( match in context ) {// Properties of context are called as methods if possibleif ( isFunction( this[ match ] ) ) {this[ match ]( context[ match ] );// ...and otherwise set as attributes} else {this.attr( match, context[ match ] );}}}return this;// HANDLE: $(#id)} else {elem = document.getElementById( match[ 2 ] );if ( elem ) {// Inject the element directly into the jQuery objectthis[ 0 ] = elem;this.length = 1;}return this;}// HANDLE: $(expr, $(...))} else if ( !context || context.jquery ) {return ( context || root ).find( selector );// HANDLE: $(expr, context)// (which is just equivalent to: $(context).find(expr)} else {return this.constructor( context ).find( selector );}// HANDLE: $(DOMElement)} else if ( selector.nodeType ) {this[ 0 ] = selector;this.length = 1;return this;// HANDLE: $(function)// Shortcut for document ready} else if ( isFunction( selector ) ) {return root.ready !== undefined ?root.ready( selector ) :// Execute immediately if ready is not presentselector( jQuery );}return jQuery.makeArray( selector, this );};// Give the init function the jQuery prototype for later instantiationinit.prototype = jQuery.fn;// Initialize central referencerootjQuery = jQuery( document );var rparentsprev = /^(?:parents|prev(?:Until|All))/,// Methods guaranteed to produce a unique set when starting from a unique setguaranteedUnique = {children: true,contents: true,next: true,prev: true};jQuery.fn.extend( {has: function( target ) {var targets = jQuery( target, this ),l = targets.length;return this.filter( function() {var i = 0;for ( ; i < l; i++ ) {if ( jQuery.contains( this, targets[ i ] ) ) {return true;}}} );},closest: function( selectors, context ) {var cur,i = 0,l = this.length,matched = [],targets = typeof selectors !== "string" && jQuery( selectors );// Positional selectors never match, since there's no _selection_ contextif ( !rneedsContext.test( selectors ) ) {for ( ; i < l; i++ ) {for ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {// Always skip document fragmentsif ( cur.nodeType < 11 && ( targets ?targets.index( cur ) > -1 :// Don't pass non-elements to Sizzlecur.nodeType === 1 &&jQuery.find.matchesSelector( cur, selectors ) ) ) {matched.push( cur );break;}}}}return this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );},// Determine the position of an element within the setindex: function( elem ) {// No argument, return index in parentif ( !elem ) {return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;}// Index in selectorif ( typeof elem === "string" ) {return indexOf.call( jQuery( elem ), this[ 0 ] );}// Locate the position of the desired elementreturn indexOf.call( this,// If it receives a jQuery object, the first element is usedelem.jquery ? elem[ 0 ] : elem);},add: function( selector, context ) {return this.pushStack(jQuery.uniqueSort(jQuery.merge( this.get(), jQuery( selector, context ) )));},addBack: function( selector ) {return this.add( selector == null ?this.prevObject : this.prevObject.filter( selector ));}} );function sibling( cur, dir ) {while ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}return cur;}jQuery.each( {parent: function( elem ) {var parent = elem.parentNode;return parent && parent.nodeType !== 11 ? parent : null;},parents: function( elem ) {return dir( elem, "parentNode" );},parentsUntil: function( elem, _i, until ) {return dir( elem, "parentNode", until );},next: function( elem ) {return sibling( elem, "nextSibling" );},prev: function( elem ) {return sibling( elem, "previousSibling" );},nextAll: function( elem ) {return dir( elem, "nextSibling" );},prevAll: function( elem ) {return dir( elem, "previousSibling" );},nextUntil: function( elem, _i, until ) {return dir( elem, "nextSibling", until );},prevUntil: function( elem, _i, until ) {return dir( elem, "previousSibling", until );},siblings: function( elem ) {return siblings( ( elem.parentNode || {} ).firstChild, elem );},children: function( elem ) {return siblings( elem.firstChild );},contents: function( elem ) {if ( elem.contentDocument != null &&// Support: IE 11+// <object> elements with no `data` attribute has an object// `contentDocument` with a `null` prototype.getProto( elem.contentDocument ) ) {return elem.contentDocument;}// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only// Treat the template element as a regular one in browsers that// don't support it.if ( nodeName( elem, "template" ) ) {elem = elem.content || elem;}return jQuery.merge( [], elem.childNodes );}}, function( name, fn ) {jQuery.fn[ name ] = function( until, selector ) {var matched = jQuery.map( this, fn, until );if ( name.slice( -5 ) !== "Until" ) {selector = until;}if ( selector && typeof selector === "string" ) {matched = jQuery.filter( selector, matched );}if ( this.length > 1 ) {// Remove duplicatesif ( !guaranteedUnique[ name ] ) {jQuery.uniqueSort( matched );}// Reverse order for parents* and prev-derivativesif ( rparentsprev.test( name ) ) {matched.reverse();}}return this.pushStack( matched );};} );var rnothtmlwhite = ( /[^\x20\t\r\n\f]+/g );// Convert String-formatted options into Object-formatted onesfunction createOptions( options ) {var object = {};jQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {object[ flag ] = true;} );return object;}/* * Create a callback list using the following parameters: * *options: an optional list of space-separated options that will change how *the callback list behaves or a more traditional option object * * By default a callback list will act like an event callback list and can be * "fired" multiple times. * * Possible options: * *once:will ensure the callback list can only be fired once (like a Deferred) * *memory:will keep track of previous values and will call any callback added *after the list has been fired right away with the latest "memorized" *values (like a Deferred) * *unique:will ensure a callback can only be added once (no duplicate in the list) * *stopOnFalse:interrupt callings when a callback returns false * */jQuery.Callbacks = function( options ) {// Convert options from String-formatted to Object-formatted if needed// (we check in cache first)options = typeof options === "string" ?createOptions( options ) :jQuery.extend( {}, options );var // Flag to know if list is currently firingfiring,// Last fire value for non-forgettable listsmemory,// Flag to know if list was already firedfired,// Flag to prevent firinglocked,// Actual callback listlist = [],// Queue of execution data for repeatable listsqueue = [],// Index of currently firing callback (modified by add/remove as needed)firingIndex = -1,// Fire callbacksfire = function() {// Enforce single-firinglocked = locked || options.once;// Execute callbacks for all pending executions,// respecting firingIndex overrides and runtime changesfired = firing = true;for ( ; queue.length; firingIndex = -1 ) {memory = queue.shift();while ( ++firingIndex < list.length ) {// Run callback and check for early terminationif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&options.stopOnFalse ) {// Jump to end and forget the data so .add doesn't re-firefiringIndex = list.length;memory = false;}}}// Forget the data if we're done with itif ( !options.memory ) {memory = false;}firing = false;// Clean up if we're done firing for goodif ( locked ) {// Keep an empty list if we have data for future add callsif ( memory ) {list = [];// Otherwise, this object is spent} else {list = "";}}},// Actual Callbacks objectself = {// Add a callback or a collection of callbacks to the listadd: function() {if ( list ) {// If we have memory from a past run, we should fire after addingif ( memory && !firing ) {firingIndex = list.length - 1;queue.push( memory );}( function add( args ) {jQuery.each( args, function( _, arg ) {if ( isFunction( arg ) ) {if ( !options.unique || !self.has( arg ) ) {list.push( arg );}} else if ( arg && arg.length && toType( arg ) !== "string" ) {// Inspect recursivelyadd( arg );}} );} )( arguments );if ( memory && !firing ) {fire();}}return this;},// Remove a callback from the listremove: function() {jQuery.each( arguments, function( _, arg ) {var index;while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {list.splice( index, 1 );// Handle firing indexesif ( index <= firingIndex ) {firingIndex--;}}} );return this;},// Check if a given callback is in the list.// If no argument is given, return whether or not list has callbacks attached.has: function( fn ) {return fn ?jQuery.inArray( fn, list ) > -1 :list.length > 0;},// Remove all callbacks from the listempty: function() {if ( list ) {list = [];}return this;},// Disable .fire and .add// Abort any current/pending executions// Clear all callbacks and valuesdisable: function() {locked = queue = [];list = memory = "";return this;},disabled: function() {return !list;},// Disable .fire// Also disable .add unless we have memory (since it would have no effect)// Abort any pending executionslock: function() {locked = queue = [];if ( !memory && !firing ) {list = memory = "";}return this;},locked: function() {return !!locked;},// Call all callbacks with the given context and argumentsfireWith: function( context, args ) {if ( !locked ) {args = args || [];args = [ context, args.slice ? args.slice() : args ];queue.push( args );if ( !firing ) {fire();}}return this;},// Call all the callbacks with the given argumentsfire: function() {self.fireWith( this, arguments );return this;},// To know if the callbacks have already been called at least oncefired: function() {return !!fired;}};return self;};function Identity( v ) {return v;}function Thrower( ex ) {throw ex;}function adoptValue( value, resolve, reject, noValue ) {var method;try {// Check for promise aspect first to privilege synchronous behaviorif ( value && isFunction( ( method = value.promise ) ) ) {method.call( value ).done( resolve ).fail( reject );// Other thenables} else if ( value && isFunction( ( method = value.then ) ) ) {method.call( value, resolve, reject );// Other non-thenables} else {// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:// * false: [ value ].slice( 0 ) => resolve( value )// * true: [ value ].slice( 1 ) => resolve()resolve.apply( undefined, [ value ].slice( noValue ) );}// For Promises/A+, convert exceptions into rejections// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in// Deferred#then to conditionally suppress rejection.} catch ( value ) {// Support: Android 4.0 only// Strict mode functions invoked without .call/.apply get global-object contextreject.apply( undefined, [ value ] );}}jQuery.extend( {Deferred: function( func ) {var tuples = [// action, add listener, callbacks,// ... .then handlers, argument index, [final state][ "notify", "progress", jQuery.Callbacks( "memory" ),jQuery.Callbacks( "memory" ), 2 ],[ "resolve", "done", jQuery.Callbacks( "once memory" ),jQuery.Callbacks( "once memory" ), 0, "resolved" ],[ "reject", "fail", jQuery.Callbacks( "once memory" ),jQuery.Callbacks( "once memory" ), 1, "rejected" ]],state = "pending",promise = {state: function() {return state;},always: function() {deferred.done( arguments ).fail( arguments );return this;},"catch": function( fn ) {return promise.then( null, fn );},// Keep pipe for back-compatpipe: function( /* fnDone, fnFail, fnProgress */ ) {var fns = arguments;return jQuery.Deferred( function( newDefer ) {jQuery.each( tuples, function( _i, tuple ) {// Map tuples (progress, done, fail) to arguments (done, fail, progress)var fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];// deferred.progress(function() { bind to newDefer or newDefer.notify })// deferred.done(function() { bind to newDefer or newDefer.resolve })// deferred.fail(function() { bind to newDefer or newDefer.reject })deferred[ tuple[ 1 ] ]( function() {var returned = fn && fn.apply( this, arguments );if ( returned && isFunction( returned.promise ) ) {returned.promise().progress( newDefer.notify ).done( newDefer.resolve ).fail( newDefer.reject );} else {newDefer[ tuple[ 0 ] + "With" ](this,fn ? [ returned ] : arguments);}} );} );fns = null;} ).promise();},then: function( onFulfilled, onRejected, onProgress ) {var maxDepth = 0;function resolve( depth, deferred, handler, special ) {return function() {var that = this,args = arguments,mightThrow = function() {var returned, then;// Support: Promises/A+ section 2.3.3.3.3// https://promisesaplus.com/#point-59// Ignore double-resolution attemptsif ( depth < maxDepth ) {return;}returned = handler.apply( that, args );// Support: Promises/A+ section 2.3.1// https://promisesaplus.com/#point-48if ( returned === deferred.promise() ) {throw new TypeError( "Thenable self-resolution" );}// Support: Promises/A+ sections 2.3.3.1, 3.5// https://promisesaplus.com/#point-54// https://promisesaplus.com/#point-75// Retrieve `then` only oncethen = returned &&// Support: Promises/A+ section 2.3.4// https://promisesaplus.com/#point-64// Only check objects and functions for thenability( typeof returned === "object" ||typeof returned === "function" ) &&returned.then;// Handle a returned thenableif ( isFunction( then ) ) {// Special processors (notify) just wait for resolutionif ( special ) {then.call(returned,resolve( maxDepth, deferred, Identity, special ),resolve( maxDepth, deferred, Thrower, special ));// Normal processors (resolve) also hook into progress} else {// ...and disregard older resolution valuesmaxDepth++;then.call(returned,resolve( maxDepth, deferred, Identity, special ),resolve( maxDepth, deferred, Thrower, special ),resolve( maxDepth, deferred, Identity,deferred.notifyWith ));}// Handle all other returned values} else {// Only substitute handlers pass on context// and multiple values (non-spec behavior)if ( handler !== Identity ) {that = undefined;args = [ returned ];}// Process the value(s)// Default process is resolve( special || deferred.resolveWith )( that, args );}},// Only normal processors (resolve) catch and reject exceptionsprocess = special ?mightThrow :function() {try {mightThrow();} catch ( e ) {if ( jQuery.Deferred.exceptionHook ) {jQuery.Deferred.exceptionHook( e,process.stackTrace );}// Support: Promises/A+ section 2.3.3.3.4.1// https://promisesaplus.com/#point-61// Ignore post-resolution exceptionsif ( depth + 1 >= maxDepth ) {// Only substitute handlers pass on context// and multiple values (non-spec behavior)if ( handler !== Thrower ) {that = undefined;args = [ e ];}deferred.rejectWith( that, args );}}};// Support: Promises/A+ section 2.3.3.3.1// https://promisesaplus.com/#point-57// Re-resolve promises immediately to dodge false rejection from// subsequent errorsif ( depth ) {process();} else {// Call an optional hook to record the stack, in case of exception// since it's otherwise lost when execution goes asyncif ( jQuery.Deferred.getStackHook ) {process.stackTrace = jQuery.Deferred.getStackHook();}window.setTimeout( process );}};}return jQuery.Deferred( function( newDefer ) {// progress_handlers.add( ... )tuples[ 0 ][ 3 ].add(resolve(0,newDefer,isFunction( onProgress ) ?onProgress :Identity,newDefer.notifyWith));// fulfilled_handlers.add( ... )tuples[ 1 ][ 3 ].add(resolve(0,newDefer,isFunction( onFulfilled ) ?onFulfilled :Identity));// rejected_handlers.add( ... )tuples[ 2 ][ 3 ].add(resolve(0,newDefer,isFunction( onRejected ) ?onRejected :Thrower));} ).promise();},// Get a promise for this deferred// If obj is provided, the promise aspect is added to the objectpromise: function( obj ) {return obj != null ? jQuery.extend( obj, promise ) : promise;}},deferred = {};// Add list-specific methodsjQuery.each( tuples, function( i, tuple ) {var list = tuple[ 2 ],stateString = tuple[ 5 ];// promise.progress = list.add// promise.done = list.add// promise.fail = list.addpromise[ tuple[ 1 ] ] = list.add;// Handle stateif ( stateString ) {list.add(function() {// state = "resolved" (i.e., fulfilled)// state = "rejected"state = stateString;},// rejected_callbacks.disable// fulfilled_callbacks.disabletuples[ 3 - i ][ 2 ].disable,// rejected_handlers.disable// fulfilled_handlers.disabletuples[ 3 - i ][ 3 ].disable,// progress_callbacks.locktuples[ 0 ][ 2 ].lock,// progress_handlers.locktuples[ 0 ][ 3 ].lock);}// progress_handlers.fire// fulfilled_handlers.fire// rejected_handlers.firelist.add( tuple[ 3 ].fire );// deferred.notify = function() { deferred.notifyWith(...) }// deferred.resolve = function() { deferred.resolveWith(...) }// deferred.reject = function() { deferred.rejectWith(...) }deferred[ tuple[ 0 ] ] = function() {deferred[ tuple[ 0 ] + "With" ]( this === deferred ? undefined : this, arguments );return this;};// deferred.notifyWith = list.fireWith// deferred.resolveWith = list.fireWith// deferred.rejectWith = list.fireWithdeferred[ tuple[ 0 ] + "With" ] = list.fireWith;} );// Make the deferred a promisepromise.promise( deferred );// Call given func if anyif ( func ) {func.call( deferred, deferred );}// All done!return deferred;},// Deferred helperwhen: function( singleValue ) {var// count of uncompleted subordinatesremaining = arguments.length,// count of unprocessed argumentsi = remaining,// subordinate fulfillment dataresolveContexts = Array( i ),resolveValues = slice.call( arguments ),// the primary Deferredprimary = jQuery.Deferred(),// subordinate callback factoryupdateFunc = function( i ) {return function( value ) {resolveContexts[ i ] = this;resolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;if ( !( --remaining ) ) {primary.resolveWith( resolveContexts, resolveValues );}};};// Single- and empty arguments are adopted like Promise.resolveif ( remaining <= 1 ) {adoptValue( singleValue, primary.done( updateFunc( i ) ).resolve, primary.reject,!remaining );// Use .then() to unwrap secondary thenables (cf. gh-3000)if ( primary.state() === "pending" ||isFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {return primary.then();}}// Multiple arguments are aggregated like Promise.all array elementswhile ( i-- ) {adoptValue( resolveValues[ i ], updateFunc( i ), primary.reject );}return primary.promise();}} );// These usually indicate a programmer mistake during development,// warn about them ASAP rather than swallowing them by default.var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;jQuery.Deferred.exceptionHook = function( error, stack ) {// Support: IE 8 - 9 only// Console exists when dev tools are open, which can happen at any timeif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {window.console.warn( "jQuery.Deferred exception: " + error.message, error.stack, stack );}};jQuery.readyException = function( error ) {window.setTimeout( function() {throw error;} );};// The deferred used on DOM readyvar readyList = jQuery.Deferred();jQuery.fn.ready = function( fn ) {readyList.then( fn )// Wrap jQuery.readyException in a function so that the lookup// happens at the time of error handling instead of callback// registration..catch( function( error ) {jQuery.readyException( error );} );return this;};jQuery.extend( {// Is the DOM ready to be used? Set to true once it occurs.isReady: false,// A counter to track how many items to wait for before// the ready event fires. See #6781readyWait: 1,// Handle when the DOM is readyready: function( wait ) {// Abort if there are pending holds or we're already readyif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {return;}// Remember that the DOM is readyjQuery.isReady = true;// If a normal DOM Ready event fired, decrement, and wait if need beif ( wait !== true && --jQuery.readyWait > 0 ) {return;}// If there are functions bound, to executereadyList.resolveWith( document, [ jQuery ] );}} );jQuery.ready.then = readyList.then;// The ready event handler and self cleanup methodfunction completed() {document.removeEventListener( "DOMContentLoaded", completed );window.removeEventListener( "load", completed );jQuery.ready();}// Catch cases where $(document).ready() is called// after the browser event has already occurred.// Support: IE <=9 - 10 only// Older IE sometimes signals "interactive" too soonif ( document.readyState === "complete" ||( document.readyState !== "loading" && !document.documentElement.doScroll ) ) {// Handle it asynchronously to allow scripts the opportunity to delay readywindow.setTimeout( jQuery.ready );} else {// Use the handy event callbackdocument.addEventListener( "DOMContentLoaded", completed );// A fallback to window.onload, that will always workwindow.addEventListener( "load", completed );}// Multifunctional method to get and set values of a collection// The value/s can optionally be executed if it's a functionvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {var i = 0,len = elems.length,bulk = key == null;// Sets many valuesif ( toType( key ) === "object" ) {chainable = true;for ( i in key ) {access( elems, fn, i, key[ i ], true, emptyGet, raw );}// Sets one value} else if ( value !== undefined ) {chainable = true;if ( !isFunction( value ) ) {raw = true;}if ( bulk ) {// Bulk operations run against the entire setif ( raw ) {fn.call( elems, value );fn = null;// ...except when executing function values} else {bulk = fn;fn = function( elem, _key, value ) {return bulk.call( jQuery( elem ), value );};}}if ( fn ) {for ( ; i < len; i++ ) {fn(elems[ i ], key, raw ?value :value.call( elems[ i ], i, fn( elems[ i ], key ) ));}}}if ( chainable ) {return elems;}// Getsif ( bulk ) {return fn.call( elems );}return len ? fn( elems[ 0 ], key ) : emptyGet;};// Matches dashed string for camelizingvar rmsPrefix = /^-ms-/,rdashAlpha = /-([a-z])/g;// Used by camelCase as callback to replace()function fcamelCase( _all, letter ) {return letter.toUpperCase();}// Convert dashed to camelCase; used by the css and data modules// Support: IE <=9 - 11, Edge 12 - 15// Microsoft forgot to hump their vendor prefix (#9572)function camelCase( string ) {return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );}var acceptData = function( owner ) {// Accepts only://  - Node//    - Node.ELEMENT_NODE//    - Node.DOCUMENT_NODE//  - Object//    - Anyreturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );};function Data() {this.expando = jQuery.expando + Data.uid++;}Data.uid = 1;Data.prototype = {cache: function( owner ) {// Check if the owner object already has a cachevar value = owner[ this.expando ];// If not, create oneif ( !value ) {value = {};// We can accept data for non-element nodes in modern browsers,// but we should not, see #8335.// Always return an empty object.if ( acceptData( owner ) ) {// If it is a node unlikely to be stringify-ed or looped over// use plain assignmentif ( owner.nodeType ) {owner[ this.expando ] = value;// Otherwise secure it in a non-enumerable property// configurable must be true to allow the property to be// deleted when data is removed} else {Object.defineProperty( owner, this.expando, {value: value,configurable: true} );}}}return value;},set: function( owner, data, value ) {var prop,cache = this.cache( owner );// Handle: [ owner, key, value ] args// Always use camelCase key (gh-2257)if ( typeof data === "string" ) {cache[ camelCase( data ) ] = value;// Handle: [ owner, { properties } ] args} else {// Copy the properties one-by-one to the cache objectfor ( prop in data ) {cache[ camelCase( prop ) ] = data[ prop ];}}return cache;},get: function( owner, key ) {return key === undefined ?this.cache( owner ) :// Always use camelCase key (gh-2257)owner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];},access: function( owner, key, value ) {// In cases where either:////   1. No key was specified//   2. A string key was specified, but no value provided//// Take the "read" path and allow the get method to determine// which value to return, respectively either:////   1. The entire cache object//   2. The data stored at the key//if ( key === undefined ||( ( key && typeof key === "string" ) && value === undefined ) ) {return this.get( owner, key );}// When the key is not a string, or both a key and value// are specified, set or extend (existing objects) with either:////   1. An object of properties//   2. A key and value//this.set( owner, key, value );// Since the "set" path can have two possible entry points// return the expected data based on which path was taken[*]return value !== undefined ? value : key;},remove: function( owner, key ) {var i,cache = owner[ this.expando ];if ( cache === undefined ) {return;}if ( key !== undefined ) {// Support array or space separated string of keysif ( Array.isArray( key ) ) {// If key is an array of keys...// We always set camelCase keys, so remove that.key = key.map( camelCase );} else {key = camelCase( key );// If a key with the spaces exists, use it.// Otherwise, create an array by matching non-whitespacekey = key in cache ?[ key ] :( key.match( rnothtmlwhite ) || [] );}i = key.length;while ( i-- ) {delete cache[ key[ i ] ];}}// Remove the expando if there's no more dataif ( key === undefined || jQuery.isEmptyObject( cache ) ) {// Support: Chrome <=35 - 45// Webkit & Blink performance suffers when deleting properties// from DOM nodes, so set to undefined instead// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)if ( owner.nodeType ) {owner[ this.expando ] = undefined;} else {delete owner[ this.expando ];}}},hasData: function( owner ) {var cache = owner[ this.expando ];return cache !== undefined && !jQuery.isEmptyObject( cache );}};var dataPriv = new Data();var dataUser = new Data();//Implementation Summary////1. Enforce API surface and semantic compatibility with 1.9.x branch//2. Improve the module's maintainability by reducing the storage//paths to a single mechanism.//3. Use the same single mechanism to support "private" and "user" data.//4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)//5. Avoid exposing implementation details on user objects (eg. expando properties)//6. Provide a clear path for implementation upgrade to WeakMap in 2014var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash = /[A-Z]/g;function getData( data ) {if ( data === "true" ) {return true;}if ( data === "false" ) {return false;}if ( data === "null" ) {return null;}// Only convert to a number if it doesn't change the stringif ( data === +data + "" ) {return +data;}if ( rbrace.test( data ) ) {return JSON.parse( data );}return data;}function dataAttr( elem, key, data ) {var name;// If nothing was found internally, try to fetch any// data from the HTML5 data-* attributeif ( data === undefined && elem.nodeType === 1 ) {name = "data-" + key.replace( rmultiDash, "-$&" ).toLowerCase();data = elem.getAttribute( name );if ( typeof data === "string" ) {try {data = getData( data );} catch ( e ) {}// Make sure we set the data so it isn't changed laterdataUser.set( elem, key, data );} else {data = undefined;}}return data;}jQuery.extend( {hasData: function( elem ) {return dataUser.hasData( elem ) || dataPriv.hasData( elem );},data: function( elem, name, data ) {return dataUser.access( elem, name, data );},removeData: function( elem, name ) {dataUser.remove( elem, name );},// TODO: Now that all calls to _data and _removeData have been replaced// with direct calls to dataPriv methods, these can be deprecated._data: function( elem, name, data ) {return dataPriv.access( elem, name, data );},_removeData: function( elem, name ) {dataPriv.remove( elem, name );}} );jQuery.fn.extend( {data: function( key, value ) {var i, name, data,elem = this[ 0 ],attrs = elem && elem.attributes;// Gets all valuesif ( key === undefined ) {if ( this.length ) {data = dataUser.get( elem );if ( elem.nodeType === 1 && !dataPriv.get( elem, "hasDataAttrs" ) ) {i = attrs.length;while ( i-- ) {// Support: IE 11 only// The attrs elements can be null (#14894)if ( attrs[ i ] ) {name = attrs[ i ].name;if ( name.indexOf( "data-" ) === 0 ) {name = camelCase( name.slice( 5 ) );dataAttr( elem, name, data[ name ] );}}}dataPriv.set( elem, "hasDataAttrs", true );}}return data;}// Sets multiple valuesif ( typeof key === "object" ) {return this.each( function() {dataUser.set( this, key );} );}return access( this, function( value ) {var data;// The calling jQuery object (element matches) is not empty// (and therefore has an element appears at this[ 0 ]) and the// `value` parameter was not undefined. An empty jQuery object// will result in `undefined` for elem = this[ 0 ] which will// throw an exception if an attempt to read a data cache is made.if ( elem && value === undefined ) {// Attempt to get data from the cache// The key will always be camelCased in Datadata = dataUser.get( elem, key );if ( data !== undefined ) {return data;}// Attempt to "discover" the data in// HTML5 custom data-* attrsdata = dataAttr( elem, key );if ( data !== undefined ) {return data;}// We tried really hard, but the data doesn't exist.return;}// Set the data...this.each( function() {// We always store the camelCased keydataUser.set( this, key, value );} );}, null, value, arguments.length > 1, null, true );},removeData: function( key ) {return this.each( function() {dataUser.remove( this, key );} );}} );jQuery.extend( {queue: function( elem, type, data ) {var queue;if ( elem ) {type = ( type || "fx" ) + "queue";queue = dataPriv.get( elem, type );// Speed up dequeue by getting out quickly if this is just a lookupif ( data ) {if ( !queue || Array.isArray( data ) ) {queue = dataPriv.access( elem, type, jQuery.makeArray( data ) );} else {queue.push( data );}}return queue || [];}},dequeue: function( elem, type ) {type = type || "fx";var queue = jQuery.queue( elem, type ),startLength = queue.length,fn = queue.shift(),hooks = jQuery._queueHooks( elem, type ),next = function() {jQuery.dequeue( elem, type );};// If the fx queue is dequeued, always remove the progress sentinelif ( fn === "inprogress" ) {fn = queue.shift();startLength--;}if ( fn ) {// Add a progress sentinel to prevent the fx queue from being// automatically dequeuedif ( type === "fx" ) {queue.unshift( "inprogress" );}// Clear up the last queue stop functiondelete hooks.stop;fn.call( elem, next, hooks );}if ( !startLength && hooks ) {hooks.empty.fire();}},// Not public - generate a queueHooks object, or return the current one_queueHooks: function( elem, type ) {var key = type + "queueHooks";return dataPriv.get( elem, key ) || dataPriv.access( elem, key, {empty: jQuery.Callbacks( "once memory" ).add( function() {dataPriv.remove( elem, [ type + "queue", key ] );} )} );}} );jQuery.fn.extend( {queue: function( type, data ) {var setter = 2;if ( typeof type !== "string" ) {data = type;type = "fx";setter--;}if ( arguments.length < setter ) {return jQuery.queue( this[ 0 ], type );}return data === undefined ?this :this.each( function() {var queue = jQuery.queue( this, type, data );// Ensure a hooks for this queuejQuery._queueHooks( this, type );if ( type === "fx" && queue[ 0 ] !== "inprogress" ) {jQuery.dequeue( this, type );}} );},dequeue: function( type ) {return this.each( function() {jQuery.dequeue( this, type );} );},clearQueue: function( type ) {return this.queue( type || "fx", [] );},// Get a promise resolved when queues of a certain type// are emptied (fx is the type by default)promise: function( type, obj ) {var tmp,count = 1,defer = jQuery.Deferred(),elements = this,i = this.length,resolve = function() {if ( !( --count ) ) {defer.resolveWith( elements, [ elements ] );}};if ( typeof type !== "string" ) {obj = type;type = undefined;}type = type || "fx";while ( i-- ) {tmp = dataPriv.get( elements[ i ], type + "queueHooks" );if ( tmp && tmp.empty ) {count++;tmp.empty.add( resolve );}}resolve();return defer.promise( obj );}} );var pnum = ( /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/ ).source;var rcssNum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" );var cssExpand = [ "Top", "Right", "Bottom", "Left" ];var documentElement = document.documentElement;var isAttached = function( elem ) {return jQuery.contains( elem.ownerDocument, elem );},composed = { composed: true };// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only// Check attachment across shadow DOM boundaries when possible (gh-3504)// Support: iOS 10.0-10.2 only// Early iOS 10 versions support `attachShadow` but not `getRootNode`,// leading to errors. We need to check for `getRootNode`.if ( documentElement.getRootNode ) {isAttached = function( elem ) {return jQuery.contains( elem.ownerDocument, elem ) ||elem.getRootNode( composed ) === elem.ownerDocument;};}var isHiddenWithinTree = function( elem, el ) {// isHiddenWithinTree might be called from jQuery#filter function;// in that case, element will be second argumentelem = el || elem;// Inline style trumps allreturn elem.style.display === "none" ||elem.style.display === "" &&// Otherwise, check computed style// Support: Firefox <=43 - 45// Disconnected elements can have computed display: none, so first confirm that elem is// in the document.isAttached( elem ) &&jQuery.css( elem, "display" ) === "none";};function adjustCSS( elem, prop, valueParts, tween ) {var adjusted, scale,maxIterations = 20,currentValue = tween ?function() {return tween.cur();} :function() {return jQuery.css( elem, prop, "" );},initial = currentValue(),unit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),// Starting value computation is required for potential unit mismatchesinitialInUnit = elem.nodeType &&( jQuery.cssNumber[ prop ] || unit !== "px" && +initial ) &&rcssNum.exec( jQuery.css( elem, prop ) );if ( initialInUnit && initialInUnit[ 3 ] !== unit ) {// Support: Firefox <=54// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)initial = initial / 2;// Trust units reported by jQuery.cssunit = unit || initialInUnit[ 3 ];// Iteratively approximate from a nonzero starting pointinitialInUnit = +initial || 1;while ( maxIterations-- ) {// Evaluate and update our best guess (doubling guesses that zero out).// Finish if the scale equals or crosses 1 (making the old*new product non-positive).jQuery.style( elem, prop, initialInUnit + unit );if ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {maxIterations = 0;}initialInUnit = initialInUnit / scale;}initialInUnit = initialInUnit * 2;jQuery.style( elem, prop, initialInUnit + unit );// Make sure we update the tween properties later onvalueParts = valueParts || [];}if ( valueParts ) {initialInUnit = +initialInUnit || +initial || 0;// Apply relative offset (+=/-=) if specifiedadjusted = valueParts[ 1 ] ?initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :+valueParts[ 2 ];if ( tween ) {tween.unit = unit;tween.start = initialInUnit;tween.end = adjusted;}}return adjusted;}var defaultDisplayMap = {};function getDefaultDisplay( elem ) {var temp,doc = elem.ownerDocument,nodeName = elem.nodeName,display = defaultDisplayMap[ nodeName ];if ( display ) {return display;}temp = doc.body.appendChild( doc.createElement( nodeName ) );display = jQuery.css( temp, "display" );temp.parentNode.removeChild( temp );if ( display === "none" ) {display = "block";}defaultDisplayMap[ nodeName ] = display;return display;}function showHide( elements, show ) {var display, elem,values = [],index = 0,length = elements.length;// Determine new display value for elements that need to changefor ( ; index < length; index++ ) {elem = elements[ index ];if ( !elem.style ) {continue;}display = elem.style.display;if ( show ) {// Since we force visibility upon cascade-hidden elements, an immediate (and slow)// check is required in this first loop unless we have a nonempty display value (either// inline or about-to-be-restored)if ( display === "none" ) {values[ index ] = dataPriv.get( elem, "display" ) || null;if ( !values[ index ] ) {elem.style.display = "";}}if ( elem.style.display === "" && isHiddenWithinTree( elem ) ) {values[ index ] = getDefaultDisplay( elem );}} else {if ( display !== "none" ) {values[ index ] = "none";// Remember what we're overwritingdataPriv.set( elem, "display", display );}}}// Set the display of the elements in a second loop to avoid constant reflowfor ( index = 0; index < length; index++ ) {if ( values[ index ] != null ) {elements[ index ].style.display = values[ index ];}}return elements;}jQuery.fn.extend( {show: function() {return showHide( this, true );},hide: function() {return showHide( this );},toggle: function( state ) {if ( typeof state === "boolean" ) {return state ? this.show() : this.hide();}return this.each( function() {if ( isHiddenWithinTree( this ) ) {jQuery( this ).show();} else {jQuery( this ).hide();}} );}} );var rcheckableType = ( /^(?:checkbox|radio)$/i );var rtagName = ( /<([a-z][^\/\0>\x20\t\r\n\f]*)/i );var rscriptType = ( /^$|^module$|\/(?:java|ecma)script/i );( function() {var fragment = document.createDocumentFragment(),div = fragment.appendChild( document.createElement( "div" ) ),input = document.createElement( "input" );// Support: Android 4.0 - 4.3 only// Check state lost if the name is set (#11217)// Support: Windows Web Apps (WWA)// `name` and `type` must use .setAttribute for WWA (#14901)input.setAttribute( "type", "radio" );input.setAttribute( "checked", "checked" );input.setAttribute( "name", "t" );div.appendChild( input );// Support: Android <=4.1 only// Older WebKit doesn't clone checked state correctly in fragmentssupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;// Support: IE <=11 only// Make sure textarea (and checkbox) defaultValue is properly cloneddiv.innerHTML = "<textarea>x</textarea>";support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;// Support: IE <=9 only// IE <=9 replaces <option> tags with their contents when inserted outside of// the select element.div.innerHTML = "<option></option>";support.option = !!div.lastChild;} )();// We have to close these tags to support XHTML (#13200)var wrapMap = {// XHTML parsers do not magically insert elements in the// same way that tag soup parsers do. So we cannot shorten// this by omitting <tbody> or other required elements.thead: [ 1, "<table>", "</table>" ],col: [ 2, "<table><colgroup>", "</colgroup></table>" ],tr: [ 2, "<table><tbody>", "</tbody></table>" ],td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],_default: [ 0, "", "" ]};wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;wrapMap.th = wrapMap.td;// Support: IE <=9 onlyif ( !support.option ) {wrapMap.optgroup = wrapMap.option = [ 1, "<select multiple='multiple'>", "</select>" ];}function getAll( context, tag ) {// Support: IE <=9 - 11 only// Use typeof to avoid zero-argument method invocation on host objects (#15151)var ret;if ( typeof context.getElementsByTagName !== "undefined" ) {ret = context.getElementsByTagName( tag || "*" );} else if ( typeof context.querySelectorAll !== "undefined" ) {ret = context.querySelectorAll( tag || "*" );} else {ret = [];}if ( tag === undefined || tag && nodeName( context, tag ) ) {return jQuery.merge( [ context ], ret );}return ret;}// Mark scripts as having already been evaluatedfunction setGlobalEval( elems, refElements ) {var i = 0,l = elems.length;for ( ; i < l; i++ ) {dataPriv.set(elems[ i ],"globalEval",!refElements || dataPriv.get( refElements[ i ], "globalEval" ));}}var rhtml = /<|&#?\w+;/;function buildFragment( elems, context, scripts, selection, ignored ) {var elem, tmp, tag, wrap, attached, j,fragment = context.createDocumentFragment(),nodes = [],i = 0,l = elems.length;for ( ; i < l; i++ ) {elem = elems[ i ];if ( elem || elem === 0 ) {// Add nodes directlyif ( toType( elem ) === "object" ) {// Support: Android <=4.0 only, PhantomJS 1 only// push.apply(_, arraylike) throws on ancient WebKitjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );// Convert non-html into a text node} else if ( !rhtml.test( elem ) ) {nodes.push( context.createTextNode( elem ) );// Convert html into DOM nodes} else {tmp = tmp || fragment.appendChild( context.createElement( "div" ) );// Deserialize a standard representationtag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();wrap = wrapMap[ tag ] || wrapMap._default;tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];// Descend through wrappers to the right contentj = wrap[ 0 ];while ( j-- ) {tmp = tmp.lastChild;}// Support: Android <=4.0 only, PhantomJS 1 only// push.apply(_, arraylike) throws on ancient WebKitjQuery.merge( nodes, tmp.childNodes );// Remember the top-level containertmp = fragment.firstChild;// Ensure the created nodes are orphaned (#12392)tmp.textContent = "";}}}// Remove wrapper from fragmentfragment.textContent = "";i = 0;while ( ( elem = nodes[ i++ ] ) ) {// Skip elements already in the context collection (trac-4087)if ( selection && jQuery.inArray( elem, selection ) > -1 ) {if ( ignored ) {ignored.push( elem );}continue;}attached = isAttached( elem );// Append to fragmenttmp = getAll( fragment.appendChild( elem ), "script" );// Preserve script evaluation historyif ( attached ) {setGlobalEval( tmp );}// Capture executablesif ( scripts ) {j = 0;while ( ( elem = tmp[ j++ ] ) ) {if ( rscriptType.test( elem.type || "" ) ) {scripts.push( elem );}}}}return fragment;}var rtypenamespace = /^([^.]*)(?:\.(.+)|)/;function returnTrue() {return true;}function returnFalse() {return false;}// Support: IE <=9 - 11+// focus() and blur() are asynchronous, except when they are no-op.// So expect focus to be synchronous when the element is already active,// and blur to be synchronous when the element is not already active.// (focus and blur are always synchronous in other supported browsers,// this just defines when we can count on it).function expectSync( elem, type ) {return ( elem === safeActiveElement() ) === ( type === "focus" );}// Support: IE <=9 only// Accessing document.activeElement can throw unexpectedly// https://bugs.jquery.com/ticket/13393function safeActiveElement() {try {return document.activeElement;} catch ( err ) { }}function on( elem, types, selector, data, fn, one ) {var origFn, type;// Types can be a map of types/handlersif ( typeof types === "object" ) {// ( types-Object, selector, data )if ( typeof selector !== "string" ) {// ( types-Object, data )data = data || selector;selector = undefined;}for ( type in types ) {on( elem, type, selector, data, types[ type ], one );}return elem;}if ( data == null && fn == null ) {// ( types, fn )fn = selector;data = selector = undefined;} else if ( fn == null ) {if ( typeof selector === "string" ) {// ( types, selector, fn )fn = data;data = undefined;} else {// ( types, data, fn )fn = data;data = selector;selector = undefined;}}if ( fn === false ) {fn = returnFalse;} else if ( !fn ) {return elem;}if ( one === 1 ) {origFn = fn;fn = function( event ) {// Can use an empty set, since event contains the infojQuery().off( event );return origFn.apply( this, arguments );};// Use same guid so caller can remove using origFnfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );}return elem.each( function() {jQuery.event.add( this, types, fn, data, selector );} );}/* * Helper functions for managing events -- not part of the public interface. * Props to Dean Edwards' addEvent library for many of the ideas. */jQuery.event = {global: {},add: function( elem, types, handler, data, selector ) {var handleObjIn, eventHandle, tmp,events, t, handleObj,special, handlers, type, namespaces, origType,elemData = dataPriv.get( elem );// Only attach events to objects that accept dataif ( !acceptData( elem ) ) {return;}// Caller can pass in an object of custom data in lieu of the handlerif ( handler.handler ) {handleObjIn = handler;handler = handleObjIn.handler;selector = handleObjIn.selector;}// Ensure that invalid selectors throw exceptions at attach time// Evaluate against documentElement in case elem is a non-element node (e.g., document)if ( selector ) {jQuery.find.matchesSelector( documentElement, selector );}// Make sure that the handler has a unique ID, used to find/remove it laterif ( !handler.guid ) {handler.guid = jQuery.guid++;}// Init the element's event structure and main handler, if this is the firstif ( !( events = elemData.events ) ) {events = elemData.events = Object.create( null );}if ( !( eventHandle = elemData.handle ) ) {eventHandle = elemData.handle = function( e ) {// Discard the second event of a jQuery.event.trigger() and// when an event is called after a page has unloadedreturn typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ?jQuery.event.dispatch.apply( elem, arguments ) : undefined;};}// Handle multiple events separated by a spacetypes = ( types || "" ).match( rnothtmlwhite ) || [ "" ];t = types.length;while ( t-- ) {tmp = rtypenamespace.exec( types[ t ] ) || [];type = origType = tmp[ 1 ];namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();// There *must* be a type, no attaching namespace-only handlersif ( !type ) {continue;}// If event changes its type, use the special event handlers for the changed typespecial = jQuery.event.special[ type ] || {};// If selector defined, determine special event api type, otherwise given typetype = ( selector ? special.delegateType : special.bindType ) || type;// Update special based on newly reset typespecial = jQuery.event.special[ type ] || {};// handleObj is passed to all event handlershandleObj = jQuery.extend( {type: type,origType: origType,data: data,handler: handler,guid: handler.guid,selector: selector,needsContext: selector && jQuery.expr.match.needsContext.test( selector ),namespace: namespaces.join( "." )}, handleObjIn );// Init the event handler queue if we're the firstif ( !( handlers = events[ type ] ) ) {handlers = events[ type ] = [];handlers.delegateCount = 0;// Only use addEventListener if the special events handler returns falseif ( !special.setup ||special.setup.call( elem, data, namespaces, eventHandle ) === false ) {if ( elem.addEventListener ) {elem.addEventListener( type, eventHandle );}}}if ( special.add ) {special.add.call( elem, handleObj );if ( !handleObj.handler.guid ) {handleObj.handler.guid = handler.guid;}}// Add to the element's handler list, delegates in frontif ( selector ) {handlers.splice( handlers.delegateCount++, 0, handleObj );} else {handlers.push( handleObj );}// Keep track of which events have ever been used, for event optimizationjQuery.event.global[ type ] = true;}},// Detach an event or set of events from an elementremove: function( elem, types, handler, selector, mappedTypes ) {var j, origCount, tmp,events, t, handleObj,special, handlers, type, namespaces, origType,elemData = dataPriv.hasData( elem ) && dataPriv.get( elem );if ( !elemData || !( events = elemData.events ) ) {return;}// Once for each type.namespace in types; type may be omittedtypes = ( types || "" ).match( rnothtmlwhite ) || [ "" ];t = types.length;while ( t-- ) {tmp = rtypenamespace.exec( types[ t ] ) || [];type = origType = tmp[ 1 ];namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();// Unbind all events (on this namespace, if provided) for the elementif ( !type ) {for ( type in events ) {jQuery.event.remove( elem, type + types[ t ], handler, selector, true );}continue;}special = jQuery.event.special[ type ] || {};type = ( selector ? special.delegateType : special.bindType ) || type;handlers = events[ type ] || [];tmp = tmp[ 2 ] &&new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" );// Remove matching eventsorigCount = j = handlers.length;while ( j-- ) {handleObj = handlers[ j ];if ( ( mappedTypes || origType === handleObj.origType ) &&( !handler || handler.guid === handleObj.guid ) &&( !tmp || tmp.test( handleObj.namespace ) ) &&( !selector || selector === handleObj.selector ||selector === "**" && handleObj.selector ) ) {handlers.splice( j, 1 );if ( handleObj.selector ) {handlers.delegateCount--;}if ( special.remove ) {special.remove.call( elem, handleObj );}}}// Remove generic event handler if we removed something and no more handlers exist// (avoids potential for endless recursion during removal of special event handlers)if ( origCount && !handlers.length ) {if ( !special.teardown ||special.teardown.call( elem, namespaces, elemData.handle ) === false ) {jQuery.removeEvent( elem, type, elemData.handle );}delete events[ type ];}}// Remove data and the expando if it's no longer usedif ( jQuery.isEmptyObject( events ) ) {dataPriv.remove( elem, "handle events" );}},dispatch: function( nativeEvent ) {var i, j, ret, matched, handleObj, handlerQueue,args = new Array( arguments.length ),// Make a writable jQuery.Event from the native event objectevent = jQuery.event.fix( nativeEvent ),handlers = (dataPriv.get( this, "events" ) || Object.create( null ))[ event.type ] || [],special = jQuery.event.special[ event.type ] || {};// Use the fix-ed jQuery.Event rather than the (read-only) native eventargs[ 0 ] = event;for ( i = 1; i < arguments.length; i++ ) {args[ i ] = arguments[ i ];}event.delegateTarget = this;// Call the preDispatch hook for the mapped type, and let it bail if desiredif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {return;}// Determine handlershandlerQueue = jQuery.event.handlers.call( this, event, handlers );// Run delegates first; they may want to stop propagation beneath usi = 0;while ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {event.currentTarget = matched.elem;j = 0;while ( ( handleObj = matched.handlers[ j++ ] ) &&!event.isImmediatePropagationStopped() ) {// If the event is namespaced, then each handler is only invoked if it is// specially universal or its namespaces are a superset of the event's.if ( !event.rnamespace || handleObj.namespace === false ||event.rnamespace.test( handleObj.namespace ) ) {event.handleObj = handleObj;event.data = handleObj.data;ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||handleObj.handler ).apply( matched.elem, args );if ( ret !== undefined ) {if ( ( event.result = ret ) === false ) {event.preventDefault();event.stopPropagation();}}}}}// Call the postDispatch hook for the mapped typeif ( special.postDispatch ) {special.postDispatch.call( this, event );}return event.result;},handlers: function( event, handlers ) {var i, handleObj, sel, matchedHandlers, matchedSelectors,handlerQueue = [],delegateCount = handlers.delegateCount,cur = event.target;// Find delegate handlersif ( delegateCount &&// Support: IE <=9// Black-hole SVG <use> instance trees (trac-13180)cur.nodeType &&// Support: Firefox <=42// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click// Support: IE 11 only// ...but not arrow key "clicks" of radio inputs, which can have `button` -1 (gh-2343)!( event.type === "click" && event.button >= 1 ) ) {for ( ; cur !== this; cur = cur.parentNode || this ) {// Don't check non-elements (#13208)// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)if ( cur.nodeType === 1 && !( event.type === "click" && cur.disabled === true ) ) {matchedHandlers = [];matchedSelectors = {};for ( i = 0; i < delegateCount; i++ ) {handleObj = handlers[ i ];// Don't conflict with Object.prototype properties (#13203)sel = handleObj.selector + " ";if ( matchedSelectors[ sel ] === undefined ) {matchedSelectors[ sel ] = handleObj.needsContext ?jQuery( sel, this ).index( cur ) > -1 :jQuery.find( sel, this, null, [ cur ] ).length;}if ( matchedSelectors[ sel ] ) {matchedHandlers.push( handleObj );}}if ( matchedHandlers.length ) {handlerQueue.push( { elem: cur, handlers: matchedHandlers } );}}}}// Add the remaining (directly-bound) handlerscur = this;if ( delegateCount < handlers.length ) {handlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );}return handlerQueue;},addProp: function( name, hook ) {Object.defineProperty( jQuery.Event.prototype, name, {enumerable: true,configurable: true,get: isFunction( hook ) ?function() {if ( this.originalEvent ) {return hook( this.originalEvent );}} :function() {if ( this.originalEvent ) {return this.originalEvent[ name ];}},set: function( value ) {Object.defineProperty( this, name, {enumerable: true,configurable: true,writable: true,value: value} );}} );},fix: function( originalEvent ) {return originalEvent[ jQuery.expando ] ?originalEvent :new jQuery.Event( originalEvent );},special: {load: {// Prevent triggered image.load events from bubbling to window.loadnoBubble: true},click: {// Utilize native event to ensure correct state for checkable inputssetup: function( data ) {// For mutual compressibility with _default, replace `this` access with a local var.// `|| data` is dead code meant only to preserve the variable through minification.var el = this || data;// Claim the first handlerif ( rcheckableType.test( el.type ) &&el.click && nodeName( el, "input" ) ) {// dataPriv.set( el, "click", ... )leverageNative( el, "click", returnTrue );}// Return false to allow normal processing in the callerreturn false;},trigger: function( data ) {// For mutual compressibility with _default, replace `this` access with a local var.// `|| data` is dead code meant only to preserve the variable through minification.var el = this || data;// Force setup before triggering a clickif ( rcheckableType.test( el.type ) &&el.click && nodeName( el, "input" ) ) {leverageNative( el, "click" );}// Return non-false to allow normal event-path propagationreturn true;},// For cross-browser consistency, suppress native .click() on links// Also prevent it if we're currently inside a leveraged native-event stack_default: function( event ) {var target = event.target;return rcheckableType.test( target.type ) &&target.click && nodeName( target, "input" ) &&dataPriv.get( target, "click" ) ||nodeName( target, "a" );}},beforeunload: {postDispatch: function( event ) {// Support: Firefox 20+// Firefox doesn't alert if the returnValue field is not set.if ( event.result !== undefined && event.originalEvent ) {event.originalEvent.returnValue = event.result;}}}}};// Ensure the presence of an event listener that handles manually-triggered// synthetic events by interrupting progress until reinvoked in response to// *native* events that it fires directly, ensuring that state changes have// already occurred before other listeners are invoked.function leverageNative( el, type, expectSync ) {// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.addif ( !expectSync ) {if ( dataPriv.get( el, type ) === undefined ) {jQuery.event.add( el, type, returnTrue );}return;}// Register the controller as a special universal handler for all event namespacesdataPriv.set( el, type, false );jQuery.event.add( el, type, {namespace: false,handler: function( event ) {var notAsync, result,saved = dataPriv.get( this, type );if ( ( event.isTrigger & 1 ) && this[ type ] ) {// Interrupt processing of the outer synthetic .trigger()ed event// Saved data should be false in such cases, but might be a leftover capture object// from an async native handler (gh-4350)if ( !saved.length ) {// Store arguments for use when handling the inner native event// There will always be at least one argument (an event object), so this array// will not be confused with a leftover capture object.saved = slice.call( arguments );dataPriv.set( this, type, saved );// Trigger the native event and capture its result// Support: IE <=9 - 11+// focus() and blur() are asynchronousnotAsync = expectSync( this, type );this[ type ]();result = dataPriv.get( this, type );if ( saved !== result || notAsync ) {dataPriv.set( this, type, false );} else {result = {};}if ( saved !== result ) {// Cancel the outer synthetic eventevent.stopImmediatePropagation();event.preventDefault();// Support: Chrome 86+// In Chrome, if an element having a focusout handler is blurred by// clicking outside of it, it invokes the handler synchronously. If// that handler calls `.remove()` on the element, the data is cleared,// leaving `result` undefined. We need to guard against this.return result && result.value;}// If this is an inner synthetic event for an event with a bubbling surrogate// (focus or blur), assume that the surrogate already propagated from triggering the// native event and prevent that from happening again here.// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the// bubbling surrogate propagates *after* the non-bubbling base), but that seems// less bad than duplication.} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {event.stopPropagation();}// If this is a native event triggered above, everything is now in order// Fire an inner synthetic event with the original arguments} else if ( saved.length ) {// ...and capture the resultdataPriv.set( this, type, {value: jQuery.event.trigger(// Support: IE <=9 - 11+// Extend with the prototype to reset the above stopImmediatePropagation()jQuery.extend( saved[ 0 ], jQuery.Event.prototype ),saved.slice( 1 ),this)} );// Abort handling of the native eventevent.stopImmediatePropagation();}}} );}jQuery.removeEvent = function( elem, type, handle ) {// This "if" is needed for plain objectsif ( elem.removeEventListener ) {elem.removeEventListener( type, handle );}};jQuery.Event = function( src, props ) {// Allow instantiation without the 'new' keywordif ( !( this instanceof jQuery.Event ) ) {return new jQuery.Event( src, props );}// Event objectif ( src && src.type ) {this.originalEvent = src;this.type = src.type;// Events bubbling up the document may have been marked as prevented// by a handler lower down the tree; reflect the correct value.this.isDefaultPrevented = src.defaultPrevented ||src.defaultPrevented === undefined &&// Support: Android <=2.3 onlysrc.returnValue === false ?returnTrue :returnFalse;// Create target properties// Support: Safari <=6 - 7 only// Target should not be a text node (#504, #13143)this.target = ( src.target && src.target.nodeType === 3 ) ?src.target.parentNode :src.target;this.currentTarget = src.currentTarget;this.relatedTarget = src.relatedTarget;// Event type} else {this.type = src;}// Put explicitly provided properties onto the event objectif ( props ) {jQuery.extend( this, props );}// Create a timestamp if incoming event doesn't have onethis.timeStamp = src && src.timeStamp || Date.now();// Mark it as fixedthis[ jQuery.expando ] = true;};// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.htmljQuery.Event.prototype = {constructor: jQuery.Event,isDefaultPrevented: returnFalse,isPropagationStopped: returnFalse,isImmediatePropagationStopped: returnFalse,isSimulated: false,preventDefault: function() {var e = this.originalEvent;this.isDefaultPrevented = returnTrue;if ( e && !this.isSimulated ) {e.preventDefault();}},stopPropagation: function() {var e = this.originalEvent;this.isPropagationStopped = returnTrue;if ( e && !this.isSimulated ) {e.stopPropagation();}},stopImmediatePropagation: function() {var e = this.originalEvent;this.isImmediatePropagationStopped = returnTrue;if ( e && !this.isSimulated ) {e.stopImmediatePropagation();}this.stopPropagation();}};// Includes all common event props including KeyEvent and MouseEvent specific propsjQuery.each( {altKey: true,bubbles: true,cancelable: true,changedTouches: true,ctrlKey: true,detail: true,eventPhase: true,metaKey: true,pageX: true,pageY: true,shiftKey: true,view: true,"char": true,code: true,charCode: true,key: true,keyCode: true,button: true,buttons: true,clientX: true,clientY: true,offsetX: true,offsetY: true,pointerId: true,pointerType: true,screenX: true,screenY: true,targetTouches: true,toElement: true,touches: true,which: true}, jQuery.event.addProp );jQuery.each( { focus: "focusin", blur: "focusout" }, function( type, delegateType ) {jQuery.event.special[ type ] = {// Utilize native event if possible so blur/focus sequence is correctsetup: function() {// Claim the first handler// dataPriv.set( this, "focus", ... )// dataPriv.set( this, "blur", ... )leverageNative( this, type, expectSync );// Return false to allow normal processing in the callerreturn false;},trigger: function() {// Force setup before triggerleverageNative( this, type );// Return non-false to allow normal event-path propagationreturn true;},// Suppress native focus or blur as it's already being fired// in leverageNative._default: function() {return true;},delegateType: delegateType};} );// Create mouseenter/leave events using mouseover/out and event-time checks// so that event delegation works in jQuery.// Do the same for pointerenter/pointerleave and pointerover/pointerout//// Support: Safari 7 only// Safari sends mouseenter too often; see:// https://bugs.chromium.org/p/chromium/issues/detail?id=470258// for the description of the bug (it existed in older Chrome versions as well).jQuery.each( {mouseenter: "mouseover",mouseleave: "mouseout",pointerenter: "pointerover",pointerleave: "pointerout"}, function( orig, fix ) {jQuery.event.special[ orig ] = {delegateType: fix,bindType: fix,handle: function( event ) {var ret,target = this,related = event.relatedTarget,handleObj = event.handleObj;// For mouseenter/leave call the handler if related is outside the target.// NB: No relatedTarget if the mouse left/entered the browser windowif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {event.type = handleObj.origType;ret = handleObj.handler.apply( this, arguments );event.type = fix;}return ret;}};} );jQuery.fn.extend( {on: function( types, selector, data, fn ) {return on( this, types, selector, data, fn );},one: function( types, selector, data, fn ) {return on( this, types, selector, data, fn, 1 );},off: function( types, selector, fn ) {var handleObj, type;if ( types && types.preventDefault && types.handleObj ) {// ( event )  dispatched jQuery.EventhandleObj = types.handleObj;jQuery( types.delegateTarget ).off(handleObj.namespace ?handleObj.origType + "." + handleObj.namespace :handleObj.origType,handleObj.selector,handleObj.handler);return this;}if ( typeof types === "object" ) {// ( types-object [, selector] )for ( type in types ) {this.off( type, selector, types[ type ] );}return this;}if ( selector === false || typeof selector === "function" ) {// ( types [, fn] )fn = selector;selector = undefined;}if ( fn === false ) {fn = returnFalse;}return this.each( function() {jQuery.event.remove( this, types, fn, selector );} );}} );var// Support: IE <=10 - 11, Edge 12 - 13 only// In IE/Edge using regex groups here causes severe slowdowns.// See https://connect.microsoft.com/IE/feedback/details/1736512/rnoInnerhtml = /<script|<style|<link/i,// checked="checked" or checkedrchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;// Prefer a tbody over its parent table for containing new rowsfunction manipulationTarget( elem, content ) {if ( nodeName( elem, "table" ) &&nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ) {return jQuery( elem ).children( "tbody" )[ 0 ] || elem;}return elem;}// Replace/restore the type attribute of script elements for safe DOM manipulationfunction disableScript( elem ) {elem.type = ( elem.getAttribute( "type" ) !== null ) + "/" + elem.type;return elem;}function restoreScript( elem ) {if ( ( elem.type || "" ).slice( 0, 5 ) === "true/" ) {elem.type = elem.type.slice( 5 );} else {elem.removeAttribute( "type" );}return elem;}function cloneCopyEvent( src, dest ) {var i, l, type, pdataOld, udataOld, udataCur, events;if ( dest.nodeType !== 1 ) {return;}// 1. Copy private data: events, handlers, etc.if ( dataPriv.hasData( src ) ) {pdataOld = dataPriv.get( src );events = pdataOld.events;if ( events ) {dataPriv.remove( dest, "handle events" );for ( type in events ) {for ( i = 0, l = events[ type ].length; i < l; i++ ) {jQuery.event.add( dest, type, events[ type ][ i ] );}}}}// 2. Copy user dataif ( dataUser.hasData( src ) ) {udataOld = dataUser.access( src );udataCur = jQuery.extend( {}, udataOld );dataUser.set( dest, udataCur );}}// Fix IE bugs, see support testsfunction fixInput( src, dest ) {var nodeName = dest.nodeName.toLowerCase();// Fails to persist the checked state of a cloned checkbox or radio button.if ( nodeName === "input" && rcheckableType.test( src.type ) ) {dest.checked = src.checked;// Fails to return the selected option to the default selected state when cloning options} else if ( nodeName === "input" || nodeName === "textarea" ) {dest.defaultValue = src.defaultValue;}}function domManip( collection, args, callback, ignored ) {// Flatten any nested arraysargs = flat( args );var fragment, first, scripts, hasScripts, node, doc,i = 0,l = collection.length,iNoClone = l - 1,value = args[ 0 ],valueIsFunction = isFunction( value );// We can't cloneNode fragments that contain checked, in WebKitif ( valueIsFunction ||( l > 1 && typeof value === "string" &&!support.checkClone && rchecked.test( value ) ) ) {return collection.each( function( index ) {var self = collection.eq( index );if ( valueIsFunction ) {args[ 0 ] = value.call( this, index, self.html() );}domManip( self, args, callback, ignored );} );}if ( l ) {fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );first = fragment.firstChild;if ( fragment.childNodes.length === 1 ) {fragment = first;}// Require either new content or an interest in ignored elements to invoke the callbackif ( first || ignored ) {scripts = jQuery.map( getAll( fragment, "script" ), disableScript );hasScripts = scripts.length;// Use the original fragment for the last item// instead of the first because it can end up// being emptied incorrectly in certain situations (#8070).for ( ; i < l; i++ ) {node = fragment;if ( i !== iNoClone ) {node = jQuery.clone( node, true, true );// Keep references to cloned scripts for later restorationif ( hasScripts ) {// Support: Android <=4.0 only, PhantomJS 1 only// push.apply(_, arraylike) throws on ancient WebKitjQuery.merge( scripts, getAll( node, "script" ) );}}callback.call( collection[ i ], node, i );}if ( hasScripts ) {doc = scripts[ scripts.length - 1 ].ownerDocument;// Reenable scriptsjQuery.map( scripts, restoreScript );// Evaluate executable scripts on first document insertionfor ( i = 0; i < hasScripts; i++ ) {node = scripts[ i ];if ( rscriptType.test( node.type || "" ) &&!dataPriv.access( node, "globalEval" ) &&jQuery.contains( doc, node ) ) {if ( node.src && ( node.type || "" ).toLowerCase()  !== "module" ) {// Optional AJAX dependency, but won't run scripts if not presentif ( jQuery._evalUrl && !node.noModule ) {jQuery._evalUrl( node.src, {nonce: node.nonce || node.getAttribute( "nonce" )}, doc );}} else {DOMEval( node.textContent.replace( rcleanScript, "" ), node, doc );}}}}}}return collection;}function remove( elem, selector, keepData ) {var node,nodes = selector ? jQuery.filter( selector, elem ) : elem,i = 0;for ( ; ( node = nodes[ i ] ) != null; i++ ) {if ( !keepData && node.nodeType === 1 ) {jQuery.cleanData( getAll( node ) );}if ( node.parentNode ) {if ( keepData && isAttached( node ) ) {setGlobalEval( getAll( node, "script" ) );}node.parentNode.removeChild( node );}}return elem;}jQuery.extend( {htmlPrefilter: function( html ) {return html;},clone: function( elem, dataAndEvents, deepDataAndEvents ) {var i, l, srcElements, destElements,clone = elem.cloneNode( true ),inPage = isAttached( elem );// Fix IE cloning issuesif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&!jQuery.isXMLDoc( elem ) ) {// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2destElements = getAll( clone );srcElements = getAll( elem );for ( i = 0, l = srcElements.length; i < l; i++ ) {fixInput( srcElements[ i ], destElements[ i ] );}}// Copy the events from the original to the cloneif ( dataAndEvents ) {if ( deepDataAndEvents ) {srcElements = srcElements || getAll( elem );destElements = destElements || getAll( clone );for ( i = 0, l = srcElements.length; i < l; i++ ) {cloneCopyEvent( srcElements[ i ], destElements[ i ] );}} else {cloneCopyEvent( elem, clone );}}// Preserve script evaluation historydestElements = getAll( clone, "script" );if ( destElements.length > 0 ) {setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );}// Return the cloned setreturn clone;},cleanData: function( elems ) {var data, elem, type,special = jQuery.event.special,i = 0;for ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {if ( acceptData( elem ) ) {if ( ( data = elem[ dataPriv.expando ] ) ) {if ( data.events ) {for ( type in data.events ) {if ( special[ type ] ) {jQuery.event.remove( elem, type );// This is a shortcut to avoid jQuery.event.remove's overhead} else {jQuery.removeEvent( elem, type, data.handle );}}}// Support: Chrome <=35 - 45+// Assign undefined instead of using delete, see Data#removeelem[ dataPriv.expando ] = undefined;}if ( elem[ dataUser.expando ] ) {// Support: Chrome <=35 - 45+// Assign undefined instead of using delete, see Data#removeelem[ dataUser.expando ] = undefined;}}}}} );jQuery.fn.extend( {detach: function( selector ) {return remove( this, selector, true );},remove: function( selector ) {return remove( this, selector );},text: function( value ) {return access( this, function( value ) {return value === undefined ?jQuery.text( this ) :this.empty().each( function() {if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {this.textContent = value;}} );}, null, value, arguments.length );},append: function() {return domManip( this, arguments, function( elem ) {if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {var target = manipulationTarget( this, elem );target.appendChild( elem );}} );},prepend: function() {return domManip( this, arguments, function( elem ) {if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {var target = manipulationTarget( this, elem );target.insertBefore( elem, target.firstChild );}} );},before: function() {return domManip( this, arguments, function( elem ) {if ( this.parentNode ) {this.parentNode.insertBefore( elem, this );}} );},after: function() {return domManip( this, arguments, function( elem ) {if ( this.parentNode ) {this.parentNode.insertBefore( elem, this.nextSibling );}} );},empty: function() {var elem,i = 0;for ( ; ( elem = this[ i ] ) != null; i++ ) {if ( elem.nodeType === 1 ) {// Prevent memory leaksjQuery.cleanData( getAll( elem, false ) );// Remove any remaining nodeselem.textContent = "";}}return this;},clone: function( dataAndEvents, deepDataAndEvents ) {dataAndEvents = dataAndEvents == null ? false : dataAndEvents;deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;return this.map( function() {return jQuery.clone( this, dataAndEvents, deepDataAndEvents );} );},html: function( value ) {return access( this, function( value ) {var elem = this[ 0 ] || {},i = 0,l = this.length;if ( value === undefined && elem.nodeType === 1 ) {return elem.innerHTML;}// See if we can take a shortcut and just use innerHTMLif ( typeof value === "string" && !rnoInnerhtml.test( value ) &&!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {value = jQuery.htmlPrefilter( value );try {for ( ; i < l; i++ ) {elem = this[ i ] || {};// Remove element nodes and prevent memory leaksif ( elem.nodeType === 1 ) {jQuery.cleanData( getAll( elem, false ) );elem.innerHTML = value;}}elem = 0;// If using innerHTML throws an exception, use the fallback method} catch ( e ) {}}if ( elem ) {this.empty().append( value );}}, null, value, arguments.length );},replaceWith: function() {var ignored = [];// Make the changes, replacing each non-ignored context element with the new contentreturn domManip( this, arguments, function( elem ) {var parent = this.parentNode;if ( jQuery.inArray( this, ignored ) < 0 ) {jQuery.cleanData( getAll( this ) );if ( parent ) {parent.replaceChild( elem, this );}}// Force callback invocation}, ignored );}} );jQuery.each( {appendTo: "append",prependTo: "prepend",insertBefore: "before",insertAfter: "after",replaceAll: "replaceWith"}, function( name, original ) {jQuery.fn[ name ] = function( selector ) {var elems,ret = [],insert = jQuery( selector ),last = insert.length - 1,i = 0;for ( ; i <= last; i++ ) {elems = i === last ? this : this.clone( true );jQuery( insert[ i ] )[ original ]( elems );// Support: Android <=4.0 only, PhantomJS 1 only// .get() because push.apply(_, arraylike) throws on ancient WebKitpush.apply( ret, elems.get() );}return this.pushStack( ret );};} );var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );var getStyles = function( elem ) {// Support: IE <=11 only, Firefox <=30 (#15098, #14150)// IE throws on elements created in popups// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"var view = elem.ownerDocument.defaultView;if ( !view || !view.opener ) {view = window;}return view.getComputedStyle( elem );};var swap = function( elem, options, callback ) {var ret, name,old = {};// Remember the old values, and insert the new onesfor ( name in options ) {old[ name ] = elem.style[ name ];elem.style[ name ] = options[ name ];}ret = callback.call( elem );// Revert the old valuesfor ( name in options ) {elem.style[ name ] = old[ name ];}return ret;};var rboxStyle = new RegExp( cssExpand.join( "|" ), "i" );( function() {// Executing both pixelPosition & boxSizingReliable tests require only one layout// so they're executed at the same time to save the second computation.function computeStyleTests() {// This is a singleton, we need to execute it only onceif ( !div ) {return;}container.style.cssText = "position:absolute;left:-11111px;width:60px;" +"margin-top:1px;padding:0;border:0";div.style.cssText ="position:relative;display:block;box-sizing:border-box;overflow:scroll;" +"margin:auto;border:1px;padding:1px;" +"width:60%;top:1%";documentElement.appendChild( container ).appendChild( div );var divStyle = window.getComputedStyle( div );pixelPositionVal = divStyle.top !== "1%";// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44reliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3// Some styles come back with percentage values, even though they shouldn'tdiv.style.right = "60%";pixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;// Support: IE 9 - 11 only// Detect misreporting of content dimensions for box-sizing:border-box elementsboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;// Support: IE 9 only// Detect overflow:scroll screwiness (gh-3699)// Support: Chrome <=64// Don't get tricked when zoom affects offsetWidth (gh-4029)div.style.position = "absolute";scrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;documentElement.removeChild( container );// Nullify the div so it wouldn't be stored in the memory and// it will also be a sign that checks already performeddiv = null;}function roundPixelMeasures( measure ) {return Math.round( parseFloat( measure ) );}var pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,reliableTrDimensionsVal, reliableMarginLeftVal,container = document.createElement( "div" ),div = document.createElement( "div" );// Finish early in limited (non-browser) environmentsif ( !div.style ) {return;}// Support: IE <=9 - 11 only// Style of cloned element affects source element cloned (#8908)div.style.backgroundClip = "content-box";div.cloneNode( true ).style.backgroundClip = "";support.clearCloneStyle = div.style.backgroundClip === "content-box";jQuery.extend( support, {boxSizingReliable: function() {computeStyleTests();return boxSizingReliableVal;},pixelBoxStyles: function() {computeStyleTests();return pixelBoxStylesVal;},pixelPosition: function() {computeStyleTests();return pixelPositionVal;},reliableMarginLeft: function() {computeStyleTests();return reliableMarginLeftVal;},scrollboxSize: function() {computeStyleTests();return scrollboxSizeVal;},// Support: IE 9 - 11+, Edge 15 - 18+// IE/Edge misreport `getComputedStyle` of table rows with width/height// set in CSS while `offset*` properties report correct values.// Behavior in IE 9 is more subtle than in newer versions & it passes// some versions of this test; make sure not to make it pass there!//// Support: Firefox 70+// Only Firefox includes border widths// in computed dimensions. (gh-4529)reliableTrDimensions: function() {var table, tr, trChild, trStyle;if ( reliableTrDimensionsVal == null ) {table = document.createElement( "table" );tr = document.createElement( "tr" );trChild = document.createElement( "div" );table.style.cssText = "position:absolute;left:-11111px;border-collapse:separate";tr.style.cssText = "border:1px solid";// Support: Chrome 86+// Height set through cssText does not get applied.// Computed height then comes back as 0.tr.style.height = "1px";trChild.style.height = "9px";// Support: Android 8 Chrome 86+// In our bodyBackground.html iframe,// display for all div elements is set to "inline",// which causes a problem only in Android 8 Chrome 86.// Ensuring the div is display: block// gets around this issue.trChild.style.display = "block";documentElement.appendChild( table ).appendChild( tr ).appendChild( trChild );trStyle = window.getComputedStyle( tr );reliableTrDimensionsVal = ( parseInt( trStyle.height, 10 ) +parseInt( trStyle.borderTopWidth, 10 ) +parseInt( trStyle.borderBottomWidth, 10 ) ) === tr.offsetHeight;documentElement.removeChild( table );}return reliableTrDimensionsVal;}} );} )();function curCSS( elem, name, computed ) {var width, minWidth, maxWidth, ret,// Support: Firefox 51+// Retrieving style before computed somehow// fixes an issue with getting wrong values// on detached elementsstyle = elem.style;computed = computed || getStyles( elem );// getPropertyValue is needed for://   .css('filter') (IE 9 only, #12537)//   .css('--customProperty) (#3144)if ( computed ) {ret = computed.getPropertyValue( name ) || computed[ name ];if ( ret === "" && !isAttached( elem ) ) {ret = jQuery.style( elem, name );}// A tribute to the "awesome hack by Dean Edwards"// Android Browser returns percentage for some values,// but width seems to be reliably pixels.// This is against the CSSOM draft spec:// https://drafts.csswg.org/cssom/#resolved-valuesif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {// Remember the original valueswidth = style.width;minWidth = style.minWidth;maxWidth = style.maxWidth;// Put in the new values to get a computed value outstyle.minWidth = style.maxWidth = style.width = ret;ret = computed.width;// Revert the changed valuesstyle.width = width;style.minWidth = minWidth;style.maxWidth = maxWidth;}}return ret !== undefined ?// Support: IE <=9 - 11 only// IE returns zIndex value as an integer.ret + "" :ret;}function addGetHookIf( conditionFn, hookFn ) {// Define the hook, we'll check on the first run if it's really needed.return {get: function() {if ( conditionFn() ) {// Hook not needed (or it's not possible to use it due// to missing dependency), remove it.delete this.get;return;}// Hook needed; redefine it so that the support test is not executed again.return ( this.get = hookFn ).apply( this, arguments );}};}var cssPrefixes = [ "Webkit", "Moz", "ms" ],emptyStyle = document.createElement( "div" ).style,vendorProps = {};// Return a vendor-prefixed property or undefinedfunction vendorPropName( name ) {// Check for vendor prefixed namesvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),i = cssPrefixes.length;while ( i-- ) {name = cssPrefixes[ i ] + capName;if ( name in emptyStyle ) {return name;}}}// Return a potentially-mapped jQuery.cssProps or vendor prefixed propertyfunction finalPropName( name ) {var final = jQuery.cssProps[ name ] || vendorProps[ name ];if ( final ) {return final;}if ( name in emptyStyle ) {return name;}return vendorProps[ name ] = vendorPropName( name ) || name;}var// Swappable if display is none or starts with table// except "table", "table-cell", or "table-caption"// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/displayrdisplayswap = /^(none|table(?!-c[ea]).+)/,rcustomProp = /^--/,cssShow = { position: "absolute", visibility: "hidden", display: "block" },cssNormalTransform = {letterSpacing: "0",fontWeight: "400"};function setPositiveNumber( _elem, value, subtract ) {// Any relative (+/-) values have already been// normalized at this pointvar matches = rcssNum.exec( value );return matches ?// Guard against undefined "subtract", e.g., when used as in cssHooksMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || "px" ) :value;}function boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {var i = dimension === "width" ? 1 : 0,extra = 0,delta = 0;// Adjustment may not be necessaryif ( box === ( isBorderBox ? "border" : "content" ) ) {return 0;}for ( ; i < 4; i += 2 ) {// Both box models exclude marginif ( box === "margin" ) {delta += jQuery.css( elem, box + cssExpand[ i ], true, styles );}// If we get here with a content-box, we're seeking "padding" or "border" or "margin"if ( !isBorderBox ) {// Add paddingdelta += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );// For "border" or "margin", add borderif ( box !== "padding" ) {delta += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );// But still keep track of it otherwise} else {extra += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );}// If we get here with a border-box (content + padding + border), we're seeking "content" or// "padding" or "margin"} else {// For "content", subtract paddingif ( box === "content" ) {delta -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );}// For "content" or "padding", subtract borderif ( box !== "margin" ) {delta -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );}}}// Account for positive content-box scroll gutter when requested by providing computedValif ( !isBorderBox && computedVal >= 0 ) {// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border// Assuming integer scroll gutter, subtract the rest and round downdelta += Math.max( 0, Math.ceil(elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -computedVal -delta -extra -0.5// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter// Use an explicit zero to avoid NaN (gh-3964)) ) || 0;}return delta;}function getWidthOrHeight( elem, dimension, extra ) {// Start with computed stylevar styles = getStyles( elem ),// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).// Fake content-box until we know it's needed to know the true value.boxSizingNeeded = !support.boxSizingReliable() || extra,isBorderBox = boxSizingNeeded &&jQuery.css( elem, "boxSizing", false, styles ) === "border-box",valueIsBorderBox = isBorderBox,val = curCSS( elem, dimension, styles ),offsetProp = "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );// Support: Firefox <=54// Return a confounding non-pixel value or feign ignorance, as appropriate.if ( rnumnonpx.test( val ) ) {if ( !extra ) {return val;}val = "auto";}// Support: IE 9 - 11 only// Use offsetWidth/offsetHeight for when box sizing is unreliable.// In those cases, the computed value can be trusted to be border-box.if ( ( !support.boxSizingReliable() && isBorderBox ||// Support: IE 10 - 11+, Edge 15 - 18+// IE/Edge misreport `getComputedStyle` of table rows with width/height// set in CSS while `offset*` properties report correct values.// Interestingly, in some cases IE 9 doesn't suffer from this issue.!support.reliableTrDimensions() && nodeName( elem, "tr" ) ||// Fall back to offsetWidth/offsetHeight when value is "auto"// This happens for inline elements with no explicit setting (gh-3571)val === "auto" ||// Support: Android <=4.1 - 4.3 only// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)!parseFloat( val ) && jQuery.css( elem, "display", false, styles ) === "inline" ) &&// Make sure the element is visible & connectedelem.getClientRects().length ) {isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box";// Where available, offsetWidth/offsetHeight approximate border box dimensions.// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the// retrieved value as a content box dimension.valueIsBorderBox = offsetProp in elem;if ( valueIsBorderBox ) {val = elem[ offsetProp ];}}// Normalize "" and autoval = parseFloat( val ) || 0;// Adjust for the element's box modelreturn ( val +boxModelAdjustment(elem,dimension,extra || ( isBorderBox ? "border" : "content" ),valueIsBorderBox,styles,// Provide the current computed size to request scroll gutter calculation (gh-3589)val)) + "px";}jQuery.extend( {// Add in style property hooks for overriding the default// behavior of getting and setting a style propertycssHooks: {opacity: {get: function( elem, computed ) {if ( computed ) {// We should always get a number back from opacityvar ret = curCSS( elem, "opacity" );return ret === "" ? "1" : ret;}}}},// Don't automatically add "px" to these possibly-unitless propertiescssNumber: {"animationIterationCount": true,"columnCount": true,"fillOpacity": true,"flexGrow": true,"flexShrink": true,"fontWeight": true,"gridArea": true,"gridColumn": true,"gridColumnEnd": true,"gridColumnStart": true,"gridRow": true,"gridRowEnd": true,"gridRowStart": true,"lineHeight": true,"opacity": true,"order": true,"orphans": true,"widows": true,"zIndex": true,"zoom": true},// Add in properties whose names you wish to fix before// setting or getting the valuecssProps: {},// Get and set the style property on a DOM Nodestyle: function( elem, name, value, extra ) {// Don't set styles on text and comment nodesif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {return;}// Make sure that we're working with the right namevar ret, type, hooks,origName = camelCase( name ),isCustomProp = rcustomProp.test( name ),style = elem.style;// Make sure that we're working with the right name. We don't// want to query the value if it is a CSS custom property// since they are user-defined.if ( !isCustomProp ) {name = finalPropName( origName );}// Gets hook for the prefixed version, then unprefixed versionhooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];// Check if we're setting a valueif ( value !== undefined ) {type = typeof value;// Convert "+=" or "-=" to relative numbers (#7345)if ( type === "string" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {value = adjustCSS( elem, name, ret );// Fixes bug #9237type = "number";}// Make sure that null and NaN values aren't set (#7116)if ( value == null || value !== value ) {return;}// If a number was passed in, add the unit (except for certain CSS properties)// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append// "px" to a few hardcoded values.if ( type === "number" && !isCustomProp ) {value += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? "" : "px" );}// background-* props affect original clone's valuesif ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {style[ name ] = "inherit";}// If a hook was provided, use that value, otherwise just set the specified valueif ( !hooks || !( "set" in hooks ) ||( value = hooks.set( elem, value, extra ) ) !== undefined ) {if ( isCustomProp ) {style.setProperty( name, value );} else {style[ name ] = value;}}} else {// If a hook was provided get the non-computed value from thereif ( hooks && "get" in hooks &&( ret = hooks.get( elem, false, extra ) ) !== undefined ) {return ret;}// Otherwise just get the value from the style objectreturn style[ name ];}},css: function( elem, name, extra, styles ) {var val, num, hooks,origName = camelCase( name ),isCustomProp = rcustomProp.test( name );// Make sure that we're working with the right name. We don't// want to modify the value if it is a CSS custom property// since they are user-defined.if ( !isCustomProp ) {name = finalPropName( origName );}// Try prefixed name followed by the unprefixed namehooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];// If a hook was provided get the computed value from thereif ( hooks && "get" in hooks ) {val = hooks.get( elem, true, extra );}// Otherwise, if a way to get the computed value exists, use thatif ( val === undefined ) {val = curCSS( elem, name, styles );}// Convert "normal" to computed valueif ( val === "normal" && name in cssNormalTransform ) {val = cssNormalTransform[ name ];}// Make numeric if forced or a qualifier was provided and val looks numericif ( extra === "" || extra ) {num = parseFloat( val );return extra === true || isFinite( num ) ? num || 0 : val;}return val;}} );jQuery.each( [ "height", "width" ], function( _i, dimension ) {jQuery.cssHooks[ dimension ] = {get: function( elem, computed, extra ) {if ( computed ) {// Certain elements can have dimension info if we invisibly show them// but it must have a current display style that would benefitreturn rdisplayswap.test( jQuery.css( elem, "display" ) ) &&// Support: Safari 8+// Table columns in Safari have non-zero offsetWidth & zero// getBoundingClientRect().width unless display is changed.// Support: IE <=11 only// Running getBoundingClientRect on a disconnected node// in IE throws an error.( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?swap( elem, cssShow, function() {return getWidthOrHeight( elem, dimension, extra );} ) :getWidthOrHeight( elem, dimension, extra );}},set: function( elem, value, extra ) {var matches,styles = getStyles( elem ),// Only read styles.position if the test has a chance to fail// to avoid forcing a reflow.scrollboxSizeBuggy = !support.scrollboxSize() &&styles.position === "absolute",// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)boxSizingNeeded = scrollboxSizeBuggy || extra,isBorderBox = boxSizingNeeded &&jQuery.css( elem, "boxSizing", false, styles ) === "border-box",subtract = extra ?boxModelAdjustment(elem,dimension,extra,isBorderBox,styles) :0;// Account for unreliable border-box dimensions by comparing offset* to computed and// faking a content-box to get border and padding (gh-3699)if ( isBorderBox && scrollboxSizeBuggy ) {subtract -= Math.ceil(elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -parseFloat( styles[ dimension ] ) -boxModelAdjustment( elem, dimension, "border", false, styles ) -0.5);}// Convert to pixels if value adjustment is neededif ( subtract && ( matches = rcssNum.exec( value ) ) &&( matches[ 3 ] || "px" ) !== "px" ) {elem.style[ dimension ] = value;value = jQuery.css( elem, dimension );}return setPositiveNumber( elem, value, subtract );}};} );jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,function( elem, computed ) {if ( computed ) {return ( parseFloat( curCSS( elem, "marginLeft" ) ) ||elem.getBoundingClientRect().left -swap( elem, { marginLeft: 0 }, function() {return elem.getBoundingClientRect().left;} )) + "px";}});// These hooks are used by animate to expand propertiesjQuery.each( {margin: "",padding: "",border: "Width"}, function( prefix, suffix ) {jQuery.cssHooks[ prefix + suffix ] = {expand: function( value ) {var i = 0,expanded = {},// Assumes a single number if not a stringparts = typeof value === "string" ? value.split( " " ) : [ value ];for ( ; i < 4; i++ ) {expanded[ prefix + cssExpand[ i ] + suffix ] =parts[ i ] || parts[ i - 2 ] || parts[ 0 ];}return expanded;}};if ( prefix !== "margin" ) {jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;}} );jQuery.fn.extend( {css: function( name, value ) {return access( this, function( elem, name, value ) {var styles, len,map = {},i = 0;if ( Array.isArray( name ) ) {styles = getStyles( elem );len = name.length;for ( ; i < len; i++ ) {map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );}return map;}return value !== undefined ?jQuery.style( elem, name, value ) :jQuery.css( elem, name );}, name, value, arguments.length > 1 );}} );function Tween( elem, options, prop, end, easing ) {return new Tween.prototype.init( elem, options, prop, end, easing );}jQuery.Tween = Tween;Tween.prototype = {constructor: Tween,init: function( elem, options, prop, end, easing, unit ) {this.elem = elem;this.prop = prop;this.easing = easing || jQuery.easing._default;this.options = options;this.start = this.now = this.cur();this.end = end;this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );},cur: function() {var hooks = Tween.propHooks[ this.prop ];return hooks && hooks.get ?hooks.get( this ) :Tween.propHooks._default.get( this );},run: function( percent ) {var eased,hooks = Tween.propHooks[ this.prop ];if ( this.options.duration ) {this.pos = eased = jQuery.easing[ this.easing ](percent, this.options.duration * percent, 0, 1, this.options.duration);} else {this.pos = eased = percent;}this.now = ( this.end - this.start ) * eased + this.start;if ( this.options.step ) {this.options.step.call( this.elem, this.now, this );}if ( hooks && hooks.set ) {hooks.set( this );} else {Tween.propHooks._default.set( this );}return this;}};Tween.prototype.init.prototype = Tween.prototype;Tween.propHooks = {_default: {get: function( tween ) {var result;// Use a property on the element directly when it is not a DOM element,// or when there is no matching style property that exists.if ( tween.elem.nodeType !== 1 ||tween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {return tween.elem[ tween.prop ];}// Passing an empty string as a 3rd parameter to .css will automatically// attempt a parseFloat and fallback to a string if the parse fails.// Simple values such as "10px" are parsed to Float;// complex values such as "rotate(1rad)" are returned as-is.result = jQuery.css( tween.elem, tween.prop, "" );// Empty strings, null, undefined and "auto" are converted to 0.return !result || result === "auto" ? 0 : result;},set: function( tween ) {// Use step hook for back compat.// Use cssHook if its there.// Use .style if available and use plain properties where available.if ( jQuery.fx.step[ tween.prop ] ) {jQuery.fx.step[ tween.prop ]( tween );} else if ( tween.elem.nodeType === 1 && (jQuery.cssHooks[ tween.prop ] ||tween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );} else {tween.elem[ tween.prop ] = tween.now;}}}};// Support: IE <=9 only// Panic based approach to setting things on disconnected nodesTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {set: function( tween ) {if ( tween.elem.nodeType && tween.elem.parentNode ) {tween.elem[ tween.prop ] = tween.now;}}};jQuery.easing = {linear: function( p ) {return p;},swing: function( p ) {return 0.5 - Math.cos( p * Math.PI ) / 2;},_default: "swing"};jQuery.fx = Tween.prototype.init;// Back compat <1.8 extension pointjQuery.fx.step = {};varfxNow, inProgress,rfxtypes = /^(?:toggle|show|hide)$/,rrun = /queueHooks$/;function schedule() {if ( inProgress ) {if ( document.hidden === false && window.requestAnimationFrame ) {window.requestAnimationFrame( schedule );} else {window.setTimeout( schedule, jQuery.fx.interval );}jQuery.fx.tick();}}// Animations created synchronously will run synchronouslyfunction createFxNow() {window.setTimeout( function() {fxNow = undefined;} );return ( fxNow = Date.now() );}// Generate parameters to create a standard animationfunction genFx( type, includeWidth ) {var which,i = 0,attrs = { height: type };// If we include width, step value is 1 to do all cssExpand values,// otherwise step value is 2 to skip over Left and RightincludeWidth = includeWidth ? 1 : 0;for ( ; i < 4; i += 2 - includeWidth ) {which = cssExpand[ i ];attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;}if ( includeWidth ) {attrs.opacity = attrs.width = type;}return attrs;}function createTween( value, prop, animation ) {var tween,collection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ "*" ] ),index = 0,length = collection.length;for ( ; index < length; index++ ) {if ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {// We're done with this propertyreturn tween;}}}function defaultPrefilter( elem, props, opts ) {var prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,isBox = "width" in props || "height" in props,anim = this,orig = {},style = elem.style,hidden = elem.nodeType && isHiddenWithinTree( elem ),dataShow = dataPriv.get( elem, "fxshow" );// Queue-skipping animations hijack the fx hooksif ( !opts.queue ) {hooks = jQuery._queueHooks( elem, "fx" );if ( hooks.unqueued == null ) {hooks.unqueued = 0;oldfire = hooks.empty.fire;hooks.empty.fire = function() {if ( !hooks.unqueued ) {oldfire();}};}hooks.unqueued++;anim.always( function() {// Ensure the complete handler is called before this completesanim.always( function() {hooks.unqueued--;if ( !jQuery.queue( elem, "fx" ).length ) {hooks.empty.fire();}} );} );}// Detect show/hide animationsfor ( prop in props ) {value = props[ prop ];if ( rfxtypes.test( value ) ) {delete props[ prop ];toggle = toggle || value === "toggle";if ( value === ( hidden ? "hide" : "show" ) ) {// Pretend to be hidden if this is a "show" and// there is still data from a stopped show/hideif ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {hidden = true;// Ignore all other no-op show/hide data} else {continue;}}orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );}}// Bail out if this is a no-op like .hide().hide()propTween = !jQuery.isEmptyObject( props );if ( !propTween && jQuery.isEmptyObject( orig ) ) {return;}// Restrict "overflow" and "display" styles during box animationsif ( isBox && elem.nodeType === 1 ) {// Support: IE <=9 - 11, Edge 12 - 15// Record all 3 overflow attributes because IE does not infer the shorthand// from identically-valued overflowX and overflowY and Edge just mirrors// the overflowX value there.opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];// Identify a display type, preferring old show/hide data over the CSS cascaderestoreDisplay = dataShow && dataShow.display;if ( restoreDisplay == null ) {restoreDisplay = dataPriv.get( elem, "display" );}display = jQuery.css( elem, "display" );if ( display === "none" ) {if ( restoreDisplay ) {display = restoreDisplay;} else {// Get nonempty value(s) by temporarily forcing visibilityshowHide( [ elem ], true );restoreDisplay = elem.style.display || restoreDisplay;display = jQuery.css( elem, "display" );showHide( [ elem ] );}}// Animate inline elements as inline-blockif ( display === "inline" || display === "inline-block" && restoreDisplay != null ) {if ( jQuery.css( elem, "float" ) === "none" ) {// Restore the original display value at the end of pure show/hide animationsif ( !propTween ) {anim.done( function() {style.display = restoreDisplay;} );if ( restoreDisplay == null ) {display = style.display;restoreDisplay = display === "none" ? "" : display;}}style.display = "inline-block";}}}if ( opts.overflow ) {style.overflow = "hidden";anim.always( function() {style.overflow = opts.overflow[ 0 ];style.overflowX = opts.overflow[ 1 ];style.overflowY = opts.overflow[ 2 ];} );}// Implement show/hide animationspropTween = false;for ( prop in orig ) {// General show/hide setup for this element animationif ( !propTween ) {if ( dataShow ) {if ( "hidden" in dataShow ) {hidden = dataShow.hidden;}} else {dataShow = dataPriv.access( elem, "fxshow", { display: restoreDisplay } );}// Store hidden/visible for toggle so `.stop().toggle()` "reverses"if ( toggle ) {dataShow.hidden = !hidden;}// Show elements before animating themif ( hidden ) {showHide( [ elem ], true );}/* eslint-disable no-loop-func */anim.done( function() {/* eslint-enable no-loop-func */// The final step of a "hide" animation is actually hiding the elementif ( !hidden ) {showHide( [ elem ] );}dataPriv.remove( elem, "fxshow" );for ( prop in orig ) {jQuery.style( elem, prop, orig[ prop ] );}} );}// Per-property setuppropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );if ( !( prop in dataShow ) ) {dataShow[ prop ] = propTween.start;if ( hidden ) {propTween.end = propTween.start;propTween.start = 0;}}}}function propFilter( props, specialEasing ) {var index, name, easing, value, hooks;// camelCase, specialEasing and expand cssHook passfor ( index in props ) {name = camelCase( index );easing = specialEasing[ name ];value = props[ index ];if ( Array.isArray( value ) ) {easing = value[ 1 ];value = props[ index ] = value[ 0 ];}if ( index !== name ) {props[ name ] = value;delete props[ index ];}hooks = jQuery.cssHooks[ name ];if ( hooks && "expand" in hooks ) {value = hooks.expand( value );delete props[ name ];// Not quite $.extend, this won't overwrite existing keys.// Reusing 'index' because we have the correct "name"for ( index in value ) {if ( !( index in props ) ) {props[ index ] = value[ index ];specialEasing[ index ] = easing;}}} else {specialEasing[ name ] = easing;}}}function Animation( elem, properties, options ) {var result,stopped,index = 0,length = Animation.prefilters.length,deferred = jQuery.Deferred().always( function() {// Don't match elem in the :animated selectordelete tick.elem;} ),tick = function() {if ( stopped ) {return false;}var currentTime = fxNow || createFxNow(),remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),// Support: Android 2.3 only// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)temp = remaining / animation.duration || 0,percent = 1 - temp,index = 0,length = animation.tweens.length;for ( ; index < length; index++ ) {animation.tweens[ index ].run( percent );}deferred.notifyWith( elem, [ animation, percent, remaining ] );// If there's more to do, yieldif ( percent < 1 && length ) {return remaining;}// If this was an empty animation, synthesize a final progress notificationif ( !length ) {deferred.notifyWith( elem, [ animation, 1, 0 ] );}// Resolve the animation and report its conclusiondeferred.resolveWith( elem, [ animation ] );return false;},animation = deferred.promise( {elem: elem,props: jQuery.extend( {}, properties ),opts: jQuery.extend( true, {specialEasing: {},easing: jQuery.easing._default}, options ),originalProperties: properties,originalOptions: options,startTime: fxNow || createFxNow(),duration: options.duration,tweens: [],createTween: function( prop, end ) {var tween = jQuery.Tween( elem, animation.opts, prop, end,animation.opts.specialEasing[ prop ] || animation.opts.easing );animation.tweens.push( tween );return tween;},stop: function( gotoEnd ) {var index = 0,// If we are going to the end, we want to run all the tweens// otherwise we skip this partlength = gotoEnd ? animation.tweens.length : 0;if ( stopped ) {return this;}stopped = true;for ( ; index < length; index++ ) {animation.tweens[ index ].run( 1 );}// Resolve when we played the last frame; otherwise, rejectif ( gotoEnd ) {deferred.notifyWith( elem, [ animation, 1, 0 ] );deferred.resolveWith( elem, [ animation, gotoEnd ] );} else {deferred.rejectWith( elem, [ animation, gotoEnd ] );}return this;}} ),props = animation.props;propFilter( props, animation.opts.specialEasing );for ( ; index < length; index++ ) {result = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );if ( result ) {if ( isFunction( result.stop ) ) {jQuery._queueHooks( animation.elem, animation.opts.queue ).stop =result.stop.bind( result );}return result;}}jQuery.map( props, createTween, animation );if ( isFunction( animation.opts.start ) ) {animation.opts.start.call( elem, animation );}// Attach callbacks from optionsanimation.progress( animation.opts.progress ).done( animation.opts.done, animation.opts.complete ).fail( animation.opts.fail ).always( animation.opts.always );jQuery.fx.timer(jQuery.extend( tick, {elem: elem,anim: animation,queue: animation.opts.queue} ));return animation;}jQuery.Animation = jQuery.extend( Animation, {tweeners: {"*": [ function( prop, value ) {var tween = this.createTween( prop, value );adjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );return tween;} ]},tweener: function( props, callback ) {if ( isFunction( props ) ) {callback = props;props = [ "*" ];} else {props = props.match( rnothtmlwhite );}var prop,index = 0,length = props.length;for ( ; index < length; index++ ) {prop = props[ index ];Animation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];Animation.tweeners[ prop ].unshift( callback );}},prefilters: [ defaultPrefilter ],prefilter: function( callback, prepend ) {if ( prepend ) {Animation.prefilters.unshift( callback );} else {Animation.prefilters.push( callback );}}} );jQuery.speed = function( speed, easing, fn ) {var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {complete: fn || !fn && easing ||isFunction( speed ) && speed,duration: speed,easing: fn && easing || easing && !isFunction( easing ) && easing};// Go to the end state if fx are offif ( jQuery.fx.off ) {opt.duration = 0;} else {if ( typeof opt.duration !== "number" ) {if ( opt.duration in jQuery.fx.speeds ) {opt.duration = jQuery.fx.speeds[ opt.duration ];} else {opt.duration = jQuery.fx.speeds._default;}}}// Normalize opt.queue - true/undefined/null -> "fx"if ( opt.queue == null || opt.queue === true ) {opt.queue = "fx";}// Queueingopt.old = opt.complete;opt.complete = function() {if ( isFunction( opt.old ) ) {opt.old.call( this );}if ( opt.queue ) {jQuery.dequeue( this, opt.queue );}};return opt;};jQuery.fn.extend( {fadeTo: function( speed, to, easing, callback ) {// Show any hidden elements after setting opacity to 0return this.filter( isHiddenWithinTree ).css( "opacity", 0 ).show()// Animate to the value specified.end().animate( { opacity: to }, speed, easing, callback );},animate: function( prop, speed, easing, callback ) {var empty = jQuery.isEmptyObject( prop ),optall = jQuery.speed( speed, easing, callback ),doAnimation = function() {// Operate on a copy of prop so per-property easing won't be lostvar anim = Animation( this, jQuery.extend( {}, prop ), optall );// Empty animations, or finishing resolves immediatelyif ( empty || dataPriv.get( this, "finish" ) ) {anim.stop( true );}};doAnimation.finish = doAnimation;return empty || optall.queue === false ?this.each( doAnimation ) :this.queue( optall.queue, doAnimation );},stop: function( type, clearQueue, gotoEnd ) {var stopQueue = function( hooks ) {var stop = hooks.stop;delete hooks.stop;stop( gotoEnd );};if ( typeof type !== "string" ) {gotoEnd = clearQueue;clearQueue = type;type = undefined;}if ( clearQueue ) {this.queue( type || "fx", [] );}return this.each( function() {var dequeue = true,index = type != null && type + "queueHooks",timers = jQuery.timers,data = dataPriv.get( this );if ( index ) {if ( data[ index ] && data[ index ].stop ) {stopQueue( data[ index ] );}} else {for ( index in data ) {if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {stopQueue( data[ index ] );}}}for ( index = timers.length; index--; ) {if ( timers[ index ].elem === this &&( type == null || timers[ index ].queue === type ) ) {timers[ index ].anim.stop( gotoEnd );dequeue = false;timers.splice( index, 1 );}}// Start the next in the queue if the last step wasn't forced.// Timers currently will call their complete callbacks, which// will dequeue but only if they were gotoEnd.if ( dequeue || !gotoEnd ) {jQuery.dequeue( this, type );}} );},finish: function( type ) {if ( type !== false ) {type = type || "fx";}return this.each( function() {var index,data = dataPriv.get( this ),queue = data[ type + "queue" ],hooks = data[ type + "queueHooks" ],timers = jQuery.timers,length = queue ? queue.length : 0;// Enable finishing flag on private datadata.finish = true;// Empty the queue firstjQuery.queue( this, type, [] );if ( hooks && hooks.stop ) {hooks.stop.call( this, true );}// Look for any active animations, and finish themfor ( index = timers.length; index--; ) {if ( timers[ index ].elem === this && timers[ index ].queue === type ) {timers[ index ].anim.stop( true );timers.splice( index, 1 );}}// Look for any animations in the old queue and finish themfor ( index = 0; index < length; index++ ) {if ( queue[ index ] && queue[ index ].finish ) {queue[ index ].finish.call( this );}}// Turn off finishing flagdelete data.finish;} );}} );jQuery.each( [ "toggle", "show", "hide" ], function( _i, name ) {var cssFn = jQuery.fn[ name ];jQuery.fn[ name ] = function( speed, easing, callback ) {return speed == null || typeof speed === "boolean" ?cssFn.apply( this, arguments ) :this.animate( genFx( name, true ), speed, easing, callback );};} );// Generate shortcuts for custom animationsjQuery.each( {slideDown: genFx( "show" ),slideUp: genFx( "hide" ),slideToggle: genFx( "toggle" ),fadeIn: { opacity: "show" },fadeOut: { opacity: "hide" },fadeToggle: { opacity: "toggle" }}, function( name, props ) {jQuery.fn[ name ] = function( speed, easing, callback ) {return this.animate( props, speed, easing, callback );};} );jQuery.timers = [];jQuery.fx.tick = function() {var timer,i = 0,timers = jQuery.timers;fxNow = Date.now();for ( ; i < timers.length; i++ ) {timer = timers[ i ];// Run the timer and safely remove it when done (allowing for external removal)if ( !timer() && timers[ i ] === timer ) {timers.splice( i--, 1 );}}if ( !timers.length ) {jQuery.fx.stop();}fxNow = undefined;};jQuery.fx.timer = function( timer ) {jQuery.timers.push( timer );jQuery.fx.start();};jQuery.fx.interval = 13;jQuery.fx.start = function() {if ( inProgress ) {return;}inProgress = true;schedule();};jQuery.fx.stop = function() {inProgress = null;};jQuery.fx.speeds = {slow: 600,fast: 200,// Default speed_default: 400};// Based off of the plugin by Clint Helfers, with permission.// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/jQuery.fn.delay = function( time, type ) {time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;type = type || "fx";return this.queue( type, function( next, hooks ) {var timeout = window.setTimeout( next, time );hooks.stop = function() {window.clearTimeout( timeout );};} );};( function() {var input = document.createElement( "input" ),select = document.createElement( "select" ),opt = select.appendChild( document.createElement( "option" ) );input.type = "checkbox";// Support: Android <=4.3 only// Default value for a checkbox should be "on"support.checkOn = input.value !== "";// Support: IE <=11 only// Must access selectedIndex to make default options selectsupport.optSelected = opt.selected;// Support: IE <=11 only// An input loses its value after becoming a radioinput = document.createElement( "input" );input.value = "t";input.type = "radio";support.radioValue = input.value === "t";} )();var boolHook,attrHandle = jQuery.expr.attrHandle;jQuery.fn.extend( {attr: function( name, value ) {return access( this, jQuery.attr, name, value, arguments.length > 1 );},removeAttr: function( name ) {return this.each( function() {jQuery.removeAttr( this, name );} );}} );jQuery.extend( {attr: function( elem, name, value ) {var ret, hooks,nType = elem.nodeType;// Don't get/set attributes on text, comment and attribute nodesif ( nType === 3 || nType === 8 || nType === 2 ) {return;}// Fallback to prop when attributes are not supportedif ( typeof elem.getAttribute === "undefined" ) {return jQuery.prop( elem, name, value );}// Attribute hooks are determined by the lowercase version// Grab necessary hook if one is definedif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {hooks = jQuery.attrHooks[ name.toLowerCase() ] ||( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );}if ( value !== undefined ) {if ( value === null ) {jQuery.removeAttr( elem, name );return;}if ( hooks && "set" in hooks &&( ret = hooks.set( elem, value, name ) ) !== undefined ) {return ret;}elem.setAttribute( name, value + "" );return value;}if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {return ret;}ret = jQuery.find.attr( elem, name );// Non-existent attributes return null, we normalize to undefinedreturn ret == null ? undefined : ret;},attrHooks: {type: {set: function( elem, value ) {if ( !support.radioValue && value === "radio" &&nodeName( elem, "input" ) ) {var val = elem.value;elem.setAttribute( "type", value );if ( val ) {elem.value = val;}return value;}}}},removeAttr: function( elem, value ) {var name,i = 0,// Attribute names can contain non-HTML whitespace characters// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2attrNames = value && value.match( rnothtmlwhite );if ( attrNames && elem.nodeType === 1 ) {while ( ( name = attrNames[ i++ ] ) ) {elem.removeAttribute( name );}}}} );// Hooks for boolean attributesboolHook = {set: function( elem, value, name ) {if ( value === false ) {// Remove boolean attributes when set to falsejQuery.removeAttr( elem, name );} else {elem.setAttribute( name, name );}return name;}};jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( _i, name ) {var getter = attrHandle[ name ] || jQuery.find.attr;attrHandle[ name ] = function( elem, name, isXML ) {var ret, handle,lowercaseName = name.toLowerCase();if ( !isXML ) {// Avoid an infinite loop by temporarily removing this function from the getterhandle = attrHandle[ lowercaseName ];attrHandle[ lowercaseName ] = ret;ret = getter( elem, name, isXML ) != null ?lowercaseName :null;attrHandle[ lowercaseName ] = handle;}return ret;};} );var rfocusable = /^(?:input|select|textarea|button)$/i,rclickable = /^(?:a|area)$/i;jQuery.fn.extend( {prop: function( name, value ) {return access( this, jQuery.prop, name, value, arguments.length > 1 );},removeProp: function( name ) {return this.each( function() {delete this[ jQuery.propFix[ name ] || name ];} );}} );jQuery.extend( {prop: function( elem, name, value ) {var ret, hooks,nType = elem.nodeType;// Don't get/set properties on text, comment and attribute nodesif ( nType === 3 || nType === 8 || nType === 2 ) {return;}if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {// Fix name and attach hooksname = jQuery.propFix[ name ] || name;hooks = jQuery.propHooks[ name ];}if ( value !== undefined ) {if ( hooks && "set" in hooks &&( ret = hooks.set( elem, value, name ) ) !== undefined ) {return ret;}return ( elem[ name ] = value );}if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {return ret;}return elem[ name ];},propHooks: {tabIndex: {get: function( elem ) {// Support: IE <=9 - 11 only// elem.tabIndex doesn't always return the// correct value when it hasn't been explicitly set// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/// Use proper attribute retrieval(#12072)var tabindex = jQuery.find.attr( elem, "tabindex" );if ( tabindex ) {return parseInt( tabindex, 10 );}if (rfocusable.test( elem.nodeName ) ||rclickable.test( elem.nodeName ) &&elem.href) {return 0;}return -1;}}},propFix: {"for": "htmlFor","class": "className"}} );// Support: IE <=11 only// Accessing the selectedIndex property// forces the browser to respect setting selected// on the option// The getter ensures a default option is selected// when in an optgroup// eslint rule "no-unused-expressions" is disabled for this code// since it considers such accessions noopif ( !support.optSelected ) {jQuery.propHooks.selected = {get: function( elem ) {/* eslint no-unused-expressions: "off" */var parent = elem.parentNode;if ( parent && parent.parentNode ) {parent.parentNode.selectedIndex;}return null;},set: function( elem ) {/* eslint no-unused-expressions: "off" */var parent = elem.parentNode;if ( parent ) {parent.selectedIndex;if ( parent.parentNode ) {parent.parentNode.selectedIndex;}}}};}jQuery.each( ["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"], function() {jQuery.propFix[ this.toLowerCase() ] = this;} );// Strip and collapse whitespace according to HTML spec// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespacefunction stripAndCollapse( value ) {var tokens = value.match( rnothtmlwhite ) || [];return tokens.join( " " );}function getClass( elem ) {return elem.getAttribute && elem.getAttribute( "class" ) || "";}function classesToArray( value ) {if ( Array.isArray( value ) ) {return value;}if ( typeof value === "string" ) {return value.match( rnothtmlwhite ) || [];}return [];}jQuery.fn.extend( {addClass: function( value ) {var classes, elem, cur, curValue, clazz, j, finalValue,i = 0;if ( isFunction( value ) ) {return this.each( function( j ) {jQuery( this ).addClass( value.call( this, j, getClass( this ) ) );} );}classes = classesToArray( value );if ( classes.length ) {while ( ( elem = this[ i++ ] ) ) {curValue = getClass( elem );cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );if ( cur ) {j = 0;while ( ( clazz = classes[ j++ ] ) ) {if ( cur.indexOf( " " + clazz + " " ) < 0 ) {cur += clazz + " ";}}// Only assign if different to avoid unneeded rendering.finalValue = stripAndCollapse( cur );if ( curValue !== finalValue ) {elem.setAttribute( "class", finalValue );}}}}return this;},removeClass: function( value ) {var classes, elem, cur, curValue, clazz, j, finalValue,i = 0;if ( isFunction( value ) ) {return this.each( function( j ) {jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );} );}if ( !arguments.length ) {return this.attr( "class", "" );}classes = classesToArray( value );if ( classes.length ) {while ( ( elem = this[ i++ ] ) ) {curValue = getClass( elem );// This expression is here for better compressibility (see addClass)cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );if ( cur ) {j = 0;while ( ( clazz = classes[ j++ ] ) ) {// Remove *all* instanceswhile ( cur.indexOf( " " + clazz + " " ) > -1 ) {cur = cur.replace( " " + clazz + " ", " " );}}// Only assign if different to avoid unneeded rendering.finalValue = stripAndCollapse( cur );if ( curValue !== finalValue ) {elem.setAttribute( "class", finalValue );}}}}return this;},toggleClass: function( value, stateVal ) {var type = typeof value,isValidValue = type === "string" || Array.isArray( value );if ( typeof stateVal === "boolean" && isValidValue ) {return stateVal ? this.addClass( value ) : this.removeClass( value );}if ( isFunction( value ) ) {return this.each( function( i ) {jQuery( this ).toggleClass(value.call( this, i, getClass( this ), stateVal ),stateVal);} );}return this.each( function() {var className, i, self, classNames;if ( isValidValue ) {// Toggle individual class namesi = 0;self = jQuery( this );classNames = classesToArray( value );while ( ( className = classNames[ i++ ] ) ) {// Check each className given, space separated listif ( self.hasClass( className ) ) {self.removeClass( className );} else {self.addClass( className );}}// Toggle whole class name} else if ( value === undefined || type === "boolean" ) {className = getClass( this );if ( className ) {// Store className if setdataPriv.set( this, "__className__", className );}// If the element has a class name or if we're passed `false`,// then remove the whole classname (if there was one, the above saved it).// Otherwise bring back whatever was previously saved (if anything),// falling back to the empty string if nothing was stored.if ( this.setAttribute ) {this.setAttribute( "class",className || value === false ?"" :dataPriv.get( this, "__className__" ) || "");}}} );},hasClass: function( selector ) {var className, elem,i = 0;className = " " + selector + " ";while ( ( elem = this[ i++ ] ) ) {if ( elem.nodeType === 1 &&( " " + stripAndCollapse( getClass( elem ) ) + " " ).indexOf( className ) > -1 ) {return true;}}return false;}} );var rreturn = /\r/g;jQuery.fn.extend( {val: function( value ) {var hooks, ret, valueIsFunction,elem = this[ 0 ];if ( !arguments.length ) {if ( elem ) {hooks = jQuery.valHooks[ elem.type ] ||jQuery.valHooks[ elem.nodeName.toLowerCase() ];if ( hooks &&"get" in hooks &&( ret = hooks.get( elem, "value" ) ) !== undefined) {return ret;}ret = elem.value;// Handle most common string casesif ( typeof ret === "string" ) {return ret.replace( rreturn, "" );}// Handle cases where value is null/undef or numberreturn ret == null ? "" : ret;}return;}valueIsFunction = isFunction( value );return this.each( function( i ) {var val;if ( this.nodeType !== 1 ) {return;}if ( valueIsFunction ) {val = value.call( this, i, jQuery( this ).val() );} else {val = value;}// Treat null/undefined as ""; convert numbers to stringif ( val == null ) {val = "";} else if ( typeof val === "number" ) {val += "";} else if ( Array.isArray( val ) ) {val = jQuery.map( val, function( value ) {return value == null ? "" : value + "";} );}hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];// If set returns undefined, fall back to normal settingif ( !hooks || !( "set" in hooks ) || hooks.set( this, val, "value" ) === undefined ) {this.value = val;}} );}} );jQuery.extend( {valHooks: {option: {get: function( elem ) {var val = jQuery.find.attr( elem, "value" );return val != null ?val :// Support: IE <=10 - 11 only// option.text throws exceptions (#14686, #14858)// Strip and collapse whitespace// https://html.spec.whatwg.org/#strip-and-collapse-whitespacestripAndCollapse( jQuery.text( elem ) );}},select: {get: function( elem ) {var value, option, i,options = elem.options,index = elem.selectedIndex,one = elem.type === "select-one",values = one ? null : [],max = one ? index + 1 : options.length;if ( index < 0 ) {i = max;} else {i = one ? index : 0;}// Loop through all the selected optionsfor ( ; i < max; i++ ) {option = options[ i ];// Support: IE <=9 only// IE8-9 doesn't update selected after form reset (#2551)if ( ( option.selected || i === index ) &&// Don't return options that are disabled or in a disabled optgroup!option.disabled &&( !option.parentNode.disabled ||!nodeName( option.parentNode, "optgroup" ) ) ) {// Get the specific value for the optionvalue = jQuery( option ).val();// We don't need an array for one selectsif ( one ) {return value;}// Multi-Selects return an arrayvalues.push( value );}}return values;},set: function( elem, value ) {var optionSet, option,options = elem.options,values = jQuery.makeArray( value ),i = options.length;while ( i-- ) {option = options[ i ];/* eslint-disable no-cond-assign */if ( option.selected =jQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1) {optionSet = true;}/* eslint-enable no-cond-assign */}// Force browsers to behave consistently when non-matching value is setif ( !optionSet ) {elem.selectedIndex = -1;}return values;}}}} );// Radios and checkboxes getter/setterjQuery.each( [ "radio", "checkbox" ], function() {jQuery.valHooks[ this ] = {set: function( elem, value ) {if ( Array.isArray( value ) ) {return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );}}};if ( !support.checkOn ) {jQuery.valHooks[ this ].get = function( elem ) {return elem.getAttribute( "value" ) === null ? "on" : elem.value;};}} );// Return jQuery for attributes-only inclusionsupport.focusin = "onfocusin" in window;var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,stopPropagationCallback = function( e ) {e.stopPropagation();};jQuery.extend( jQuery.event, {trigger: function( event, data, elem, onlyHandlers ) {var i, cur, tmp, bubbleType, ontype, handle, special, lastElement,eventPath = [ elem || document ],type = hasOwn.call( event, "type" ) ? event.type : event,namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split( "." ) : [];cur = lastElement = tmp = elem = elem || document;// Don't do events on text and comment nodesif ( elem.nodeType === 3 || elem.nodeType === 8 ) {return;}// focus/blur morphs to focusin/out; ensure we're not firing them right nowif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {return;}if ( type.indexOf( "." ) > -1 ) {// Namespaced trigger; create a regexp to match event type in handle()namespaces = type.split( "." );type = namespaces.shift();namespaces.sort();}ontype = type.indexOf( ":" ) < 0 && "on" + type;// Caller can pass in a jQuery.Event object, Object, or just an event type stringevent = event[ jQuery.expando ] ?event :new jQuery.Event( type, typeof event === "object" && event );// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)event.isTrigger = onlyHandlers ? 2 : 3;event.namespace = namespaces.join( "." );event.rnamespace = event.namespace ?new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" ) :null;// Clean up the event in case it is being reusedevent.result = undefined;if ( !event.target ) {event.target = elem;}// Clone any incoming data and prepend the event, creating the handler arg listdata = data == null ?[ event ] :jQuery.makeArray( data, [ event ] );// Allow special events to draw outside the linesspecial = jQuery.event.special[ type ] || {};if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {return;}// Determine event propagation path in advance, per W3C events spec (#9951)// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)if ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {bubbleType = special.delegateType || type;if ( !rfocusMorph.test( bubbleType + type ) ) {cur = cur.parentNode;}for ( ; cur; cur = cur.parentNode ) {eventPath.push( cur );tmp = cur;}// Only add window if we got to document (e.g., not plain obj or detached DOM)if ( tmp === ( elem.ownerDocument || document ) ) {eventPath.push( tmp.defaultView || tmp.parentWindow || window );}}// Fire handlers on the event pathi = 0;while ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {lastElement = cur;event.type = i > 1 ?bubbleType :special.bindType || type;// jQuery handlerhandle = ( dataPriv.get( cur, "events" ) || Object.create( null ) )[ event.type ] &&dataPriv.get( cur, "handle" );if ( handle ) {handle.apply( cur, data );}// Native handlerhandle = ontype && cur[ ontype ];if ( handle && handle.apply && acceptData( cur ) ) {event.result = handle.apply( cur, data );if ( event.result === false ) {event.preventDefault();}}}event.type = type;// If nobody prevented the default action, do it nowif ( !onlyHandlers && !event.isDefaultPrevented() ) {if ( ( !special._default ||special._default.apply( eventPath.pop(), data ) === false ) &&acceptData( elem ) ) {// Call a native DOM method on the target with the same name as the event.// Don't do default actions on window, that's where global variables be (#6170)if ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {// Don't re-trigger an onFOO event when we call its FOO() methodtmp = elem[ ontype ];if ( tmp ) {elem[ ontype ] = null;}// Prevent re-triggering of the same event, since we already bubbled it abovejQuery.event.triggered = type;if ( event.isPropagationStopped() ) {lastElement.addEventListener( type, stopPropagationCallback );}elem[ type ]();if ( event.isPropagationStopped() ) {lastElement.removeEventListener( type, stopPropagationCallback );}jQuery.event.triggered = undefined;if ( tmp ) {elem[ ontype ] = tmp;}}}}return event.result;},// Piggyback on a donor event to simulate a different one// Used only for `focus(in | out)` eventssimulate: function( type, elem, event ) {var e = jQuery.extend(new jQuery.Event(),event,{type: type,isSimulated: true});jQuery.event.trigger( e, null, elem );}} );jQuery.fn.extend( {trigger: function( type, data ) {return this.each( function() {jQuery.event.trigger( type, data, this );} );},triggerHandler: function( type, data ) {var elem = this[ 0 ];if ( elem ) {return jQuery.event.trigger( type, data, elem, true );}}} );// Support: Firefox <=44// Firefox doesn't have focus(in | out) events// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787//// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1// focus(in | out) events fire after focus & blur events,// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857if ( !support.focusin ) {jQuery.each( { focus: "focusin", blur: "focusout" }, function( orig, fix ) {// Attach a single capturing handler on the document while someone wants focusin/focusoutvar handler = function( event ) {jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );};jQuery.event.special[ fix ] = {setup: function() {// Handle: regular nodes (via `this.ownerDocument`), window// (via `this.document`) & document (via `this`).var doc = this.ownerDocument || this.document || this,attaches = dataPriv.access( doc, fix );if ( !attaches ) {doc.addEventListener( orig, handler, true );}dataPriv.access( doc, fix, ( attaches || 0 ) + 1 );},teardown: function() {var doc = this.ownerDocument || this.document || this,attaches = dataPriv.access( doc, fix ) - 1;if ( !attaches ) {doc.removeEventListener( orig, handler, true );dataPriv.remove( doc, fix );} else {dataPriv.access( doc, fix, attaches );}}};} );}var location = window.location;var nonce = { guid: Date.now() };var rquery = ( /\?/ );// Cross-browser xml parsingjQuery.parseXML = function( data ) {var xml, parserErrorElem;if ( !data || typeof data !== "string" ) {return null;}// Support: IE 9 - 11 only// IE throws on parseFromString with invalid input.try {xml = ( new window.DOMParser() ).parseFromString( data, "text/xml" );} catch ( e ) {}parserErrorElem = xml && xml.getElementsByTagName( "parsererror" )[ 0 ];if ( !xml || parserErrorElem ) {jQuery.error( "Invalid XML: " + (parserErrorElem ?jQuery.map( parserErrorElem.childNodes, function( el ) {return el.textContent;} ).join( "\n" ) :data) );}return xml;};varrbracket = /\[\]$/,rCRLF = /\r?\n/g,rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,rsubmittable = /^(?:input|select|textarea|keygen)/i;function buildParams( prefix, obj, traditional, add ) {var name;if ( Array.isArray( obj ) ) {// Serialize array item.jQuery.each( obj, function( i, v ) {if ( traditional || rbracket.test( prefix ) ) {// Treat each array item as a scalar.add( prefix, v );} else {// Item is non-scalar (array or object), encode its numeric index.buildParams(prefix + "[" + ( typeof v === "object" && v != null ? i : "" ) + "]",v,traditional,add);}} );} else if ( !traditional && toType( obj ) === "object" ) {// Serialize object item.for ( name in obj ) {buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );}} else {// Serialize scalar item.add( prefix, obj );}}// Serialize an array of form elements or a set of// key/values into a query stringjQuery.param = function( a, traditional ) {var prefix,s = [],add = function( key, valueOrFunction ) {// If value is a function, invoke it and use its return valuevar value = isFunction( valueOrFunction ) ?valueOrFunction() :valueOrFunction;s[ s.length ] = encodeURIComponent( key ) + "=" +encodeURIComponent( value == null ? "" : value );};if ( a == null ) {return "";}// If an array was passed in, assume that it is an array of form elements.if ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {// Serialize the form elementsjQuery.each( a, function() {add( this.name, this.value );} );} else {// If traditional, encode the "old" way (the way 1.3.2 or older// did it), otherwise encode params recursively.for ( prefix in a ) {buildParams( prefix, a[ prefix ], traditional, add );}}// Return the resulting serializationreturn s.join( "&" );};jQuery.fn.extend( {serialize: function() {return jQuery.param( this.serializeArray() );},serializeArray: function() {return this.map( function() {// Can add propHook for "elements" to filter or add form elementsvar elements = jQuery.prop( this, "elements" );return elements ? jQuery.makeArray( elements ) : this;} ).filter( function() {var type = this.type;// Use .is( ":disabled" ) so that fieldset[disabled] worksreturn this.name && !jQuery( this ).is( ":disabled" ) &&rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&( this.checked || !rcheckableType.test( type ) );} ).map( function( _i, elem ) {var val = jQuery( this ).val();if ( val == null ) {return null;}if ( Array.isArray( val ) ) {return jQuery.map( val, function( val ) {return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };} );}return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };} ).get();}} );varr20 = /%20/g,rhash = /#.*$/,rantiCache = /([?&])_=[^&]*/,rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,// #7653, #8125, #8152: local protocol detectionrlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent = /^(?:GET|HEAD)$/,rprotocol = /^\/\//,/* Prefilters * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example) * 2) These are called: *    - BEFORE asking for a transport *    - AFTER param serialization (s.data is a string if s.processData is true) * 3) key is the dataType * 4) the catchall symbol "*" can be used * 5) execution will start with transport dataType and THEN continue down to "*" if needed */prefilters = {},/* Transports bindings * 1) key is the dataType * 2) the catchall symbol "*" can be used * 3) selection will start with transport dataType and THEN go to "*" if needed */transports = {},// Avoid comment-prolog char sequence (#10098); must appease lint and evade compressionallTypes = "*/".concat( "*" ),// Anchor tag for parsing the document originoriginAnchor = document.createElement( "a" );originAnchor.href = location.href;// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransportfunction addToPrefiltersOrTransports( structure ) {// dataTypeExpression is optional and defaults to "*"return function( dataTypeExpression, func ) {if ( typeof dataTypeExpression !== "string" ) {func = dataTypeExpression;dataTypeExpression = "*";}var dataType,i = 0,dataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];if ( isFunction( func ) ) {// For each dataType in the dataTypeExpressionwhile ( ( dataType = dataTypes[ i++ ] ) ) {// Prepend if requestedif ( dataType[ 0 ] === "+" ) {dataType = dataType.slice( 1 ) || "*";( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );// Otherwise append} else {( structure[ dataType ] = structure[ dataType ] || [] ).push( func );}}}};}// Base inspection function for prefilters and transportsfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {var inspected = {},seekingTransport = ( structure === transports );function inspect( dataType ) {var selected;inspected[ dataType ] = true;jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );if ( typeof dataTypeOrTransport === "string" &&!seekingTransport && !inspected[ dataTypeOrTransport ] ) {options.dataTypes.unshift( dataTypeOrTransport );inspect( dataTypeOrTransport );return false;} else if ( seekingTransport ) {return !( selected = dataTypeOrTransport );}} );return selected;}return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );}// A special extend for ajax options// that takes "flat" options (not to be deep extended)// Fixes #9887function ajaxExtend( target, src ) {var key, deep,flatOptions = jQuery.ajaxSettings.flatOptions || {};for ( key in src ) {if ( src[ key ] !== undefined ) {( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];}}if ( deep ) {jQuery.extend( true, target, deep );}return target;}/* Handles responses to an ajax request: * - finds the right dataType (mediates between content-type and expected dataType) * - returns the corresponding response */function ajaxHandleResponses( s, jqXHR, responses ) {var ct, type, finalDataType, firstDataType,contents = s.contents,dataTypes = s.dataTypes;// Remove auto dataType and get content-type in the processwhile ( dataTypes[ 0 ] === "*" ) {dataTypes.shift();if ( ct === undefined ) {ct = s.mimeType || jqXHR.getResponseHeader( "Content-Type" );}}// Check if we're dealing with a known content-typeif ( ct ) {for ( type in contents ) {if ( contents[ type ] && contents[ type ].test( ct ) ) {dataTypes.unshift( type );break;}}}// Check to see if we have a response for the expected dataTypeif ( dataTypes[ 0 ] in responses ) {finalDataType = dataTypes[ 0 ];} else {// Try convertible dataTypesfor ( type in responses ) {if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[ 0 ] ] ) {finalDataType = type;break;}if ( !firstDataType ) {firstDataType = type;}}// Or just use first onefinalDataType = finalDataType || firstDataType;}// If we found a dataType// We add the dataType to the list if needed// and return the corresponding responseif ( finalDataType ) {if ( finalDataType !== dataTypes[ 0 ] ) {dataTypes.unshift( finalDataType );}return responses[ finalDataType ];}}/* Chain conversions given the request and the original response * Also sets the responseXXX fields on the jqXHR instance */function ajaxConvert( s, response, jqXHR, isSuccess ) {var conv2, current, conv, tmp, prev,converters = {},// Work with a copy of dataTypes in case we need to modify it for conversiondataTypes = s.dataTypes.slice();// Create converters map with lowercased keysif ( dataTypes[ 1 ] ) {for ( conv in s.converters ) {converters[ conv.toLowerCase() ] = s.converters[ conv ];}}current = dataTypes.shift();// Convert to each sequential dataTypewhile ( current ) {if ( s.responseFields[ current ] ) {jqXHR[ s.responseFields[ current ] ] = response;}// Apply the dataFilter if providedif ( !prev && isSuccess && s.dataFilter ) {response = s.dataFilter( response, s.dataType );}prev = current;current = dataTypes.shift();if ( current ) {// There's only work to do if current dataType is non-autoif ( current === "*" ) {current = prev;// Convert response if prev dataType is non-auto and differs from current} else if ( prev !== "*" && prev !== current ) {// Seek a direct converterconv = converters[ prev + " " + current ] || converters[ "* " + current ];// If none found, seek a pairif ( !conv ) {for ( conv2 in converters ) {// If conv2 outputs currenttmp = conv2.split( " " );if ( tmp[ 1 ] === current ) {// If prev can be converted to accepted inputconv = converters[ prev + " " + tmp[ 0 ] ] ||converters[ "* " + tmp[ 0 ] ];if ( conv ) {// Condense equivalence convertersif ( conv === true ) {conv = converters[ conv2 ];// Otherwise, insert the intermediate dataType} else if ( converters[ conv2 ] !== true ) {current = tmp[ 0 ];dataTypes.unshift( tmp[ 1 ] );}break;}}}}// Apply converter (if not an equivalence)if ( conv !== true ) {// Unless errors are allowed to bubble, catch and return themif ( conv && s.throws ) {response = conv( response );} else {try {response = conv( response );} catch ( e ) {return {state: "parsererror",error: conv ? e : "No conversion from " + prev + " to " + current};}}}}}}return { state: "success", data: response };}jQuery.extend( {// Counter for holding the number of active queriesactive: 0,// Last-Modified header cache for next requestlastModified: {},etag: {},ajaxSettings: {url: location.href,type: "GET",isLocal: rlocalProtocol.test( location.protocol ),global: true,processData: true,async: true,contentType: "application/x-www-form-urlencoded; charset=UTF-8",/*timeout: 0,data: null,dataType: null,username: null,password: null,cache: null,throws: false,traditional: false,headers: {},*/accepts: {"*": allTypes,text: "text/plain",html: "text/html",xml: "application/xml, text/xml",json: "application/json, text/javascript"},contents: {xml: /\bxml\b/,html: /\bhtml/,json: /\bjson\b/},responseFields: {xml: "responseXML",text: "responseText",json: "responseJSON"},// Data converters// Keys separate source (or catchall "*") and destination types with a single spaceconverters: {// Convert anything to text"* text": String,// Text to html (true = no transformation)"text html": true,// Evaluate text as a json expression"text json": JSON.parse,// Parse text as xml"text xml": jQuery.parseXML},// For options that shouldn't be deep extended:// you can add your own custom options here if// and when you create one that shouldn't be// deep extended (see ajaxExtend)flatOptions: {url: true,context: true}},// Creates a full fledged settings object into target// with both ajaxSettings and settings fields.// If target is omitted, writes into ajaxSettings.ajaxSetup: function( target, settings ) {return settings ?// Building a settings objectajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :// Extending ajaxSettingsajaxExtend( jQuery.ajaxSettings, target );},ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),ajaxTransport: addToPrefiltersOrTransports( transports ),// Main methodajax: function( url, options ) {// If url is an object, simulate pre-1.5 signatureif ( typeof url === "object" ) {options = url;url = undefined;}// Force options to be an objectoptions = options || {};var transport,// URL without anti-cache paramcacheURL,// Response headersresponseHeadersString,responseHeaders,// timeout handletimeoutTimer,// Url cleanup varurlAnchor,// Request state (becomes false upon send and true upon completion)completed,// To know if global events are to be dispatchedfireGlobals,// Loop variablei,// uncached part of the urluncached,// Create the final options objects = jQuery.ajaxSetup( {}, options ),// Callbacks contextcallbackContext = s.context || s,// Context for global events is callbackContext if it is a DOM node or jQuery collectionglobalEventContext = s.context &&( callbackContext.nodeType || callbackContext.jquery ) ?jQuery( callbackContext ) :jQuery.event,// Deferredsdeferred = jQuery.Deferred(),completeDeferred = jQuery.Callbacks( "once memory" ),// Status-dependent callbacksstatusCode = s.statusCode || {},// Headers (they are sent all at once)requestHeaders = {},requestHeadersNames = {},// Default abort messagestrAbort = "canceled",// Fake xhrjqXHR = {readyState: 0,// Builds headers hashtable if neededgetResponseHeader: function( key ) {var match;if ( completed ) {if ( !responseHeaders ) {responseHeaders = {};while ( ( match = rheaders.exec( responseHeadersString ) ) ) {responseHeaders[ match[ 1 ].toLowerCase() + " " ] =( responseHeaders[ match[ 1 ].toLowerCase() + " " ] || [] ).concat( match[ 2 ] );}}match = responseHeaders[ key.toLowerCase() + " " ];}return match == null ? null : match.join( ", " );},// Raw stringgetAllResponseHeaders: function() {return completed ? responseHeadersString : null;},// Caches the headersetRequestHeader: function( name, value ) {if ( completed == null ) {name = requestHeadersNames[ name.toLowerCase() ] =requestHeadersNames[ name.toLowerCase() ] || name;requestHeaders[ name ] = value;}return this;},// Overrides response content-type headeroverrideMimeType: function( type ) {if ( completed == null ) {s.mimeType = type;}return this;},// Status-dependent callbacksstatusCode: function( map ) {var code;if ( map ) {if ( completed ) {// Execute the appropriate callbacksjqXHR.always( map[ jqXHR.status ] );} else {// Lazy-add the new callbacks in a way that preserves old onesfor ( code in map ) {statusCode[ code ] = [ statusCode[ code ], map[ code ] ];}}}return this;},// Cancel the requestabort: function( statusText ) {var finalText = statusText || strAbort;if ( transport ) {transport.abort( finalText );}done( 0, finalText );return this;}};// Attach deferredsdeferred.promise( jqXHR );// Add protocol if not provided (prefilters might expect it)// Handle falsy url in the settings object (#10093: consistency with old signature)// We also use the url parameter if availables.url = ( ( url || s.url || location.href ) + "" ).replace( rprotocol, location.protocol + "//" );// Alias method option to type as per ticket #12004s.type = options.method || options.type || s.method || s.type;// Extract dataTypes lists.dataTypes = ( s.dataType || "*" ).toLowerCase().match( rnothtmlwhite ) || [ "" ];// A cross-domain request is in order when the origin doesn't match the current origin.if ( s.crossDomain == null ) {urlAnchor = document.createElement( "a" );// Support: IE <=8 - 11, Edge 12 - 15// IE throws exception on accessing the href property if url is malformed,// e.g. http://example.com:80x/try {urlAnchor.href = s.url;// Support: IE <=8 - 11 only// Anchor's host property isn't correctly set when s.url is relativeurlAnchor.href = urlAnchor.href;s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !==urlAnchor.protocol + "//" + urlAnchor.host;} catch ( e ) {// If there is an error parsing the URL, assume it is crossDomain,// it can be rejected by the transport if it is invalids.crossDomain = true;}}// Convert data if not already a stringif ( s.data && s.processData && typeof s.data !== "string" ) {s.data = jQuery.param( s.data, s.traditional );}// Apply prefiltersinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );// If request was aborted inside a prefilter, stop thereif ( completed ) {return jqXHR;}// We can fire global events as of now if asked to// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)fireGlobals = jQuery.event && s.global;// Watch for a new set of requestsif ( fireGlobals && jQuery.active++ === 0 ) {jQuery.event.trigger( "ajaxStart" );}// Uppercase the types.type = s.type.toUpperCase();// Determine if request has contents.hasContent = !rnoContent.test( s.type );// Save the URL in case we're toying with the If-Modified-Since// and/or If-None-Match header later on// Remove hash to simplify url manipulationcacheURL = s.url.replace( rhash, "" );// More options handling for requests with no contentif ( !s.hasContent ) {// Remember the hash so we can put it backuncached = s.url.slice( cacheURL.length );// If data is available and should be processed, append data to urlif ( s.data && ( s.processData || typeof s.data === "string" ) ) {cacheURL += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data;// #9682: remove data so that it's not used in an eventual retrydelete s.data;}// Add or update anti-cache param if neededif ( s.cache === false ) {cacheURL = cacheURL.replace( rantiCache, "$1" );uncached = ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + ( nonce.guid++ ) +uncached;}// Put hash and anti-cache on the URL that will be requested (gh-1732)s.url = cacheURL + uncached;// Change '%20' to '+' if this is encoded form body content (gh-2658)} else if ( s.data && s.processData &&( s.contentType || "" ).indexOf( "application/x-www-form-urlencoded" ) === 0 ) {s.data = s.data.replace( r20, "+" );}// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.if ( s.ifModified ) {if ( jQuery.lastModified[ cacheURL ] ) {jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );}if ( jQuery.etag[ cacheURL ] ) {jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );}}// Set the correct header, if data is being sentif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {jqXHR.setRequestHeader( "Content-Type", s.contentType );}// Set the Accepts header for the server, depending on the dataTypejqXHR.setRequestHeader("Accept",s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?s.accepts[ s.dataTypes[ 0 ] ] +( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :s.accepts[ "*" ]);// Check for headers optionfor ( i in s.headers ) {jqXHR.setRequestHeader( i, s.headers[ i ] );}// Allow custom headers/mimetypes and early abortif ( s.beforeSend &&( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {// Abort if not done already and returnreturn jqXHR.abort();}// Aborting is no longer a cancellationstrAbort = "abort";// Install callbacks on deferredscompleteDeferred.add( s.complete );jqXHR.done( s.success );jqXHR.fail( s.error );// Get transporttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );// If no transport, we auto-abortif ( !transport ) {done( -1, "No Transport" );} else {jqXHR.readyState = 1;// Send global eventif ( fireGlobals ) {globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );}// If request was aborted inside ajaxSend, stop thereif ( completed ) {return jqXHR;}// Timeoutif ( s.async && s.timeout > 0 ) {timeoutTimer = window.setTimeout( function() {jqXHR.abort( "timeout" );}, s.timeout );}try {completed = false;transport.send( requestHeaders, done );} catch ( e ) {// Rethrow post-completion exceptionsif ( completed ) {throw e;}// Propagate others as resultsdone( -1, e );}}// Callback for when everything is donefunction done( status, nativeStatusText, responses, headers ) {var isSuccess, success, error, response, modified,statusText = nativeStatusText;// Ignore repeat invocationsif ( completed ) {return;}completed = true;// Clear timeout if it existsif ( timeoutTimer ) {window.clearTimeout( timeoutTimer );}// Dereference transport for early garbage collection// (no matter how long the jqXHR object will be used)transport = undefined;// Cache response headersresponseHeadersString = headers || "";// Set readyStatejqXHR.readyState = status > 0 ? 4 : 0;// Determine if successfulisSuccess = status >= 200 && status < 300 || status === 304;// Get response dataif ( responses ) {response = ajaxHandleResponses( s, jqXHR, responses );}// Use a noop converter for missing script but not if jsonpif ( !isSuccess &&jQuery.inArray( "script", s.dataTypes ) > -1 &&jQuery.inArray( "json", s.dataTypes ) < 0 ) {s.converters[ "text script" ] = function() {};}// Convert no matter what (that way responseXXX fields are always set)response = ajaxConvert( s, response, jqXHR, isSuccess );// If successful, handle type chainingif ( isSuccess ) {// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.if ( s.ifModified ) {modified = jqXHR.getResponseHeader( "Last-Modified" );if ( modified ) {jQuery.lastModified[ cacheURL ] = modified;}modified = jqXHR.getResponseHeader( "etag" );if ( modified ) {jQuery.etag[ cacheURL ] = modified;}}// if no contentif ( status === 204 || s.type === "HEAD" ) {statusText = "nocontent";// if not modified} else if ( status === 304 ) {statusText = "notmodified";// If we have data, let's convert it} else {statusText = response.state;success = response.data;error = response.error;isSuccess = !error;}} else {// Extract error from statusText and normalize for non-abortserror = statusText;if ( status || !statusText ) {statusText = "error";if ( status < 0 ) {status = 0;}}}// Set data for the fake xhr objectjqXHR.status = status;jqXHR.statusText = ( nativeStatusText || statusText ) + "";// Success/Errorif ( isSuccess ) {deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );} else {deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );}// Status-dependent callbacksjqXHR.statusCode( statusCode );statusCode = undefined;if ( fireGlobals ) {globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",[ jqXHR, s, isSuccess ? success : error ] );}// CompletecompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );if ( fireGlobals ) {globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );// Handle the global AJAX counterif ( !( --jQuery.active ) ) {jQuery.event.trigger( "ajaxStop" );}}}return jqXHR;},getJSON: function( url, data, callback ) {return jQuery.get( url, data, callback, "json" );},getScript: function( url, callback ) {return jQuery.get( url, undefined, callback, "script" );}} );jQuery.each( [ "get", "post" ], function( _i, method ) {jQuery[ method ] = function( url, data, callback, type ) {// Shift arguments if data argument was omittedif ( isFunction( data ) ) {type = type || callback;callback = data;data = undefined;}// The url can be an options object (which then must have .url)return jQuery.ajax( jQuery.extend( {url: url,type: method,dataType: type,data: data,success: callback}, jQuery.isPlainObject( url ) && url ) );};} );jQuery.ajaxPrefilter( function( s ) {var i;for ( i in s.headers ) {if ( i.toLowerCase() === "content-type" ) {s.contentType = s.headers[ i ] || "";}}} );jQuery._evalUrl = function( url, options, doc ) {return jQuery.ajax( {url: url,// Make this explicit, since user can override this through ajaxSetup (#11264)type: "GET",dataType: "script",cache: true,async: false,global: false,// Only evaluate the response if it is successful (gh-4126)// dataFilter is not invoked for failure responses, so using it instead// of the default converter is kludgy but it works.converters: {"text script": function() {}},dataFilter: function( response ) {jQuery.globalEval( response, options, doc );}} );};jQuery.fn.extend( {wrapAll: function( html ) {var wrap;if ( this[ 0 ] ) {if ( isFunction( html ) ) {html = html.call( this[ 0 ] );}// The elements to wrap the target aroundwrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );if ( this[ 0 ].parentNode ) {wrap.insertBefore( this[ 0 ] );}wrap.map( function() {var elem = this;while ( elem.firstElementChild ) {elem = elem.firstElementChild;}return elem;} ).append( this );}return this;},wrapInner: function( html ) {if ( isFunction( html ) ) {return this.each( function( i ) {jQuery( this ).wrapInner( html.call( this, i ) );} );}return this.each( function() {var self = jQuery( this ),contents = self.contents();if ( contents.length ) {contents.wrapAll( html );} else {self.append( html );}} );},wrap: function( html ) {var htmlIsFunction = isFunction( html );return this.each( function( i ) {jQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );} );},unwrap: function( selector ) {this.parent( selector ).not( "body" ).each( function() {jQuery( this ).replaceWith( this.childNodes );} );return this;}} );jQuery.expr.pseudos.hidden = function( elem ) {return !jQuery.expr.pseudos.visible( elem );};jQuery.expr.pseudos.visible = function( elem ) {return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );};jQuery.ajaxSettings.xhr = function() {try {return new window.XMLHttpRequest();} catch ( e ) {}};var xhrSuccessStatus = {// File protocol always yields status code 0, assume 2000: 200,// Support: IE <=9 only// #1450: sometimes IE returns 1223 when it should be 2041223: 204},xhrSupported = jQuery.ajaxSettings.xhr();support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );support.ajax = xhrSupported = !!xhrSupported;jQuery.ajaxTransport( function( options ) {var callback, errorCallback;// Cross domain only allowed if supported through XMLHttpRequestif ( support.cors || xhrSupported && !options.crossDomain ) {return {send: function( headers, complete ) {var i,xhr = options.xhr();xhr.open(options.type,options.url,options.async,options.username,options.password);// Apply custom fields if providedif ( options.xhrFields ) {for ( i in options.xhrFields ) {xhr[ i ] = options.xhrFields[ i ];}}// Override mime type if neededif ( options.mimeType && xhr.overrideMimeType ) {xhr.overrideMimeType( options.mimeType );}// X-Requested-With header// For cross-domain requests, seeing as conditions for a preflight are// akin to a jigsaw puzzle, we simply never set it to be sure.// (it can always be set on a per-request basis or even using ajaxSetup)// For same-domain requests, won't change header if already provided.if ( !options.crossDomain && !headers[ "X-Requested-With" ] ) {headers[ "X-Requested-With" ] = "XMLHttpRequest";}// Set headersfor ( i in headers ) {xhr.setRequestHeader( i, headers[ i ] );}// Callbackcallback = function( type ) {return function() {if ( callback ) {callback = errorCallback = xhr.onload =xhr.onerror = xhr.onabort = xhr.ontimeout =xhr.onreadystatechange = null;if ( type === "abort" ) {xhr.abort();} else if ( type === "error" ) {// Support: IE <=9 only// On a manual native abort, IE9 throws// errors on any property access that is not readyStateif ( typeof xhr.status !== "number" ) {complete( 0, "error" );} else {complete(// File: protocol always yields status 0; see #8605, #14207xhr.status,xhr.statusText);}} else {complete(xhrSuccessStatus[ xhr.status ] || xhr.status,xhr.statusText,// Support: IE <=9 only// IE9 has no XHR2 but throws on binary (trac-11426)// For XHR2 non-text, let the caller handle it (gh-2498)( xhr.responseType || "text" ) !== "text"  ||typeof xhr.responseText !== "string" ?{ binary: xhr.response } :{ text: xhr.responseText },xhr.getAllResponseHeaders());}}};};// Listen to eventsxhr.onload = callback();errorCallback = xhr.onerror = xhr.ontimeout = callback( "error" );// Support: IE 9 only// Use onreadystatechange to replace onabort// to handle uncaught abortsif ( xhr.onabort !== undefined ) {xhr.onabort = errorCallback;} else {xhr.onreadystatechange = function() {// Check readyState before timeout as it changesif ( xhr.readyState === 4 ) {// Allow onerror to be called first,// but that will not handle a native abort// Also, save errorCallback to a variable// as xhr.onerror cannot be accessedwindow.setTimeout( function() {if ( callback ) {errorCallback();}} );}};}// Create the abort callbackcallback = callback( "abort" );try {// Do send the request (this may raise an exception)xhr.send( options.hasContent && options.data || null );} catch ( e ) {// #14683: Only rethrow if this hasn't been notified as an error yetif ( callback ) {throw e;}}},abort: function() {if ( callback ) {callback();}}};}} );// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)jQuery.ajaxPrefilter( function( s ) {if ( s.crossDomain ) {s.contents.script = false;}} );// Install script dataTypejQuery.ajaxSetup( {accepts: {script: "text/javascript, application/javascript, " +"application/ecmascript, application/x-ecmascript"},contents: {script: /\b(?:java|ecma)script\b/},converters: {"text script": function( text ) {jQuery.globalEval( text );return text;}}} );// Handle cache's special case and crossDomainjQuery.ajaxPrefilter( "script", function( s ) {if ( s.cache === undefined ) {s.cache = false;}if ( s.crossDomain ) {s.type = "GET";}} );// Bind script tag hack transportjQuery.ajaxTransport( "script", function( s ) {// This transport only deals with cross domain or forced-by-attrs requestsif ( s.crossDomain || s.scriptAttrs ) {var script, callback;return {send: function( _, complete ) {script = jQuery( "<script>" ).attr( s.scriptAttrs || {} ).prop( { charset: s.scriptCharset, src: s.url } ).on( "load error", callback = function( evt ) {script.remove();callback = null;if ( evt ) {complete( evt.type === "error" ? 404 : 200, evt.type );}} );// Use native DOM manipulation to avoid our domManip AJAX trickerydocument.head.appendChild( script[ 0 ] );},abort: function() {if ( callback ) {callback();}}};}} );var oldCallbacks = [],rjsonp = /(=)\?(?=&|$)|\?\?/;// Default jsonp settingsjQuery.ajaxSetup( {jsonp: "callback",jsonpCallback: function() {var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce.guid++ ) );this[ callback ] = true;return callback;}} );// Detect, normalize options and install callbacks for jsonp requestsjQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {var callbackName, overwritten, responseContainer,jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?"url" :typeof s.data === "string" &&( s.contentType || "" ).indexOf( "application/x-www-form-urlencoded" ) === 0 &&rjsonp.test( s.data ) && "data");// Handle iff the expected data type is "jsonp" or we have a parameter to setif ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {// Get callback name, remembering preexisting value associated with itcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?s.jsonpCallback() :s.jsonpCallback;// Insert callback into url or form dataif ( jsonProp ) {s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );} else if ( s.jsonp !== false ) {s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;}// Use data converter to retrieve json after script executions.converters[ "script json" ] = function() {if ( !responseContainer ) {jQuery.error( callbackName + " was not called" );}return responseContainer[ 0 ];};// Force json dataTypes.dataTypes[ 0 ] = "json";// Install callbackoverwritten = window[ callbackName ];window[ callbackName ] = function() {responseContainer = arguments;};// Clean-up function (fires after converters)jqXHR.always( function() {// If previous value didn't exist - remove itif ( overwritten === undefined ) {jQuery( window ).removeProp( callbackName );// Otherwise restore preexisting value} else {window[ callbackName ] = overwritten;}// Save back as freeif ( s[ callbackName ] ) {// Make sure that re-using the options doesn't screw things arounds.jsonpCallback = originalSettings.jsonpCallback;// Save the callback name for future useoldCallbacks.push( callbackName );}// Call if it was a function and we have a responseif ( responseContainer && isFunction( overwritten ) ) {overwritten( responseContainer[ 0 ] );}responseContainer = overwritten = undefined;} );// Delegate to scriptreturn "script";}} );// Support: Safari 8 only// In Safari 8 documents created via document.implementation.createHTMLDocument// collapse sibling forms: the second one becomes a child of the first one.// Because of that, this security measure has to be disabled in Safari 8.// https://bugs.webkit.org/show_bug.cgi?id=137337support.createHTMLDocument = ( function() {var body = document.implementation.createHTMLDocument( "" ).body;body.innerHTML = "<form></form><form></form>";return body.childNodes.length === 2;} )();// Argument "data" should be string of html// context (optional): If specified, the fragment will be created in this context,// defaults to document// keepScripts (optional): If true, will include scripts passed in the html stringjQuery.parseHTML = function( data, context, keepScripts ) {if ( typeof data !== "string" ) {return [];}if ( typeof context === "boolean" ) {keepScripts = context;context = false;}var base, parsed, scripts;if ( !context ) {// Stop scripts or inline event handlers from being executed immediately// by using document.implementationif ( support.createHTMLDocument ) {context = document.implementation.createHTMLDocument( "" );// Set the base href for the created document// so any parsed elements with URLs// are based on the document's URL (gh-2965)base = context.createElement( "base" );base.href = document.location.href;context.head.appendChild( base );} else {context = document;}}parsed = rsingleTag.exec( data );scripts = !keepScripts && [];// Single tagif ( parsed ) {return [ context.createElement( parsed[ 1 ] ) ];}parsed = buildFragment( [ data ], context, scripts );if ( scripts && scripts.length ) {jQuery( scripts ).remove();}return jQuery.merge( [], parsed.childNodes );};/** * Load a url into a page */jQuery.fn.load = function( url, params, callback ) {var selector, type, response,self = this,off = url.indexOf( " " );if ( off > -1 ) {selector = stripAndCollapse( url.slice( off ) );url = url.slice( 0, off );}// If it's a functionif ( isFunction( params ) ) {// We assume that it's the callbackcallback = params;params = undefined;// Otherwise, build a param string} else if ( params && typeof params === "object" ) {type = "POST";}// If we have elements to modify, make the requestif ( self.length > 0 ) {jQuery.ajax( {url: url,// If "type" variable is undefined, then "GET" method will be used.// Make value of this field explicit since// user can override it through ajaxSetup methodtype: type || "GET",dataType: "html",data: params} ).done( function( responseText ) {// Save response for use in complete callbackresponse = arguments;self.html( selector ?// If a selector was specified, locate the right elements in a dummy div// Exclude scripts to avoid IE 'Permission Denied' errorsjQuery( "<div>" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :// Otherwise use the full resultresponseText );// If the request succeeds, this function gets "data", "status", "jqXHR"// but they are ignored because response was set above.// If it fails, this function gets "jqXHR", "status", "error"} ).always( callback && function( jqXHR, status ) {self.each( function() {callback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );} );} );}return this;};jQuery.expr.pseudos.animated = function( elem ) {return jQuery.grep( jQuery.timers, function( fn ) {return elem === fn.elem;} ).length;};jQuery.offset = {setOffset: function( elem, options, i ) {var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,position = jQuery.css( elem, "position" ),curElem = jQuery( elem ),props = {};// Set position first, in-case top/left are set even on static elemif ( position === "static" ) {elem.style.position = "relative";}curOffset = curElem.offset();curCSSTop = jQuery.css( elem, "top" );curCSSLeft = jQuery.css( elem, "left" );calculatePosition = ( position === "absolute" || position === "fixed" ) &&( curCSSTop + curCSSLeft ).indexOf( "auto" ) > -1;// Need to be able to calculate position if either// top or left is auto and position is either absolute or fixedif ( calculatePosition ) {curPosition = curElem.position();curTop = curPosition.top;curLeft = curPosition.left;} else {curTop = parseFloat( curCSSTop ) || 0;curLeft = parseFloat( curCSSLeft ) || 0;}if ( isFunction( options ) ) {// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)options = options.call( elem, i, jQuery.extend( {}, curOffset ) );}if ( options.top != null ) {props.top = ( options.top - curOffset.top ) + curTop;}if ( options.left != null ) {props.left = ( options.left - curOffset.left ) + curLeft;}if ( "using" in options ) {options.using.call( elem, props );} else {curElem.css( props );}}};jQuery.fn.extend( {// offset() relates an element's border box to the document originoffset: function( options ) {// Preserve chaining for setterif ( arguments.length ) {return options === undefined ?this :this.each( function( i ) {jQuery.offset.setOffset( this, options, i );} );}var rect, win,elem = this[ 0 ];if ( !elem ) {return;}// Return zeros for disconnected and hidden (display: none) elements (gh-2310)// Support: IE <=11 only// Running getBoundingClientRect on a// disconnected node in IE throws an errorif ( !elem.getClientRects().length ) {return { top: 0, left: 0 };}// Get document-relative position by adding viewport scroll to viewport-relative gBCRrect = elem.getBoundingClientRect();win = elem.ownerDocument.defaultView;return {top: rect.top + win.pageYOffset,left: rect.left + win.pageXOffset};},// position() relates an element's margin box to its offset parent's padding box// This corresponds to the behavior of CSS absolute positioningposition: function() {if ( !this[ 0 ] ) {return;}var offsetParent, offset, doc,elem = this[ 0 ],parentOffset = { top: 0, left: 0 };// position:fixed elements are offset from the viewport, which itself always has zero offsetif ( jQuery.css( elem, "position" ) === "fixed" ) {// Assume position:fixed implies availability of getBoundingClientRectoffset = elem.getBoundingClientRect();} else {offset = this.offset();// Account for the *real* offset parent, which can be the document or its root element// when a statically positioned element is identifieddoc = elem.ownerDocument;offsetParent = elem.offsetParent || doc.documentElement;while ( offsetParent &&( offsetParent === doc.body || offsetParent === doc.documentElement ) &&jQuery.css( offsetParent, "position" ) === "static" ) {offsetParent = offsetParent.parentNode;}if ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {// Incorporate borders into its offset, since they are outside its content originparentOffset = jQuery( offsetParent ).offset();parentOffset.top += jQuery.css( offsetParent, "borderTopWidth", true );parentOffset.left += jQuery.css( offsetParent, "borderLeftWidth", true );}}// Subtract parent offsets and element marginsreturn {top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )};},// This method will return documentElement in the following cases:// 1) For the element inside the iframe without offsetParent, this method will return//    documentElement of the parent window// 2) For the hidden or detached element// 3) For body or html element, i.e. in case of the html node - it will return itself//// but those exceptions were never presented as a real life use-cases// and might be considered as more preferable results.//// This logic, however, is not guaranteed and can change at any point in the futureoffsetParent: function() {return this.map( function() {var offsetParent = this.offsetParent;while ( offsetParent && jQuery.css( offsetParent, "position" ) === "static" ) {offsetParent = offsetParent.offsetParent;}return offsetParent || documentElement;} );}} );// Create scrollLeft and scrollTop methodsjQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {var top = "pageYOffset" === prop;jQuery.fn[ method ] = function( val ) {return access( this, function( elem, method, val ) {// Coalesce documents and windowsvar win;if ( isWindow( elem ) ) {win = elem;} else if ( elem.nodeType === 9 ) {win = elem.defaultView;}if ( val === undefined ) {return win ? win[ prop ] : elem[ method ];}if ( win ) {win.scrollTo(!top ? val : win.pageXOffset,top ? val : win.pageYOffset);} else {elem[ method ] = val;}}, method, val, arguments.length );};} );// Support: Safari <=7 - 9.1, Chrome <=37 - 49// Add the top/left cssHooks using jQuery.fn.position// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347// getComputedStyle returns percent when specified for top/left/bottom/right;// rather than make the css module depend on the offset module, just check for it herejQuery.each( [ "top", "left" ], function( _i, prop ) {jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,function( elem, computed ) {if ( computed ) {computed = curCSS( elem, prop );// If curCSS returns percentage, fallback to offsetreturn rnumnonpx.test( computed ) ?jQuery( elem ).position()[ prop ] + "px" :computed;}});} );// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methodsjQuery.each( { Height: "height", Width: "width" }, function( name, type ) {jQuery.each( {padding: "inner" + name,content: type,"": "outer" + name}, function( defaultExtra, funcName ) {// Margin is only for outerHeight, outerWidthjQuery.fn[ funcName ] = function( margin, value ) {var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );return access( this, function( elem, type, value ) {var doc;if ( isWindow( elem ) ) {// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)return funcName.indexOf( "outer" ) === 0 ?elem[ "inner" + name ] :elem.document.documentElement[ "client" + name ];}// Get document width or heightif ( elem.nodeType === 9 ) {doc = elem.documentElement;// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],// whichever is greatestreturn Math.max(elem.body[ "scroll" + name ], doc[ "scroll" + name ],elem.body[ "offset" + name ], doc[ "offset" + name ],doc[ "client" + name ]);}return value === undefined ?// Get width or height on the element, requesting but not forcing parseFloatjQuery.css( elem, type, extra ) :// Set width or height on the elementjQuery.style( elem, type, value, extra );}, type, chainable ? margin : undefined, chainable );};} );} );jQuery.each( ["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"], function( _i, type ) {jQuery.fn[ type ] = function( fn ) {return this.on( type, fn );};} );jQuery.fn.extend( {bind: function( types, data, fn ) {return this.on( types, null, data, fn );},unbind: function( types, fn ) {return this.off( types, null, fn );},delegate: function( selector, types, data, fn ) {return this.on( types, selector, data, fn );},undelegate: function( selector, types, fn ) {// ( namespace ) or ( selector, types [, fn] )return arguments.length === 1 ?this.off( selector, "**" ) :this.off( types, selector || "**", fn );},hover: function( fnOver, fnOut ) {return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );}} );jQuery.each(( "blur focus focusin focusout resize scroll click dblclick " +"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +"change select submit keydown keypress keyup contextmenu" ).split( " " ),function( _i, name ) {// Handle event bindingjQuery.fn[ name ] = function( data, fn ) {return arguments.length > 0 ?this.on( name, null, data, fn ) :this.trigger( name );};});// Support: Android <=4.0 only// Make sure we trim BOM and NBSPvar rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;// Bind a function to a context, optionally partially applying any// arguments.// jQuery.proxy is deprecated to promote standards (specifically Function#bind)// However, it is not slated for removal any time soonjQuery.proxy = function( fn, context ) {var tmp, args, proxy;if ( typeof context === "string" ) {tmp = fn[ context ];context = fn;fn = tmp;}// Quick check to determine if target is callable, in the spec// this throws a TypeError, but we will just return undefined.if ( !isFunction( fn ) ) {return undefined;}// Simulated bindargs = slice.call( arguments, 2 );proxy = function() {return fn.apply( context || this, args.concat( slice.call( arguments ) ) );};// Set the guid of unique handler to the same of original handler, so it can be removedproxy.guid = fn.guid = fn.guid || jQuery.guid++;return proxy;};jQuery.holdReady = function( hold ) {if ( hold ) {jQuery.readyWait++;} else {jQuery.ready( true );}};jQuery.isArray = Array.isArray;jQuery.parseJSON = JSON.parse;jQuery.nodeName = nodeName;jQuery.isFunction = isFunction;jQuery.isWindow = isWindow;jQuery.camelCase = camelCase;jQuery.type = toType;jQuery.now = Date.now;jQuery.isNumeric = function( obj ) {// As of jQuery 3.0, isNumeric is limited to// strings and numbers (primitives or objects)// that can be coerced to finite numbers (gh-2662)var type = jQuery.type( obj );return ( type === "number" || type === "string" ) &&// parseFloat NaNs numeric-cast false positives ("")// ...but misinterprets leading-number strings, particularly hex literals ("0x...")// subtraction forces infinities to NaN!isNaN( obj - parseFloat( obj ) );};jQuery.trim = function( text ) {return text == null ?"" :( text + "" ).replace( rtrim, "" );};// Register as a named AMD module, since jQuery can be concatenated with other// files that may use define, but not via a proper concatenation script that// understands anonymous AMD modules. A named AMD is safest and most robust// way to register. Lowercase jquery is used because AMD module names are// derived from file names, and jQuery is normally delivered in a lowercase// file name. Do this after creating the global so that if an AMD module wants// to call noConflict to hide this version of jQuery, it will work.// Note that for maximum portability, libraries that are not jQuery should// declare themselves as anonymous modules, and avoid setting a global if an// AMD loader is present. jQuery is a special case. For more information, see// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anonif ( typeof define === "function" && define.amd ) {define( "jquery", [], function() {return jQuery;} );}var// Map over jQuery in case of overwrite_jQuery = window.jQuery,// Map over the $ in case of overwrite_$ = window.$;jQuery.noConflict = function( deep ) {if ( window.$ === jQuery ) {window.$ = _$;}if ( deep && window.jQuery === jQuery ) {window.jQuery = _jQuery;}return jQuery;};// Expose jQuery and $ identifiers, even in AMD// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)// and CommonJS for browser emulators (#13566)if ( typeof noGlobal === "undefined" ) {window.jQuery = window.$ = jQuery;}return jQuery;} );]]></content>
      
    </entry>
    
    
  
</search>
